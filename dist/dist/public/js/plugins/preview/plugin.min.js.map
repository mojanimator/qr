{"version":3,"sources":["../../../../../public/js/plugins/preview/plugin.min.js"],"names":["e","tinymce","util","Tools","resolve","l","m","getParam","u","y","n","t","i","dom","encode","documentBaseURI","getURI","o","each","contentCSS","toAbsolute","r","settings","body_id","indexOf","id","a","body_class","c","mac","s","getBody","dir","d","getContent","addCommand","windowManager","open","title","size","body","type","items","name","sandboxed","buttons","text","primary","initialData","preview","focus","ui","registry","addButton","icon","tooltip","onAction","execCommand","addMenuItem","add"],"mappings":"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","file":"plugin.min.js","sourcesContent":["\"use strict\";\n\n/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function () {\n  \"use strict\";\n  var e = tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),\n      l = tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),\n      m = function m(e) {\n    return e.getParam(\"content_style\", \"\");\n  },\n      u = function u(e) {\n    return e.getParam(\"content_css_cors\", !1, \"boolean\");\n  },\n      y = tinymce.util.Tools.resolve(\"tinymce.Env\"),\n      n = function n(t) {\n    var n = \"\",\n        i = t.dom.encode,\n        e = m(t);n += '<base href=\"' + i(t.documentBaseURI.getURI()) + '\">', e && (n += '<style type=\"text/css\">' + e + \"</style>\");var o = u(t) ? ' crossorigin=\"anonymous\"' : \"\";l.each(t.contentCSS, function (e) {\n      n += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + i(t.documentBaseURI.toAbsolute(e)) + '\"' + o + \">\";\n    });var r = t.settings.body_id || \"tinymce\";-1 !== r.indexOf(\"=\") && (r = (r = t.getParam(\"body_id\", \"\", \"hash\"))[t.id] || r);var a = t.settings.body_class || \"\";-1 !== a.indexOf(\"=\") && (a = (a = t.getParam(\"body_class\", \"\", \"hash\"))[t.id] || \"\");var c = '<script>document.addEventListener && document.addEventListener(\"click\", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === \"A\" && !(' + (y.mac ? \"e.metaKey\" : \"e.ctrlKey && !e.altKey\") + \")) {e.preventDefault();}}}, false);<\\/script> \",\n        s = t.getBody().dir,\n        d = s ? ' dir=\"' + i(s) + '\"' : \"\";return \"<!DOCTYPE html><html><head>\" + n + '</head><body id=\"' + i(r) + '\" class=\"mce-content-body ' + i(a) + '\"' + d + \">\" + t.getContent() + c + \"</body></html>\";\n  },\n      t = function t(e) {\n    e.addCommand(\"mcePreview\", function () {\n      !function (e) {\n        var t = n(e);e.windowManager.open({ title: \"Preview\", size: \"large\", body: { type: \"panel\", items: [{ name: \"preview\", type: \"iframe\", sandboxed: !0 }] }, buttons: [{ type: \"cancel\", name: \"close\", text: \"Close\", primary: !0 }], initialData: { preview: t } }).focus(\"close\");\n      }(e);\n    });\n  },\n      i = function i(e) {\n    e.ui.registry.addButton(\"preview\", { icon: \"preview\", tooltip: \"Preview\", onAction: function onAction() {\n        return e.execCommand(\"mcePreview\");\n      } }), e.ui.registry.addMenuItem(\"preview\", { icon: \"preview\", text: \"Preview\", onAction: function onAction() {\n        return e.execCommand(\"mcePreview\");\n      } });\n  };!function o() {\n    e.add(\"preview\", function (e) {\n      t(e), i(e);\n    });\n  }();\n}();\n//# sourceMappingURL=plugin.min.js.map"]}