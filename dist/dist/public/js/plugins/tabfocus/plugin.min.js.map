{"version":3,"sources":["../../../../../public/js/plugins/tabfocus/plugin.min.js"],"names":["c","t","e","keyCode","d","TAB","ctrlKey","altKey","metaKey","preventDefault","tinymce","util","Tools","resolve","n","s","a","y","f","m","getParam","v","DOM","i","r","o","l","isDefaultPrevented","explode","length","shiftKey","u","get","id","name","focus","setTimeout","webkit","window","test","tagName","tabIndex","nodeName","type","style","display","visibility","parentNode","select","each","on","inline","setAttrib","getBody","gecko","add"],"mappings":"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","file":"plugin.min.js","sourcesContent":["\"use strict\";\n\n/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function (c) {\n  \"use strict\";\n  function t(e) {\n    e.keyCode !== d.TAB || e.ctrlKey || e.altKey || e.metaKey || e.preventDefault();\n  }var e = tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),\n      n = tinymce.util.Tools.resolve(\"tinymce.dom.DOMUtils\"),\n      s = tinymce.util.Tools.resolve(\"tinymce.EditorManager\"),\n      a = tinymce.util.Tools.resolve(\"tinymce.Env\"),\n      y = tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),\n      f = tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),\n      d = tinymce.util.Tools.resolve(\"tinymce.util.VK\"),\n      m = function m(e) {\n    return e.getParam(\"tab_focus\", function (e) {\n      return e.getParam(\"tabfocus_elements\", \":prev,:next\");\n    }(e));\n  },\n      v = n.DOM,\n      i = function i(r) {\n    function e(n) {\n      var i, o, e, l;if (!(n.keyCode !== d.TAB || n.ctrlKey || n.altKey || n.metaKey || n.isDefaultPrevented()) && (1 === (e = f.explode(m(r))).length && (e[1] = e[0], e[0] = \":prev\"), o = n.shiftKey ? \":prev\" === e[0] ? u(-1) : v.get(e[0]) : \":next\" === e[1] ? u(1) : v.get(e[1]))) {\n        var t = s.get(o.id || o.name);o.id && t ? t.focus() : y.setTimeout(function () {\n          a.webkit || c.window.focus(), o.focus();\n        }, 10), n.preventDefault();\n      }function u(e) {\n        function t(e) {\n          return (/INPUT|TEXTAREA|BUTTON/.test(e.tagName) && s.get(n.id) && -1 !== e.tabIndex && function t(e) {\n              return \"BODY\" === e.nodeName || \"hidden\" !== e.type && \"none\" !== e.style.display && \"hidden\" !== e.style.visibility && t(e.parentNode);\n            }(e)\n          );\n        }if (o = v.select(\":input:enabled,*[tabindex]:not(iframe)\"), f.each(o, function (e, t) {\n          if (e.id === r.id) return i = t, !1;\n        }), 0 < e) {\n          for (l = i + 1; l < o.length; l++) {\n            if (t(o[l])) return o[l];\n          }\n        } else for (l = i - 1; 0 <= l; l--) {\n          if (t(o[l])) return o[l];\n        }return null;\n      }\n    }r.on(\"init\", function () {\n      r.inline && v.setAttrib(r.getBody(), \"tabIndex\", null), r.on(\"keyup\", t), a.gecko ? r.on(\"keypress keydown\", e) : r.on(\"keydown\", e);\n    });\n  };!function o() {\n    e.add(\"tabfocus\", function (e) {\n      i(e);\n    });\n  }();\n}(window);\n//# sourceMappingURL=plugin.min.js.map"]}