{"version":3,"sources":["../../../../../public/js/plugins/textpattern/plugin.min.js"],"names":["f","r","t","n","e","get","set","clone","tinymce","util","Tools","resolve","u","Object","assign","arguments","length","o","prototype","hasOwnProperty","call","apply","a","l","i","c","s","fold","is","isSome","isNone","getOr","g","getOrThunk","m","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","d","equals_","toArray","toString","freeze","p","Array","isPrototypeOf","constructor","name","String","h","lt","v","y","b","push","k","O","w","errors","values","x","type","C","E","st","sort","start","T","yt","error","message","pattern","format","cmd","it","value","ft","ut","end","replacement","R","N","inlinePatterns","blockPatterns","P","kt","console","log","S","gt","at","from","none","Ot","M","getParam","A","nodeType","Node","TEXT_NODE","I","startContainer","parentNode","endContainer","deleteContents","data","remove","Tt","j","some","B","D","indexOf","lastIndexOf","_","dom","getParent","isBlock","getBody","U","element","offset","q","Et","next","prev","prev2","L","V","childNodes","reverse","W","X","slice","pop","node","z","document","createRange","setStart","setEnd","F","Nt","createRng","G","selection","getBookmark","getRoot","range","formatter","undoManager","transact","execCommand","moveToBookmark","H","create","id","J","setStartAfter","setEndBefore","K","endOffset","splitText","startOffset","prefix","insertBefore","Q","Y","Mt","abort","substring","charAt","Rt","kontinue","finish","textContent","Z","position","matches","startRng","endRng","It","remainingPatterns","concat","$","setRng","tt","Date","getTime","Math","floor","random","At","endMarker","startMarker","nt","getRng","collapsed","et","rt","ot","ct","dt","keys","mt","pt","match","join","constructors","params","ht","bothErrors","firstError","secondError","bothValues","isValue","isError","mapError","toOption","vt","fromOption","bt","setPatterns","JSON","stringify","getPatterns","window","Function","wt","xt","Ct","isEmpty","Pt","aborted","edge","success","St","nodeName","getContentEditable","substr","splice","jt","isCollapsed","trim","add","extra","insertContent","deleteData","Bt","Dt","charCodeAt","charCode","_t","keyCode","modifierPressed","Ut","on","preventDefault","setEditorTimeout","qt","settings"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(f){\"use strict\";var r=function(t){function n(){return e}var e=t;return{get:n,set:function(t){e=t},clone:function(){return r(n())}}},t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),u=function(){return(u=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o]);return t}).apply(this,arguments)};function n(){}function a(t){return function(){return t}}function o(t){return t}function e(){return l}var i,c=a(!1),s=a(!0),l=(i={fold:function(t,n){return t()},is:c,isSome:c,isNone:s,getOr:g,getOrThunk:m,getOrDie:function(t){throw new Error(t||\"error: getOrDie called on none.\")},getOrNull:a(null),getOrUndefined:a(undefined),or:g,orThunk:m,map:e,each:n,bind:e,exists:c,forall:s,filter:e,equals:d,equals_:d,toArray:function(){return[]},toString:a(\"none()\")},Object.freeze&&Object.freeze(i),i);function d(t){return t.isNone()}function m(t){return t()}function g(t){return t}function p(n){return function(t){return function(t){if(null===t)return\"null\";var n=typeof t;return\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n}(t)===n}}function h(t,n){return-1<function(t,n){return lt.call(t,n)}(t,n)}function v(t,n){for(var e=t.length,r=new Array(e),o=0;o<e;o++){var a=t[o];r[o]=n(a,o)}return r}function y(t,n){for(var e=0,r=t.length;e<r;e++){n(t[e],e)}}function b(t,n){for(var e=[],r=0,o=t.length;r<o;r++){var a=t[r];n(a,r)&&e.push(a)}return e}function k(t,n,e){return function(t,n){for(var e=t.length-1;0<=e;e--){n(t[e],e)}}(t,function(t){e=n(e,t)}),e}function O(t,n){for(var e=0,r=t.length;e<r;++e){if(!0!==n(t[e],e))return!1}return!0}function w(t){var n=[],e=[];return y(t,function(t){t.fold(function(t){n.push(t)},function(t){e.push(t)})}),{errors:n,values:e}}function x(t){return\"inline-command\"===t.type||\"inline-format\"===t.type}function C(t){return\"block-command\"===t.type||\"block-format\"===t.type}function E(t){return function(t,n){var e=st.call(t,0);return e.sort(n),e}(t,function(t,n){return t.start.length===n.start.length?0:t.start.length>n.start.length?-1:1})}function T(o){function a(t){return yt.error({message:t,pattern:o})}function t(t,n,e){if(o.format===undefined)return o.cmd!==undefined?it(o.cmd)?yt.value(e(o.cmd,o.value)):a(t+\" pattern has non-string `cmd` parameter\"):a(t+\" pattern is missing both `format` and `cmd` parameters\");var r=void 0;if(ft(o.format)){if(!O(o.format,it))return a(t+\" pattern has non-string items in the `format` array\");r=o.format}else{if(!it(o.format))return a(t+\" pattern has non-string `format` parameter\");r=[o.format]}return yt.value(n(r))}if(!ut(o))return a(\"Raw pattern is not an object\");if(!it(o.start))return a(\"Raw pattern is missing `start` parameter\");if(o.end===undefined)return o.replacement!==undefined?it(o.replacement)?0===o.start.length?a(\"Replacement pattern has empty `start` parameter\"):yt.value({type:\"inline-command\",start:\"\",end:o.start,cmd:\"mceInsertContent\",value:o.replacement}):a(\"Replacement pattern has non-string `replacement` parameter\"):0===o.start.length?a(\"Block pattern has empty `start` parameter\"):t(\"Block\",function(t){return{type:\"block-format\",start:o.start,format:t[0]}},function(t,n){return{type:\"block-command\",start:o.start,cmd:t,value:n}});if(!it(o.end))return a(\"Inline pattern has non-string `end` parameter\");if(0===o.start.length&&0===o.end.length)return a(\"Inline pattern has empty `start` and `end` parameters\");var e=o.start,r=o.end;return 0===r.length&&(r=e,e=\"\"),t(\"Inline\",function(t){return{type:\"inline-format\",start:e,end:r,format:t}},function(t,n){return{type:\"inline-command\",start:e,end:r,cmd:t,value:n}})}function R(t){return\"block-command\"===t.type?{start:t.start,cmd:t.cmd,value:t.value}:\"block-format\"===t.type?{start:t.start,format:t.format}:\"inline-command\"===t.type?\"mceInsertContent\"===t.cmd&&\"\"===t.start?{start:t.end,replacement:t.value}:{start:t.start,end:t.end,cmd:t.cmd,value:t.value}:\"inline-format\"===t.type?{start:t.start,end:t.end,format:1===t.format.length?t.format[0]:t.format}:void 0}function N(t){return{inlinePatterns:b(t,x),blockPatterns:E(b(t,C))}}function P(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=kt.console;e&&(e.error?e.error.apply(e,t):e.log.apply(e,t))}function S(t){var n=function(t,n){return gt(t,n)?at.from(t[n]):at.none()}(t,\"textpattern_patterns\").getOr(Ot);if(!ft(n))return P(\"The setting textpattern_patterns should be an array\"),{inlinePatterns:[],blockPatterns:[]};var e=w(v(n,T));return y(e.errors,function(t){return P(t.message,t.pattern)}),N(e.values)}function M(t){var n=t.getParam(\"forced_root_block\",\"p\");return!1===n?\"\":!0===n?\"p\":n}function A(t){return t.nodeType===f.Node.TEXT_NODE}function I(t,n,e,r){void 0===r&&(r=!0);var o=n.startContainer.parentNode,a=n.endContainer.parentNode;n.deleteContents(),r&&!e(n.startContainer)&&(A(n.startContainer)&&0===n.startContainer.data.length&&t.remove(n.startContainer),A(n.endContainer)&&0===n.endContainer.data.length&&t.remove(n.endContainer),Tt(t,o,e),o!==a&&Tt(t,a,e))}function j(t,n){var e=n.get(t);return ft(e)&&function(t){return 0===t.length?at.none():at.some(t[0])}(e).exists(function(t){return gt(t,\"block\")})}function B(t){return 0===t.start.length}function D(t,n){return function(t,n){for(var e=0,r=t.length;e<r;e++){var o=t[e];if(n(o,e))return at.some(o)}return at.none()}(t,function(t){return 0===n.indexOf(t.start)&&(!function(t){return gt(t,\"end\")}(t)||!t.end||n.lastIndexOf(t.end)===n.length-t.end.length)})}function _(t,n){var e=at.from(t.dom.getParent(n.startContainer,t.dom.isBlock));return\"\"===M(t)?e.orThunk(function(){return at.some(t.getBody())}):e}function U(t,n){return{element:t,offset:n}}function q(t,n){function e(t){for(var n=r[t]();n&&n.nodeType!==f.Node.TEXT_NODE;)n=r[t]();return n&&n.nodeType===f.Node.TEXT_NODE?at.some(n):at.none()}var r=new Et(t,n);return{next:function(){return e(\"next\")},prev:function(){return e(\"prev\")},prev2:function(){return e(\"prev2\")}}}function L(t,n,e){return A(t)&&0<=n?at.some(U(t,n)):q(t,e).prev().map(function(t){return U(t,t.data.length)})}function V(t,n,e){if(A(n)&&(e<0||e>n.data.length))return[];for(var r=[e],o=n;o!==t&&o.parentNode;){for(var a=o.parentNode,i=0;i<a.childNodes.length;i++)if(a.childNodes[i]===o){r.push(i);break}o=a}return o===t?r.reverse():[]}function W(t,n,e,r,o){return{start:V(t,n,e),end:V(t,r,o)}}function X(t,n){var e=n.slice(),r=e.pop();return function(t,n,e){return y(t,function(t){e=n(e,t)}),e}(e,function(t,n){return t.bind(function(t){return at.from(t.childNodes[n])})},at.some(t)).bind(function(t){return A(t)&&0<=r&&t.data.length,at.some({node:t,offset:r})})}function z(n,e){return X(n,e.start).bind(function(t){var o=t.node,a=t.offset;return X(n,e.end).map(function(t){var n=t.node,e=t.offset,r=f.document.createRange();return r.setStart(o,a),r.setEnd(n,e),r})})}function F(r,o,t){q(o,o).next().each(function(e){Nt(e,t.start.length,o).each(function(t){var n=r.createRng();n.setStart(e,0),n.setEnd(t.element,t.offset),I(r,n,function(t){return t===o})})})}function G(n,t){if(0!==t.length){var e=n.selection.getBookmark();y(t,function(t){return function(n,t){var e=n.dom,r=t.pattern,o=z(e.getRoot(),t.range).getOrDie(\"Unable to resolve path range\");return _(n,o).each(function(t){\"block-format\"===r.type?j(r.format,n.formatter)&&n.undoManager.transact(function(){F(n.dom,t,r),n.formatter.apply(r.format)}):\"block-command\"===r.type&&n.undoManager.transact(function(){F(n.dom,t,r),n.execCommand(r.cmd,!1,r.value)})}),!0}(n,t)}),n.selection.moveToBookmark(e)}}function H(t,n){return t.create(\"span\",{\"data-mce-type\":\"bookmark\",id:n})}function J(t,n){var e=t.createRng();return e.setStartAfter(n.start),e.setEndBefore(n.end),e}function K(t,n,e){var r=z(t.getRoot(),e).getOrDie(\"Unable to resolve path range\"),o=r.startContainer,a=r.endContainer,i=0===r.endOffset?a:a.splitText(r.endOffset),u=0===r.startOffset?o:o.splitText(r.startOffset);return{prefix:n,end:i.parentNode.insertBefore(H(t,n+\"-end\"),i),start:u.parentNode.insertBefore(H(t,n+\"-start\"),u)}}function Q(t,n,e){Tt(t,t.get(n.prefix+\"-end\"),e),Tt(t,t.get(n.prefix+\"-start\"),e)}function Y(t,e,n,r,o,a){if(void 0===a&&(a=!1),0!==e.start.length||a)return L(n,r,o).bind(function(n){return function(t,n,e,r,o){var a=new Et(n,o);return Mt(t,n,at.some(e),r,a.prev,at.none())}(t,n.element,n.offset,function(f,c,s){return function(e,r,t,n){if(r===c)return e.abort();var o=t.substring(0,n.getOr(t.length)),a=o.lastIndexOf(s.charAt(s.length-1)),i=o.lastIndexOf(s);if(-1===i)return-1!==a?Rt(r,a+1-s.length,c).fold(function(){return e.kontinue()},function(t){var n=f.createRng();return n.setStart(t.element,t.offset),n.setEnd(r,a+1),n.toString()===s?e.finish(n):e.kontinue()}):e.kontinue();var u=f.createRng();return u.setStart(r,i),u.setEnd(r,i+s.length),e.finish(u)}}(t,o,e.start),o).fold(at.none,at.none,at.some).bind(function(t){if(a){if(t.endContainer===n.element&&t.endOffset===n.offset)return at.none();if(0===n.offset&&t.endContainer.textContent.length===t.endOffset)return at.none()}return at.some(t)})});var i=t.createRng();return i.setStart(n,r),i.setEnd(n,r),at.some(i)}function Z(a,i,u){var f=a.dom,c=f.getRoot(),s=u.pattern,l=u.position.element,d=u.position.offset;return Rt(l,d-u.pattern.end.length,i).bind(function(t){var e=W(c,t.element,t.offset,l,d);if(B(s))return at.some({matches:[{pattern:s,startRng:e,endRng:e}],position:t});var n=It(a,u.remainingPatterns,t.element,t.offset,i),r=n.getOr({matches:[],position:t}),o=r.position;return Y(f,s,o.element,o.offset,i,n.isNone()).map(function(t){var n=function(t,n){return W(t,n.startContainer,n.startOffset,n.endContainer,n.endOffset)}(c,t);return{matches:r.matches.concat([{pattern:s,startRng:n,endRng:e}]),position:U(t.startContainer,t.startOffset)}})})}function $(n,t,e){n.selection.setRng(e),\"inline-format\"===t.type?y(t.format,function(t){n.formatter.apply(t)}):n.execCommand(t.cmd,!1,t.value)}function tt(o,t){var a=function(t){var n=(new Date).getTime();return t+\"_\"+Math.floor(1e9*Math.random())+ ++At+String(n)}(\"mce_textpattern\"),i=k(t,function(t,n){var e=K(o,a+\"_end\"+t.length,n.endRng);return t.concat([u(u({},n),{endMarker:e})])},[]);return k(i,function(t,n){var e=i.length-t.length-1,r=B(n.pattern)?n.endMarker:K(o,a+\"_start\"+e,n.startRng);return t.concat([u(u({},n),{startMarker:r})])},[])}function nt(e,r,o){var a=e.selection.getRng();return!1===a.collapsed?[]:_(e,a).bind(function(t){var n=a.startOffset-(o?1:0);return It(e,r,a.startContainer,n,t)}).fold(function(){return[]},function(t){return t.matches})}function et(r,t){if(0!==t.length){var o=r.dom,n=r.selection.getBookmark(),e=tt(o,t);y(e,function(t){function n(t){return t===e}var e=o.getParent(t.startMarker.start,o.isBlock);B(t.pattern)?function(t,n,e,r){var o=J(t.dom,e);I(t.dom,o,r),$(t,n,o)}(r,t.pattern,t.endMarker,n):function(t,n,e,r,o){var a=t.dom,i=J(a,r),u=J(a,e);I(a,u,o),I(a,i,o);var f={prefix:e.prefix,start:e.end,end:r.start},c=J(a,f);$(t,n,c)}(r,t.pattern,t.startMarker,t.endMarker,n),Q(o,t.endMarker,n),Q(o,t.startMarker,n)}),r.selection.moveToBookmark(n)}}function rt(t,n,e){for(var r=0;r<t.length;r++)if(e(t[r],n))return!0}var ot=function(e){function t(){return o}function n(t){return t(e)}var r=a(e),o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:s,isNone:c,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return ot(t(e))},each:function(t){t(e)},bind:n,exists:n,forall:n,filter:function(t){return t(e)?o:l},toArray:function(){return[e]},toString:function(){return\"some(\"+e+\")\"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(c,function(t){return n(e,t)})}};return o},at={some:ot,none:e,from:function(t){return null===t||t===undefined?l:ot(t)}},it=p(\"string\"),ut=p(\"object\"),ft=p(\"array\"),ct=p(\"function\"),st=Array.prototype.slice,lt=Array.prototype.indexOf,dt=(ct(Array.from)&&Array.from,Object.keys),mt=Object.hasOwnProperty,gt=function(t,n){return mt.call(t,n)},pt=function(i){if(!ft(i))throw new Error(\"cases must be an array\");if(0===i.length)throw new Error(\"there must be at least one case\");var u=[],e={};return y(i,function(t,r){var n=dt(t);if(1!==n.length)throw new Error(\"one and only one name per case\");var o=n[0],a=t[o];if(e[o]!==undefined)throw new Error(\"duplicate key detected:\"+o);if(\"cata\"===o)throw new Error(\"cannot have a case named cata (sorry)\");if(!ft(a))throw new Error(\"case arguments must be an array\");u.push(o),e[o]=function(){var t=arguments.length;if(t!==a.length)throw new Error(\"Wrong number of arguments to case \"+o+\". Expected \"+a.length+\" (\"+a+\"), got \"+t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=arguments[n];return{fold:function(){if(arguments.length!==i.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+i.length+\", got \"+arguments.length);return arguments[r].apply(null,e)},match:function(t){var n=dt(t);if(u.length!==n.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+u.join(\",\")+\"\\nActual: \"+n.join(\",\"));if(!O(u,function(t){return h(n,t)}))throw new Error(\"Not all branches were specified when using match. Specified: \"+n.join(\", \")+\"\\nRequired: \"+u.join(\", \"));return t[o].apply(null,e)},log:function(t){f.console.log(t,{constructors:u,constructor:o,params:e})}}}}),e},ht=(pt([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]),function(e){return{is:function(t){return e===t},isValue:s,isError:c,getOr:a(e),getOrThunk:a(e),getOrDie:a(e),or:function(t){return ht(e)},orThunk:function(t){return ht(e)},fold:function(t,n){return n(e)},map:function(t){return ht(t(e))},mapError:function(t){return ht(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return at.some(e)}}}),vt=function(e){return{is:c,isValue:c,isError:s,getOr:o,getOrThunk:function(t){return t()},getOrDie:function(){return function(t){return function(){throw new Error(t)}}(String(e))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,n){return t(e)},map:function(t){return vt(e)},mapError:function(t){return vt(t(e))},each:n,bind:function(t){return vt(e)},exists:c,forall:s,toOption:at.none}},yt={value:ht,error:vt,fromOption:function(t,n){return t.fold(function(){return vt(n)},ht)}},bt=function(r){return{setPatterns:function(t){var n=w(v(t,T));if(0<n.errors.length){var e=n.errors[0];throw new Error(e.message+\":\\n\"+JSON.stringify(e.pattern,null,2))}r.set(N(n.values))},getPatterns:function(){return function f(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),o=0;for(n=0;n<e;n++)for(var a=arguments[n],i=0,u=a.length;i<u;i++,o++)r[o]=a[i];return r}(v(r.get().inlinePatterns,R),v(r.get().blockPatterns,R))}}},kt=\"undefined\"!=typeof f.window?f.window:Function(\"return this;\")(),Ot=[{start:\"*\",end:\"*\",format:\"italic\"},{start:\"**\",end:\"**\",format:\"bold\"},{start:\"#\",format:\"h1\"},{start:\"##\",format:\"h2\"},{start:\"###\",format:\"h3\"},{start:\"####\",format:\"h4\"},{start:\"#####\",format:\"h5\"},{start:\"######\",format:\"h6\"},{start:\"1. \",cmd:\"InsertOrderedList\"},{start:\"* \",cmd:\"InsertUnorderedList\"},{start:\"- \",cmd:\"InsertUnorderedList\"}],wt=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),xt=tinymce.util.Tools.resolve(\"tinymce.util.VK\"),Ct=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),Et=tinymce.util.Tools.resolve(\"tinymce.dom.TreeWalker\"),Tt=function(t,n,e){if(n&&t.isEmpty(n)&&!e(n)){var r=n.parentNode;t.remove(n),Tt(t,r,e)}},Rt=function(t,e,r){if(!A(t))return at.none();var n=t.textContent;return 0<=e&&e<=n.length?at.some(U(t,e)):q(t,r).prev().bind(function(t){var n=t.textContent;return Rt(t,e+n.length,r)})},Nt=function(t,n,e){if(!A(t))return at.none();var r=t.textContent;return n<=r.length?at.some(U(t,n)):q(t,e).next().bind(function(t){return Nt(t,n-r.length,e)})},Pt=pt([{aborted:[]},{edge:[\"element\"]},{success:[\"info\"]}]),St=pt([{abort:[]},{kontinue:[]},{finish:[\"info\"]}]),Mt=function(n,e,t,r,o,a){function i(){return a.fold(Pt.aborted,Pt.edge)}function u(){var t=o();return t?Mt(n,t,at.none(),r,o,at.some(e)):i()}if(function(t,n){return t.isBlock(n)||h([\"BR\",\"IMG\",\"HR\",\"INPUT\"],n.nodeName)||\"false\"===t.getContentEditable(n)}(n,e))return i();if(A(e)){var f=e.textContent;return r(St,e,f,t).fold(Pt.aborted,function(){return u()},Pt.success)}return u()},At=0,It=function(c,s,l,d,m){var g=c.dom;return L(l,d,g.getRoot()).bind(function(t){var n=g.createRng();n.setStart(m,0),n.setEnd(l,d);for(var e,r,o=n.toString(),a=0;a<s.length;a++){var i=s[a];if(e=o,r=i.end,function(t,n,e){return\"\"===n||!(t.length<n.length)&&t.substr(e,e+n.length)===n}(e,r,e.length-r.length)){var u=s.slice();u.splice(a,1);var f=Z(c,m,{pattern:i,remainingPatterns:u,position:t});if(f.isSome())return f}}return at.none()})},jt=function(e,t){if(!e.selection.isCollapsed())return!1;var r=nt(e,t.inlinePatterns,!1),o=function(r,t){var o=r.dom,n=r.selection.getRng();return _(r,n).filter(function(t){var n=M(r),e=\"\"===n&&o.is(t,\"body\")||o.is(t,n);return null!==t&&e}).bind(function(n){var e=n.textContent;return D(t,e).map(function(t){return Ct.trim(e).length===t.start.length?[]:[{pattern:t,range:W(o.getRoot(),n,0,n,0)}]})}).getOr([])}(e,t.blockPatterns);return(0<o.length||0<r.length)&&(e.undoManager.add(),e.undoManager.extra(function(){e.execCommand(\"mceInsertNewLine\")},function(){e.insertContent(\"\\ufeff\"),et(e,r),G(e,o);var t=e.selection.getRng(),n=L(t.startContainer,t.startOffset,e.dom.getRoot());e.execCommand(\"mceInsertNewLine\"),n.each(function(t){\"\\ufeff\"===t.element.data.charAt(t.offset-1)&&(t.element.deleteData(t.offset-1,1),Tt(e.dom,t.element.parentNode,function(t){return t===e.dom.getRoot()}))})}),!0)},Bt=function(t,n){var e=nt(t,n.inlinePatterns,!0);0<e.length&&t.undoManager.transact(function(){et(t,e)})},Dt=function(t,n){return rt(t,n,function(t,n){return t.charCodeAt(0)===n.charCode})},_t=function(t,n){return rt(t,n,function(t,n){return t===n.keyCode&&!1===xt.modifierPressed(n)})},Ut=function(n,e){var r=[\",\",\".\",\";\",\":\",\"!\",\"?\"],o=[32];n.on(\"keydown\",function(t){13!==t.keyCode||xt.modifierPressed(t)||jt(n,e.get())&&t.preventDefault()},!0),n.on(\"keyup\",function(t){_t(o,t)&&Bt(n,e.get())}),n.on(\"keypress\",function(t){Dt(r,t)&&wt.setEditorTimeout(n,function(){Bt(n,e.get())})})};!function qt(){t.add(\"textpattern\",function(t){var n=r(S(t.settings));return Ut(t,n),bt(n)})}()}(window);"]}