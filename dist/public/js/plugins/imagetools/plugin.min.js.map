{"version":3,"sources":["../../../../../public/js/plugins/imagetools/plugin.min.js"],"names":["v","e","n","c","t","r","get","set","clone","o","tinymce","util","Tools","resolve","i","d","u","a","fold","is","isSome","isNone","getOr","l","getOrThunk","f","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","s","equals_","toArray","toString","Object","freeze","m","p","some","none","from","h","y","document","createElement","g","width","height","w","drawImage","getContext","b","E","O","window","Promise","T","immediateFn","setImmediate","setTimeout","Array","isArray","prototype","call","then","N","R","all","arguments","length","slice","constructor","reject","race","TypeError","_state","_value","_deferreds","A","I","S","_","apply","onFulfilled","onRejected","push","x","C","src","indexOf","U","XMLHttpRequest","open","responseType","onload","status","response","onerror","code","name","send","D","URL","createObjectURL","Image","removeEventListener","type","addEventListener","complete","split","exec","atob","Math","ceil","min","charCodeAt","Uint8Array","Blob","L","HTMLCanvasElement","toBlob","toDataURL","k","revokeObjectURL","naturalWidth","naturalHeight","j","getType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","toCanvas","P","FileReader","onloadend","result","readAsDataURL","M","B","translate","rotate","PI","F","scale","z","H","q","$","X","W","G","ue","message","Y","V","ae","J","re","ie","te","K","oe","test","encodeURIComponent","ce","blob","Q","Z","getImageSize","wn","style","parseInt","setImageSize","yn","removeAttribute","setAttribute","getNaturalImageSize","bn","ee","isPrototypeOf","String","ne","reduce","target","readAsText","onreadystatechange","readyState","withCredentials","setRequestHeader","JSON","parse","se","fe","le","compareDocumentPosition","de","major","minor","Number","replace","Ce","me","he","ge","toLowerCase","search","ve","pe","we","dom","childNodes","Je","fromDom","nodeType","Qe","matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","ye","be","Ee","notificationManager","text","Oe","selection","getNode","Te","nn","inArray","getParam","host","en","Ie","Ne","editorUpload","blobCache","getByUri","Se","clearTimeout","_e","uri","match","encode","create","id","Ze","base64","add","undoManager","transact","on","off","nodeChanged","uploadImagesAuto","setEditorTimeout","attr","blobUri","removeAttr","xe","_scanForImages","Re","Node","DOCUMENT_POSITION_CONTAINED_BY","Ae","De","nu","detect","unknown","Ue","Le","current","version","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","ke","edge","chrome","opera","firefox","safari","je","Pe","Me","Be","Fe","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","ze","windows","ios","android","linux","osx","solaris","freebsd","He","versionRegexes","qe","$e","Xe","We","Ge","browsers","oses","Ye","browser","os","deviceType","isiPad","isiPhone","isTablet","isPhone","isTouch","isWebView","isDesktop","navigator","userAgent","matchMedia","Ve","fromHtml","innerHTML","hasChildNodes","console","error","fromTag","fromText","createTextNode","fromPoint","elementFromPoint","Ke","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","TEXT_NODE","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","Function","documentBaseURI","tn","rn","settings","imagetools_proxy","un","an","cn","sn","fn","ln","dn","mn","url","windowManager","title","size","body","items","label","currentState","buttons","primary","disabled","onSubmit","getData","imagetools","close","onCancel","onAction","value","enable","disable","hn","mceImageRotateLeft","mceImageRotateRight","mceImageFlipVertical","mceImageFlipHorizontal","mceEditImage","addCommand","gn","element","vn","execCommand","ui","registry","addButton","tooltip","icon","onSetup","setDisabled","addContextMenu","update","pn","addContextToolbar","predicate","position","scope","En"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(v){\"use strict\";function e(){}function n(){return c}var t,r=function(e){function n(){return t}var t=e;return{get:n,set:function(e){t=e},clone:function(){return r(n())}}},o=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),i=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),d=function(e){return function(){return e}},u=d(!1),a=d(!0),c=(t={fold:function(e,n){return e()},is:u,isSome:u,isNone:a,getOr:l,getOrThunk:f,getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:d(null),getOrUndefined:d(undefined),or:l,orThunk:f,map:n,each:e,bind:n,exists:u,forall:a,filter:n,equals:s,equals_:s,toArray:function(){return[]},toString:d(\"none()\")},Object.freeze&&Object.freeze(t),t);function s(e){return e.isNone()}function f(e){return e()}function l(e){return e}var m=function(t){function e(){return o}function n(e){return e(t)}var r=d(t),o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:a,isNone:u,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return m(e(t))},each:function(e){e(t)},bind:n,exists:n,forall:n,filter:function(e){return e(t)?o:c},toArray:function(){return[t]},toString:function(){return\"some(\"+t+\")\"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(u,function(e){return n(t,e)})}};return o},p={some:m,none:n,from:function(e){return null===e||e===undefined?c:m(e)}};function h(e,n){return y(v.document.createElement(\"canvas\"),e,n)}function g(e){var n=h(e.width,e.height);return w(n).drawImage(e,0,0),n}function w(e){return e.getContext(\"2d\")}function y(e,n,t){return e.width=n,e.height=t,e}var b,E,O=window.Promise?window.Promise:(b=T.immediateFn||\"function\"==typeof window.setImmediate&&window.setImmediate||function(e){v.setTimeout(e,1)},E=Array.isArray||function(e){return\"[object Array]\"===Object.prototype.toString.call(e)},T.prototype[\"catch\"]=function(e){return this.then(null,e)},T.prototype.then=function(t,r){var o=this;return new T(function(e,n){N.call(o,new R(t,r,e,n))})},T.all=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var c=Array.prototype.slice.call(1===e.length&&E(e[0])?e[0]:e);return new T(function(o,i){if(0===c.length)return o([]);var u=c.length;function a(n,e){try{if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var t=e.then;if(\"function\"==typeof t)return void t.call(e,function(e){a(n,e)},i)}c[n]=e,0==--u&&o(c)}catch(r){i(r)}}for(var e=0;e<c.length;e++)a(e,c[e])})},T.resolve=function(n){return n&&\"object\"==typeof n&&n.constructor===T?n:new T(function(e){e(n)})},T.reject=function(t){return new T(function(e,n){n(t)})},T.race=function(o){return new T(function(e,n){for(var t=0,r=o;t<r.length;t++)r[t].then(e,n)})},T);function T(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=null,this._value=null,this._deferreds=[],A(e,I(S,this),I(_,this))}function I(e,n){return function(){return e.apply(n,arguments)}}function N(r){var o=this;null!==this._state?b(function(){var e=o._state?r.onFulfilled:r.onRejected;if(null!==e){var n;try{n=e(o._value)}catch(t){return void r.reject(t)}r.resolve(n)}else(o._state?r.resolve:r.reject)(o._value)}):this._deferreds.push(r)}function S(e){try{if(e===this)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(\"function\"==typeof n)return void A(I(n,e),I(S,this),I(_,this))}this._state=!0,this._value=e,x.call(this)}catch(t){_.call(this,t)}}function _(e){this._state=!1,this._value=e,x.call(this)}function x(){for(var e=0,n=this._deferreds;e<n.length;e++){var t=n[e];N.call(this,t)}this._deferreds=[]}function R(e,n,t,r){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof n?n:null,this.resolve=t,this.reject=r}function A(e,n,t){var r=!1;try{e(function(e){r||(r=!0,n(e))},function(e){r||(r=!0,t(e))})}catch(o){if(r)return;r=!0,t(o)}}function C(e){var n=e.src;return 0===n.indexOf(\"data:\")?U(n):function t(r){return new O(function(e,t){var n=new v.XMLHttpRequest;n.open(\"GET\",r,!0),n.responseType=\"blob\",n.onload=function(){200===this.status&&e(this.response)},n.onerror=function(){var e,n=this;t(0===this.status?((e=new Error(\"No access to download image\")).code=18,e.name=\"SecurityError\",e):new Error(\"Error \"+n.status+\" downloading image\"))},n.send()})}(n)}function D(a){return new O(function(e,n){var t=v.URL.createObjectURL(a),r=new v.Image,o=function(){r.removeEventListener(\"load\",i),r.removeEventListener(\"error\",u)};function i(){o(),e(r)}function u(){o(),n(\"Unable to load data of type \"+a.type+\": \"+t)}r.addEventListener(\"load\",i),r.addEventListener(\"error\",u),r.src=t,r.complete&&i()})}function U(t){return new O(function(e,n){(function g(e){var n=e.split(\",\"),t=/data:([^;]+)/.exec(n[0]);if(!t)return p.none();for(var r=t[1],o=n[1],i=v.atob(o),u=i.length,a=Math.ceil(u/1024),c=new Array(a),s=0;s<a;++s){for(var f=1024*s,l=Math.min(1024+f,u),d=new Array(l-f),m=f,h=0;m<l;++h,++m)d[h]=i[m].charCodeAt(0);c[s]=new Uint8Array(d)}return p.some(new v.Blob(c,{type:r}))})(t).fold(function(){n(\"uri is not base64: \"+t)},e)})}function L(e,r,o){return r=r||\"image/png\",v.HTMLCanvasElement.prototype.toBlob?new O(function(n,t){e.toBlob(function(e){e?n(e):t()},r,o)}):U(e.toDataURL(r,o))}function k(e){return D(e).then(function(e){!function t(e){v.URL.revokeObjectURL(e.src)}(e);var n=h(function r(e){return e.naturalWidth||e.width}(e),function o(e){return e.naturalHeight||e.height}(e));return w(n).drawImage(e,0,0),n})}function j(e,n,t){var r=n.type;function o(n,t){return e.then(function(e){return function r(e,n,t){return n=n||\"image/png\",e.toDataURL(n,t)}(e,n,t)})}return{getType:d(r),toBlob:function i(){return O.resolve(n)},toDataURL:function u(){return t},toBase64:function a(){return t.split(\",\")[1]},toAdjustedBlob:function c(n,t){return e.then(function(e){return L(e,n,t)})},toAdjustedDataURL:o,toAdjustedBase64:function s(e,n){return o(e,n).then(function(e){return e.split(\",\")[1]})},toCanvas:function f(){return e.then(g)}}}function P(n){return function e(t){return new O(function(e){var n=new v.FileReader;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)})}(n).then(function(e){return j(k(n),n,e)})}function M(n,e){return L(n,e).then(function(e){return j(O.resolve(n),e,n.toDataURL())})}function B(n,t){return n.toCanvas().then(function(e){return function a(e,n,t){var r=h(e.width,e.height),o=w(r),i=0,u=0;90!==(t=t<0?360+t:t)&&270!==t||y(r,r.height,r.width);90!==t&&180!==t||(i=r.width);270!==t&&180!==t||(u=r.height);return o.translate(i,u),o.rotate(t*Math.PI/180),o.drawImage(e,0,0),M(r,n)}(e,n.getType(),t)})}function F(n,t){return n.toCanvas().then(function(e){return function i(e,n,t){var r=h(e.width,e.height),o=w(r);\"v\"===t?(o.scale(1,-1),o.drawImage(e,0,-r.height)):(o.scale(-1,1),o.drawImage(e,-r.width,0));return M(r,n)}(e,n.getType(),t)})}function z(e){return P(e)}var H=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),q=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),$=tinymce.util.Tools.resolve(\"tinymce.util.URI\");function X(e,n){for(var t=0,r=e.length;t<r;t++){var o=e[t];if(n(o,t))return p.some(o)}return p.none()}function W(e){return null!==e&&e!==undefined}function G(n){return\"ImageProxy HTTP error: \"+X(ue,function(e){return n===e.code}).fold(d(\"Unknown ImageProxy error\"),function(e){return e.message})}function Y(e){var n=G(e);return q.reject(n)}function V(n){return X(ae,function(e){return e.type===n}).fold(d(\"Unknown service error\"),function(e){return e.message})}function J(e,n){return re(n).then(function(e){var n=function(e){var n=ie(e),t=te(n,[\"error\",\"type\"]);return\"ImageProxy Service error: \"+(t?V(t):\"Invalid JSON in service error message\")}(e);return q.reject(n)})}function K(e,n){var t={\"Content-Type\":\"application/json;charset=UTF-8\",\"tiny-api-key\":n};return oe(function(e,n){var t=-1===e.indexOf(\"?\")?\"?\":\"&\";return/[?&]apiKey=/.test(e)||!n?e:e+t+\"apiKey=\"+encodeURIComponent(n)}(e,n),t,!1).then(function(e){return e.status<200||300<=e.status?ce(e.status,e.blob):q.resolve(e.blob)})}var Q,Z={getImageSize:function wn(e){var n,t;function r(e){return/^[0-9\\.]+px$/.test(e)}return n=e.style.width,t=e.style.height,n||t?r(n)&&r(t)?{w:parseInt(n,10),h:parseInt(t,10)}:null:(n=e.width,t=e.height,n&&t?{w:parseInt(n,10),h:parseInt(t,10)}:null)},setImageSize:function yn(e,n){var t,r;n&&(t=e.style.width,r=e.style.height,(t||r)&&(e.style.width=n.w+\"px\",e.style.height=n.h+\"px\",e.removeAttribute(\"data-mce-style\")),t=e.width,r=e.height,(t||r)&&(e.setAttribute(\"width\",n.w),e.setAttribute(\"height\",n.h)))},getNaturalImageSize:function bn(e){return{w:e.naturalWidth,h:e.naturalHeight}}},ee=(Q=\"function\",function(e){return function(e){if(null===e)return\"null\";var n=typeof e;return\"object\"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":n}(e)===Q}),ne=Array.prototype.slice,te=(ee(Array.from)&&Array.from,function(e,n){var t;return t=n.reduce(function(e,n){return W(e)?e[n]:undefined},e),W(t)?t:null}),re=function(n){return new q(function(t){var e=new v.FileReader;e.onload=function(e){var n=e.target;t(n.result)},e.readAsText(n)})},oe=function(n,r,o){return new q(function(e){var t;(t=new v.XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&e({status:t.status,blob:this.response})},t.open(\"GET\",n,!0),t.withCredentials=o,i.each(r,function(e,n){t.setRequestHeader(n,e)}),t.responseType=\"blob\",t.send()})},ie=function(e){var n;try{n=JSON.parse(e)}catch(t){}return n},ue=[{code:404,message:\"Could not find Image Proxy\"},{code:403,message:\"Rejected request\"},{code:0,message:\"Incorrect Image Proxy URL\"}],ae=[{type:\"key_missing\",message:\"The request did not include an api key.\"},{type:\"key_not_found\",message:\"The provided api key could not be found.\"},{type:\"domain_not_trusted\",message:\"The api key is not valid for the request origins.\"}],ce=function(e,n){return function(e){return 400===e||403===e||500===e}(e)?J(0,n):Y(e)},se=Y;function fe(e,n,t){return n?K(e,n):function r(e,n){return oe(e,{},n).then(function(e){return e.status<200||300<=e.status?se(e.status):q.resolve(e.blob)})}(e,t)}function le(e,n,t){return 0!=(e.compareDocumentPosition(n)&t)}function de(e,n){var t=function(e,n){for(var t=0;t<e.length;t++){var r=e[t];if(r.test(n))return r}return undefined}(e,n);if(!t)return{major:0,minor:0};function r(e){return Number(n.replace(t,\"$\"+e))}return Ce(r(1),r(2))}function me(e,n){return function(){return n===e}}function he(e,n){return function(){return n===e}}function ge(e,n){var t=String(n).toLowerCase();return X(e,function(e){return e.search(t)})}function ve(e,n){return-1!==e.indexOf(n)}function pe(n){return function(e){return ve(e,n)}}function we(e,n){return function(e,n){return X(e.dom().childNodes,function(e){return n(Je.fromDom(e))}).map(Je.fromDom)}(e,function(e){return function(e,n){var t=e.dom();if(t.nodeType!==Qe)return!1;var r=t;if(r.matches!==undefined)return r.matches(n);if(r.msMatchesSelector!==undefined)return r.msMatchesSelector(n);if(r.webkitMatchesSelector!==undefined)return r.webkitMatchesSelector(n);if(r.mozMatchesSelector!==undefined)return r.mozMatchesSelector(n);throw new Error(\"Browser lacks native selectors\")}(e,n)})}function ye(e){return we(Je.fromDom(e),\"img\")}function be(e,n){return e.dom.is(n,\"figure\")}function Ee(e,n){e.notificationManager.open({text:n,type:\"error\"})}function Oe(e){var n=e.selection.getNode();return be(e,n)?ye(n):p.some(Je.fromDom(n))}function Te(e,n){var t,r=n.src;return nn(e,n)?fe(n.src,null,function(e,n){return-1!==i.inArray(function(e){return e.getParam(\"imagetools_credentials_hosts\",[],\"string[]\")}(e),new $(n.src).host)}(e,n)):en(e,n)?function(e){return C(e)}(n):(r=function(e){return e.getParam(\"imagetools_proxy\")}(e),r+=(-1===r.indexOf(\"?\")?\"?\":\"&\")+\"url=\"+encodeURIComponent(n.src),t=function(e){return e.getParam(\"api_key\",e.getParam(\"imagetools_api_key\",\"\",\"string\"),\"string\")}(e),fe(r,t,!1))}function Ie(e,n){return function(e){return p.from(e.getParam(\"imagetools_fetch_image\",null,\"function\"))}(e).fold(function(){return Te(e,n)},function(e){return e(n)})}function Ne(e,n){var t;return(t=e.editorUpload.blobCache.getByUri(n.src))?q.resolve(t.blob()):Ie(e,n)}function Se(e){H.clearTimeout(e.get())}function _e(i,u,a,c,s,f){return u.toBlob().then(function(e){var n,t,r,o;return r=i.editorUpload.blobCache,n=s.src,function(e){return e.getParam(\"images_reuse_filename\",!1,\"boolean\")}(i)&&(t=(o=r.getByUri(n))?(n=o.uri(),o.name()):function(e,n){var t=n.match(/\\/([^\\/\\?]+)?\\.(?:jpeg|jpg|png|gif)(?:\\?|$)/i);return t?e.dom.encode(t[1]):null}(i,n)),o=r.create({id:\"imagetools\"+Ze++,blob:e,base64:u.toBase64(),uri:n,name:t}),r.add(o),i.undoManager.transact(function(){i.$(s).on(\"load\",function e(){i.$(s).off(\"load\",e),i.nodeChanged(),a?i.editorUpload.uploadImagesAuto():(Se(c),function(e,n){var t=H.setEditorTimeout(e,function(){e.editorUpload.uploadImagesAuto()},function(e){return e.getParam(\"images_upload_timeout\",3e4,\"number\")}(e));n.set(t)}(i,c))}),f&&i.$(s).attr({width:f.w,height:f.h}),i.$(s).attr({src:o.blobUri()}).removeAttr(\"data-mce-src\")}),o})}function xe(t,r,e,o){return function(){return Oe(t).fold(function(){Ee(t,\"Could not find selected image\")},function(n){return t._scanForImages().then(function(){return Ne(t,n.dom())}).then(z).then(e).then(function(e){return _e(t,e,!1,r,n.dom(),o)},function(e){Ee(t,e)})})}}var Re=function(e,n){return le(e,n,v.Node.DOCUMENT_POSITION_CONTAINED_BY)},Ae=function(){return Ce(0,0)},Ce=function(e,n){return{major:e,minor:n}},De={nu:Ce,detect:function(e,n){var t=String(n).toLowerCase();return 0===e.length?Ae():de(e,t)},unknown:Ae},Ue=\"Firefox\",Le=function(e){var n=e.current;return{current:n,version:e.version,isEdge:me(\"Edge\",n),isChrome:me(\"Chrome\",n),isIE:me(\"IE\",n),isOpera:me(\"Opera\",n),isFirefox:me(Ue,n),isSafari:me(\"Safari\",n)}},ke={unknown:function(){return Le({current:undefined,version:De.unknown()})},nu:Le,edge:d(\"Edge\"),chrome:d(\"Chrome\"),ie:d(\"IE\"),opera:d(\"Opera\"),firefox:d(Ue),safari:d(\"Safari\")},je=\"Windows\",Pe=\"Android\",Me=\"Solaris\",Be=\"FreeBSD\",Fe=function(e){var n=e.current;return{current:n,version:e.version,isWindows:he(je,n),isiOS:he(\"iOS\",n),isAndroid:he(Pe,n),isOSX:he(\"OSX\",n),isLinux:he(\"Linux\",n),isSolaris:he(Me,n),isFreeBSD:he(Be,n)}},ze={unknown:function(){return Fe({current:undefined,version:De.unknown()})},nu:Fe,windows:d(je),ios:d(\"iOS\"),android:d(Pe),linux:d(\"Linux\"),osx:d(\"OSX\"),solaris:d(Me),freebsd:d(Be)},He=function(e,t){return ge(e,t).map(function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n}})},qe=function(e,t){return ge(e,t).map(function(e){var n=De.detect(e.versionRegexes,t);return{current:e.name,version:n}})},$e=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,Xe=[{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:function(e){return ve(e,\"edge/\")&&ve(e,\"chrome\")&&ve(e,\"safari\")&&ve(e,\"applewebkit\")}},{name:\"Chrome\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,$e],search:function(e){return ve(e,\"chrome\")&&!ve(e,\"chromeframe\")}},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:function(e){return ve(e,\"msie\")||ve(e,\"trident\")}},{name:\"Opera\",versionRegexes:[$e,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:pe(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:pe(\"firefox\")},{name:\"Safari\",versionRegexes:[$e,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ve(e,\"safari\")||ve(e,\"mobile/\"))&&ve(e,\"applewebkit\")}}],We=[{name:\"Windows\",search:pe(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:function(e){return ve(e,\"iphone\")||ve(e,\"ipad\")},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:pe(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"OSX\",search:pe(\"os x\"),versionRegexes:[/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:pe(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:pe(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:pe(\"freebsd\"),versionRegexes:[]}],Ge={browsers:d(Xe),oses:d(We)},Ye=r(function(e,n){var t=Ge.browsers(),r=Ge.oses(),o=He(t,e).fold(ke.unknown,ke.nu),i=qe(r,e).fold(ze.unknown,ze.nu);return{browser:o,os:i,deviceType:function(e,n,t,r){var o=e.isiOS()&&!0===/ipad/i.test(t),i=e.isiOS()&&!o,u=e.isiOS()||e.isAndroid(),a=u||r(\"(pointer:coarse)\"),c=o||!i&&u&&r(\"(min-device-width:768px)\"),s=i||u&&!c,f=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(t),l=!s&&!c&&!f;return{isiPad:d(o),isiPhone:d(i),isTablet:d(c),isPhone:d(s),isTouch:d(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(f),isDesktop:d(l)}}(i,o,e,n)}}(v.navigator.userAgent,function(e){return v.window.matchMedia(e).matches})),Ve=function(e){if(null===e||e===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:d(e)}},Je={fromHtml:function(e,n){var t=(n||v.document).createElement(\"div\");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw v.console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return Ve(t.childNodes[0])},fromTag:function(e,n){var t=(n||v.document).createElement(e);return Ve(t)},fromText:function(e,n){var t=(n||v.document).createTextNode(e);return Ve(t)},fromDom:Ve,fromPoint:function(e,n,t){var r=e.dom();return p.from(r.elementFromPoint(n,t)).map(Ve)}},Ke=(v.Node.ATTRIBUTE_NODE,v.Node.CDATA_SECTION_NODE,v.Node.COMMENT_NODE,v.Node.DOCUMENT_NODE,v.Node.DOCUMENT_TYPE_NODE,v.Node.DOCUMENT_FRAGMENT_NODE,v.Node.ELEMENT_NODE),Qe=(v.Node.TEXT_NODE,v.Node.PROCESSING_INSTRUCTION_NODE,v.Node.ENTITY_REFERENCE_NODE,v.Node.ENTITY_NODE,v.Node.NOTATION_NODE,Ke),Ze=(Ye.get().browser.isIE(),\"undefined\"!=typeof v.window?v.window:Function(\"return this;\")(),0),en=function(e,n){var t=n.src;return 0===t.indexOf(\"data:\")||0===t.indexOf(\"blob:\")||new $(t).host===e.documentBaseURI.host},nn=function(e,n){return-1!==i.inArray(function(e){return e.getParam(\"imagetools_cors_hosts\",[],\"string[]\")}(e),new $(n.src).host)},tn=function(n,t,r){return function(){var e=Oe(n).fold(function(){return null},function(e){var n=Z.getImageSize(e.dom());return n?{w:n.h,h:n.w}:null});return xe(n,t,function(e){return function(e,n){return B(e,n)}(e,r)},e)()}},rn=function(e,n,t){return function(){return xe(e,n,function(e){return function(e,n){return F(e,n)}(e,t)})()}},on=function(n,e){function t(e){return function(e){return n.dom.is(e,\"img:not([data-mce-object],[data-mce-placeholder])\")}(e)&&(en(n,e)||nn(n,e)||n.settings.imagetools_proxy)}return be(n,e)?ye(e).map(function(e){return t(e.dom())?p.some(e.dom()):p.none()}):t(e)?p.some(e):p.none()},un=Se,an=Ne,cn=Oe,sn=function(n,t,r,o,i){return new q(function(e){(function(e){return D(e)})(i).then(function(e){var n=Z.getNaturalImageSize(e);return o.w===n.w&&o.h===n.h||Z.getImageSize(r)&&Z.setImageSize(r,n),v.URL.revokeObjectURL(e.src),i}).then(z).then(function(e){return _e(n,e,!0,t,r)},function(){})})},fn=d(\"save-state\"),ln=d(\"disable\"),dn=d(\"enable\"),mn=function(i,u){return function(){var r=cn(i),o=r.map(function(e){return Z.getNaturalImageSize(e.dom())});cn(i).each(function(n){on(i,n.dom()).each(function(e){an(i,n.dom()).then(function(e){var n=function(e){return{blob:e,url:v.URL.createObjectURL(e)}}(e);i.windowManager.open(function(e){return{title:\"Edit Image\",size:\"large\",body:{type:\"panel\",items:[{type:\"imagetools\",name:\"imagetools\",label:\"Edit Image\",currentState:e}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0,disabled:!0}],onSubmit:function(e){var t=e.getData().imagetools.blob;r.each(function(n){o.each(function(e){sn(i,u,n.dom(),e,t)})}),e.close()},onCancel:function(){},onAction:function(e,n){switch(n.name){case fn():n.value?e.enable(\"save\"):e.disable(\"save\");break;case ln():e.disable(\"save\"),e.disable(\"cancel\");break;case dn():e.enable(\"cancel\")}}}}(n))})})})}},hn=function(t,e){i.each({mceImageRotateLeft:tn(t,e,-90),mceImageRotateRight:tn(t,e,90),mceImageFlipVertical:rn(t,e,\"v\"),mceImageFlipHorizontal:rn(t,e,\"h\"),mceEditImage:mn(t,e)},function(e,n){t.addCommand(n,e)})},gn=function(t,r,o){t.on(\"NodeChange\",function(e){var n=o.get();n&&n.src!==e.element.src&&(un(r),t.editorUpload.uploadImagesAuto(),o.set(null)),on(t,e.element).each(o.set)})},vn=function(r){function n(e){return function(){return r.execCommand(e)}}r.ui.registry.addButton(\"rotateleft\",{tooltip:\"Rotate counterclockwise\",icon:\"rotate-left\",onAction:n(\"mceImageRotateLeft\")}),r.ui.registry.addButton(\"rotateright\",{tooltip:\"Rotate clockwise\",icon:\"rotate-right\",onAction:n(\"mceImageRotateRight\")}),r.ui.registry.addButton(\"flipv\",{tooltip:\"Flip vertically\",icon:\"flip-vertically\",onAction:n(\"mceImageFlipVertical\")}),r.ui.registry.addButton(\"fliph\",{tooltip:\"Flip horizontally\",icon:\"flip-horizontally\",onAction:n(\"mceImageFlipHorizontal\")}),r.ui.registry.addButton(\"editimage\",{tooltip:\"Edit image\",icon:\"edit-image\",onAction:n(\"mceEditImage\"),onSetup:function(t){function e(){cn(r).each(function(e){var n=on(r,e.dom()).isNone();t.setDisabled(n)})}return r.on(\"NodeChange\",e),function(){r.off(\"NodeChange\",e)}}}),r.ui.registry.addButton(\"imageoptions\",{tooltip:\"Image options\",icon:\"image-options\",onAction:n(\"mceImage\")}),r.ui.registry.addContextMenu(\"imagetools\",{update:function(e){return on(r,e).fold(function(){return[]},function(e){return[{text:\"Edit image\",icon:\"edit-image\",onAction:n(\"mceEditImage\")}]})}})},pn=function(n){n.ui.registry.addContextToolbar(\"imagetools\",{items:function(e){return e.getParam(\"imagetools_toolbar\",\"rotateleft rotateright flipv fliph editimage imageoptions\")}(n),predicate:function(e){return on(n,e).isSome()},position:\"node\",scope:\"node\"})};!function En(){o.add(\"imagetools\",function(e){var n=r(0),t=r(null);hn(e,n),vn(e),pn(e),gn(e,n,t)})}()}(window);"]}