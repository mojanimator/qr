{"version":3,"sources":["../../../../../public/js/plugins/legacyoutput/plugin.js"],"names":["global","tinymce","util","Tools","resolve","global$1","getFontSizeFormats","editor","getParam","setFontSizeFormats","fontsize_formats","settings","getFontFormats","setFontFormats","font_formats","getFontSizeStyleValues","setInlineStyles","inline_styles","Settings","overrideFormats","alignElements","fontSizes","explode","schema","formatter","register","alignleft","selector","attributes","align","aligncenter","alignright","alignjustify","bold","inline","remove","styles","fontWeight","italic","fontStyle","underline","textDecoration","exact","strikethrough","fontname","toggle","face","fontsize","size","vars","inArray","value","forecolor","color","links","remove_similar","clear_child_styles","hilitecolor","backgroundColor","each","split","name","addValidElements","getElementRule","rule","attributesOrder","push","overrideSettings","defaultFontsizeFormats","defaultFontsFormats","setup","on","Formats","Plugin","add"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getFontSizeFormats = function (editor) {\n      return editor.getParam('fontsize_formats');\n    };\n    var setFontSizeFormats = function (editor, fontsize_formats) {\n      editor.settings.fontsize_formats = fontsize_formats;\n    };\n    var getFontFormats = function (editor) {\n      return editor.getParam('font_formats');\n    };\n    var setFontFormats = function (editor, font_formats) {\n      editor.settings.font_formats = font_formats;\n    };\n    var getFontSizeStyleValues = function (editor) {\n      return editor.getParam('font_size_style_values', 'xx-small,x-small,small,medium,large,x-large,xx-large');\n    };\n    var setInlineStyles = function (editor, inline_styles) {\n      editor.settings.inline_styles = inline_styles;\n    };\n    var Settings = {\n      getFontFormats: getFontFormats,\n      getFontSizeFormats: getFontSizeFormats,\n      setFontSizeFormats: setFontSizeFormats,\n      setFontFormats: setFontFormats,\n      getFontSizeStyleValues: getFontSizeStyleValues,\n      setInlineStyles: setInlineStyles\n    };\n\n    var overrideFormats = function (editor) {\n      var alignElements = 'p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li,table', fontSizes = global$1.explode(Settings.getFontSizeStyleValues(editor)), schema = editor.schema;\n      editor.formatter.register({\n        alignleft: {\n          selector: alignElements,\n          attributes: { align: 'left' }\n        },\n        aligncenter: {\n          selector: alignElements,\n          attributes: { align: 'center' }\n        },\n        alignright: {\n          selector: alignElements,\n          attributes: { align: 'right' }\n        },\n        alignjustify: {\n          selector: alignElements,\n          attributes: { align: 'justify' }\n        },\n        bold: [\n          {\n            inline: 'b',\n            remove: 'all'\n          },\n          {\n            inline: 'strong',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          }\n        ],\n        italic: [\n          {\n            inline: 'i',\n            remove: 'all'\n          },\n          {\n            inline: 'em',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          }\n        ],\n        underline: [\n          {\n            inline: 'u',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          }\n        ],\n        strikethrough: [\n          {\n            inline: 'strike',\n            remove: 'all'\n          },\n          {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          }\n        ],\n        fontname: {\n          inline: 'font',\n          toggle: false,\n          attributes: { face: '%value' }\n        },\n        fontsize: {\n          inline: 'font',\n          toggle: false,\n          attributes: {\n            size: function (vars) {\n              return global$1.inArray(fontSizes, vars.value) + 1;\n            }\n          }\n        },\n        forecolor: {\n          inline: 'font',\n          attributes: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'font',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        }\n      });\n      global$1.each('b,i,u,strike'.split(','), function (name) {\n        schema.addValidElements(name + '[*]');\n      });\n      if (!schema.getElementRule('font')) {\n        schema.addValidElements('font[face|size|color|style]');\n      }\n      global$1.each(alignElements.split(','), function (name) {\n        var rule = schema.getElementRule(name);\n        if (rule) {\n          if (!rule.attributes.align) {\n            rule.attributes.align = {};\n            rule.attributesOrder.push('align');\n          }\n        }\n      });\n    };\n    var overrideSettings = function (editor) {\n      var defaultFontsizeFormats = '8pt=1 10pt=2 12pt=3 14pt=4 18pt=5 24pt=6 36pt=7';\n      var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n      Settings.setInlineStyles(editor, false);\n      if (!Settings.getFontSizeFormats(editor)) {\n        Settings.setFontSizeFormats(editor, defaultFontsizeFormats);\n      }\n      if (!Settings.getFontFormats(editor)) {\n        Settings.setFontFormats(editor, defaultFontsFormats);\n      }\n    };\n    var setup = function (editor) {\n      overrideSettings(editor);\n      editor.on('init', function () {\n        return overrideFormats(editor);\n      });\n    };\n    var Formats = { setup: setup };\n\n    function Plugin () {\n      global.add('legacyoutput', function (editor) {\n        Formats.setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n"]}