{"version":3,"sources":["../../../../../public/js/plugins/anchor/plugin.min.js"],"names":["e","o","t","length","n","attr","firstChild","tinymce","util","Tools","resolve","test","selection","getNode","tagName","dom","getAttrib","getAttribute","r","removeAttribute","id","undoManager","add","focus","collapse","execCommand","createHTML","a","windowManager","open","title","size","body","type","items","name","label","placeholder","buttons","text","primary","initialData","onSubmit","alert","getData","close","i","addCommand","c","on","parser","addNodeFilter","serializer","d","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","selectorChangedWithUnbind","setActive","unbind","addMenuItem","u"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function e(o){return function(t){for(var e=0;e<t.length;e++)(n=t[e]).attr(\"href\")||!n.attr(\"id\")&&!n.attr(\"name\")||n.firstChild||t[e].attr(\"contenteditable\",o);var n}}var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),n=function(t){return/^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(t)},o=function(t){var e=t.selection.getNode();return\"A\"===e.tagName&&\"\"===t.dom.getAttrib(e,\"href\")?e.getAttribute(\"id\")||e.getAttribute(\"name\"):\"\"},r=function(t,e){var n=t.selection.getNode();\"A\"===n.tagName&&\"\"===t.dom.getAttrib(n,\"href\")?(n.removeAttribute(\"name\"),n.id=e,t.undoManager.add()):(t.focus(),t.selection.collapse(!0),t.execCommand(\"mceInsertContent\",!1,t.dom.createHTML(\"a\",{id:e})))},a=function(e){var t=o(e);e.windowManager.open({title:\"Anchor\",size:\"normal\",body:{type:\"panel\",items:[{name:\"id\",type:\"input\",label:\"ID\",placeholder:\"example\"}]},buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],initialData:{id:t},onSubmit:function(t){!function(t,e){return n(e)?(r(t,e),!1):(t.windowManager.alert(\"Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.\"),!0)}(e,t.getData().id)&&t.close()}})},i=function(t){t.addCommand(\"mceAnchor\",function(){a(t)})},c=function(t){t.on(\"PreInit\",function(){t.parser.addNodeFilter(\"a\",e(\"false\")),t.serializer.addNodeFilter(\"a\",e(null))})},d=function(e){e.ui.registry.addToggleButton(\"anchor\",{icon:\"bookmark\",tooltip:\"Anchor\",onAction:function(){return e.execCommand(\"mceAnchor\")},onSetup:function(t){return e.selection.selectorChangedWithUnbind(\"a:not([href])\",t.setActive).unbind}}),e.ui.registry.addMenuItem(\"anchor\",{icon:\"bookmark\",text:\"Anchor...\",onAction:function(){return e.execCommand(\"mceAnchor\")}})};!function u(){t.add(\"anchor\",function(t){c(t),i(t),d(t)})}()}();"]}