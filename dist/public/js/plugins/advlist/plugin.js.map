{"version":3,"sources":["../../../../../public/js/plugins/advlist/plugin.js"],"names":["global","tinymce","util","Tools","resolve","global$1","applyListFormat","editor","listName","styleValue","cmd","execCommand","Actions","register","addCommand","ui","value","Commands","getNumberStyles","styles","getParam","split","getBulletStyles","Settings","noop","constant","never","always","none","NONE","eq","o","isNone","call","thunk","id","n","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","f","v","elementEq","b","from","Option","isChildOfBody","elm","$","contains","getBody","isTableCellNode","node","test","nodeName","isListNode","getSelectedStyleType","listElm","dom","getParent","selection","getNode","style","getStyle","ListUtils","findIndex","list","predicate","index","length","element","styleValueToText","replace","chr","toUpperCase","isWithinList","e","tableCellIndex","parents","slice","lists","grep","addSplitButton","tooltip","registry","icon","presets","columns","fetch","callback","items","iconStyle","iconName","itemValue","displayText","type","text","onAction","onItemAction","splitButtonApi","select","listStyleType","listStyle","onSetup","api","nodeChangeHandler","setActive","on","off","addButton","addToggleButton","active","addControl","register$1","Buttons","Plugin","add","hasPlugin","plugin","plugins","settings","inArray"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var applyListFormat = function (editor, listName, styleValue) {\n      var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n      editor.execCommand(cmd, false, styleValue === false ? null : { 'list-style-type': styleValue });\n    };\n    var Actions = { applyListFormat: applyListFormat };\n\n    var register = function (editor) {\n      editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n        Actions.applyListFormat(editor, 'UL', value['list-style-type']);\n      });\n      editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n        Actions.applyListFormat(editor, 'OL', value['list-style-type']);\n      });\n    };\n    var Commands = { register: register };\n\n    var getNumberStyles = function (editor) {\n      var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var getBulletStyles = function (editor) {\n      var styles = editor.getParam('advlist_bullet_styles', 'default,circle,square');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var Settings = {\n      getNumberStyles: getNumberStyles,\n      getBulletStyles: getBulletStyles\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var isChildOfBody = function (editor, elm) {\n      return editor.$.contains(editor.getBody(), elm);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isListNode = function (editor) {\n      return function (node) {\n        return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n      };\n    };\n    var getSelectedStyleType = function (editor) {\n      var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n      var style = editor.dom.getStyle(listElm, 'listStyleType');\n      return Option.from(style);\n    };\n    var ListUtils = {\n      isTableCellNode: isTableCellNode,\n      isListNode: isListNode,\n      getSelectedStyleType: getSelectedStyleType\n    };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var styleValueToText = function (styleValue) {\n      return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n        return chr.toUpperCase();\n      });\n    };\n    var isWithinList = function (editor, e, nodeName) {\n      var tableCellIndex = findIndex(e.parents, ListUtils.isTableCellNode);\n      var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n      var lists = global$1.grep(parents, ListUtils.isListNode(editor));\n      return lists.length > 0 && lists[0].nodeName === nodeName;\n    };\n    var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.ui.registry.addSplitButton(id, {\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        presets: 'listpreview',\n        columns: 3,\n        fetch: function (callback) {\n          var items = global$1.map(styles, function (styleValue) {\n            var iconStyle = nodeName === 'OL' ? 'num' : 'bull';\n            var iconName = styleValue === 'disc' || styleValue === 'decimal' ? 'default' : styleValue;\n            var itemValue = styleValue === 'default' ? '' : styleValue;\n            var displayText = styleValueToText(styleValue);\n            return {\n              type: 'choiceitem',\n              value: itemValue,\n              icon: 'list-' + iconStyle + '-' + iconName,\n              text: displayText\n            };\n          });\n          callback(items);\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        },\n        onItemAction: function (splitButtonApi, value) {\n          Actions.applyListFormat(editor, nodeName, value);\n        },\n        select: function (value) {\n          var listStyleType = ListUtils.getSelectedStyleType(editor);\n          return listStyleType.map(function (listStyle) {\n            return value === listStyle;\n          }).getOr(false);\n        },\n        onSetup: function (api) {\n          var nodeChangeHandler = function (e) {\n            api.setActive(isWithinList(editor, e, nodeName));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        }\n      });\n    };\n    var addButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.ui.registry.addToggleButton(id, {\n        active: false,\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        onSetup: function (api) {\n          var nodeChangeHandler = function (e) {\n            api.setActive(isWithinList(editor, e, nodeName));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        }\n      });\n    };\n    var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n      if (styles.length > 0) {\n        addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n      } else {\n        addButton(editor, id, tooltip, cmd, nodeName);\n      }\n    };\n    var register$1 = function (editor) {\n      addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', Settings.getNumberStyles(editor));\n      addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', Settings.getBulletStyles(editor));\n    };\n    var Buttons = { register: register$1 };\n\n    function Plugin () {\n      global.add('advlist', function (editor) {\n        var hasPlugin = function (editor, plugin) {\n          var plugins = editor.settings.plugins ? editor.settings.plugins : '';\n          return global$1.inArray(plugins.split(/[ ,]/), plugin) !== -1;\n        };\n        if (hasPlugin(editor, 'lists')) {\n          Buttons.register(editor);\n          Commands.register(editor);\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n"]}