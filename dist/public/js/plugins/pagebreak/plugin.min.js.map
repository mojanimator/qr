{"version":3,"sources":["../../../../../public/js/plugins/pagebreak/plugin.min.js"],"names":["e","a","t","transparentSrc","n","tinymce","util","Tools","resolve","r","getParam","i","o","c","RegExp","replace","on","content","serializer","addNodeFilter","length","attr","indexOf","parent","schema","getBlockElements","name","type","value","raw","remove","u","g","addCommand","settings","pagebreak_split_block","insertContent","m","target","nodeName","dom","hasClass","s","ui","registry","addButton","icon","tooltip","onAction","execCommand","addMenuItem","text","l","add"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function e(){return\"mce-pagebreak\"}function a(){return'<img src=\"'+t.transparentSrc+'\" class=\"mce-pagebreak\" data-mce-resize=\"false\" data-mce-placeholder />'}var n=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),t=tinymce.util.Tools.resolve(\"tinymce.Env\"),r=function(e){return e.getParam(\"pagebreak_separator\",\"\\x3c!-- pagebreak --\\x3e\")},i=function(e){return e.getParam(\"pagebreak_split_block\",!1)},o=function(o){var c=r(o),n=new RegExp(c.replace(/[\\?\\.\\*\\[\\]\\(\\)\\{\\}\\+\\^\\$\\:]/g,function(e){return\"\\\\\"+e}),\"gi\");o.on(\"BeforeSetContent\",function(e){e.content=e.content.replace(n,a())}),o.on(\"PreInit\",function(){o.serializer.addNodeFilter(\"img\",function(e){for(var n,a,t=e.length;t--;)if((a=(n=e[t]).attr(\"class\"))&&-1!==a.indexOf(\"mce-pagebreak\")){var r=n.parent;if(o.schema.getBlockElements()[r.name]&&i(o)){r.type=3,r.value=c,r.raw=!0,n.remove();continue}n.type=3,n.value=c,n.raw=!0}})})},c=a,u=e,g=function(e){e.addCommand(\"mcePageBreak\",function(){e.settings.pagebreak_split_block?e.insertContent(\"<p>\"+c()+\"</p>\"):e.insertContent(c())})},m=function(n){n.on(\"ResolveName\",function(e){\"IMG\"===e.target.nodeName&&n.dom.hasClass(e.target,u())&&(e.name=\"pagebreak\")})},s=function(e){e.ui.registry.addButton(\"pagebreak\",{icon:\"page-break\",tooltip:\"Page break\",onAction:function(){return e.execCommand(\"mcePageBreak\")}}),e.ui.registry.addMenuItem(\"pagebreak\",{text:\"Page break\",icon:\"page-break\",onAction:function(){return e.execCommand(\"mcePageBreak\")}})};!function l(){n.add(\"pagebreak\",function(e){g(e),s(e),o(e),m(e)})}()}();"]}