{"version":3,"sources":["../../../../../public/js/plugins/wordcount/plugin.js"],"names":["global","tinymce","util","Tools","resolve","noop","constant","value","identity","x","never","always","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","regExps","aletter","midnumlet","midletter","midnum","numeric","cr","lf","newline","extend","format","katakana","extendnumlet","punctuation","characterIndices","ALETTER","MIDNUMLET","MIDLETTER","MIDNUM","NUMERIC","CR","LF","NEWLINE","EXTEND","FORMAT","KATAKANA","EXTENDNUMLET","AT","OTHER","SETS","RegExp","EMPTY_STRING","PUNCTUATION","WHITESPACE","none","NONE","eq","o","isNone","thunk","id","me","fold","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","freeze","typeOf","Array","isPrototypeOf","constructor","name","String","isType","type","isFunction","nativeSlice","slice","xs","f","len","r","from","SETS$1","getType","char","setsLength","j","set","test","memoize","func","cache","result","classify","characters","memoized","isWordBoundary","index","prevType","nextType","nextNextType","EMPTY_STRING$1","WHITESPACE$1","PUNCTUATION$1","isProtocol","str","findWordEnd","startIndex","findUrlEnd","endIndex","peakedWord","join","substr","findWords","chars","sChars","characterMap","options","words","word","push","ch","includeWhitespace","includePunctuation","startOfWord","endOfWord","endOfUrl","url","getDefaultOptions","getWords","extract","filteredChars","extractedChars","getWords$1","global$1","getText","node","schema","blockElements","getBlockElements","shortEndedElements","getShortEndedElements","isNewline","nodeName","textBlocks","txt","treeWalker","next","nodeType","data","strLen","replace","countWords","text","split","countCharacters","countCharactersWithoutSpaces","createBodyCounter","editor","count","getBody","createSelectionCounter","selection","getRng","cloneContents","createBodyWordCounter","get","body","getWordCount","getCharacterCount","getCharacterCountWithoutSpaces","getCount","global$2","fireWordCountUpdate","api","fire","wordCount","charactersWithoutSpaces","updateCount","setup","delay","debouncedUpdate","debounce","on","setEditorTimeout","open","windowManager","title","items","header","cells","buttons","primary","register","ui","registry","addButton","tooltip","icon","onAction","addMenuItem","Plugin","add"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n\n    var regExps = {\n      aletter: '[A-Za-z\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05F3\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u10a0-\\u10c5\\u10d0-\\u10fa\\u10fc\\u1100-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1a00-\\u1a16\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bc0-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u24B6-\\u24E9\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2d00-\\u2d25\\u2d30-\\u2d65\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005\\u303b\\u303c\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790\\ua791\\ua7a0-\\ua7a9\\ua7fa-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uffa0-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc]',\n      midnumlet: '[-\\'\\\\.\\u2018\\u2019\\u2024\\uFE52\\uFF07\\uFF0E]',\n      midletter: '[:\\xB7\\xB7\\u05F4\\u2027\\uFE13\\uFE55\\uFF1A]',\n      midnum: '[\\xB1+*/,;;\\u0589\\u060C\\u060D\\u066C\\u07F8\\u2044\\uFE10\\uFE14\\uFE50\\uFE54\\uFF0C\\uFF1B]',\n      numeric: '[0-9\\u0660-\\u0669\\u066B\\u06f0-\\u06f9\\u07c0-\\u07c9\\u0966-\\u096f\\u09e6-\\u09ef\\u0a66-\\u0a6f\\u0ae6-\\u0aef\\u0b66-\\u0b6f\\u0be6-\\u0bef\\u0c66-\\u0c6f\\u0ce6-\\u0cef\\u0d66-\\u0d6f\\u0e50-\\u0e59\\u0ed0-\\u0ed9\\u0f20-\\u0f29\\u1040-\\u1049\\u1090-\\u1099\\u17e0-\\u17e9\\u1810-\\u1819\\u1946-\\u194f\\u19d0-\\u19d9\\u1a80-\\u1a89\\u1a90-\\u1a99\\u1b50-\\u1b59\\u1bb0-\\u1bb9\\u1c40-\\u1c49\\u1c50-\\u1c59\\ua620-\\ua629\\ua8d0-\\ua8d9\\ua900-\\ua909\\ua9d0-\\ua9d9\\uaa50-\\uaa59\\uabf0-\\uabf9]',\n      cr: '\\\\r',\n      lf: '\\\\n',\n      newline: '[\\x0B\\f\\x85\\u2028\\u2029]',\n      extend: '[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09cb-\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2\\u0ae3\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0c01-\\u0c03\\u0c3e-\\u0c44\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d02\\u0d03\\u0d3e-\\u0d44\\u0d46-\\u0d48\\u0d4a-\\u0d4d\\u0d57\\u0d62\\u0d63\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f3e\\u0f3f\\u0f71-\\u0f84\\u0f86\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102b-\\u103e\\u1056-\\u1059\\u105e-\\u1060\\u1062-\\u1064\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f\\u109a-\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b6-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u192b\\u1930-\\u193b\\u19b0-\\u19c0\\u19c8\\u19c9\\u1a17-\\u1a1b\\u1a55-\\u1a5e\\u1a60-\\u1a7c\\u1a7f\\u1b00-\\u1b04\\u1b34-\\u1b44\\u1b6b-\\u1b73\\u1b80-\\u1b82\\u1ba1-\\u1baa\\u1be6-\\u1bf3\\u1c24-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce8\\u1ced\\u1cf2\\u1dc0-\\u1de6\\u1dfc-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\uA672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua823-\\ua827\\ua880\\ua881\\ua8b4-\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua953\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa29-\\uaa36\\uaa43\\uaa4c\\uaa4d\\uaa7b\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe3-\\uabea\\uabec\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]',\n      format: '[\\xAD\\u0600-\\u0603\\u06DD\\u070F\\u17b4\\u17b5\\u200E\\u200F\\u202A-\\u202E\\u2060-\\u2064\\u206A-\\u206F\\uFEFF\\uFFF9-\\uFFFB]',\n      katakana: '[\\u3031-\\u3035\\u309B\\u309C\\u30A0-\\u30fa\\u30fc-\\u30ff\\u31f0-\\u31ff\\u32D0-\\u32FE\\u3300-\\u3357\\uff66-\\uff9d]',\n      extendnumlet: '[=_\\u203f\\u2040\\u2054\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff3f\\u2200-\\u22FF<>]',\n      punctuation: '[!-#%-*,-\\\\/:;?@\\\\[-\\\\]_{}\\xA1\\xAB\\xB7\\xBB\\xBF;\\xB7\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1361-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u3008\\u3009\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30\\u2E31\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uff3f\\uFF5B\\uFF5D\\uFF5F-\\uFF65]'\n    };\n    var characterIndices = {\n      ALETTER: 0,\n      MIDNUMLET: 1,\n      MIDLETTER: 2,\n      MIDNUM: 3,\n      NUMERIC: 4,\n      CR: 5,\n      LF: 6,\n      NEWLINE: 7,\n      EXTEND: 8,\n      FORMAT: 9,\n      KATAKANA: 10,\n      EXTENDNUMLET: 11,\n      AT: 12,\n      OTHER: 13\n    };\n    var SETS = [\n      new RegExp(regExps.aletter),\n      new RegExp(regExps.midnumlet),\n      new RegExp(regExps.midletter),\n      new RegExp(regExps.midnum),\n      new RegExp(regExps.numeric),\n      new RegExp(regExps.cr),\n      new RegExp(regExps.lf),\n      new RegExp(regExps.newline),\n      new RegExp(regExps.extend),\n      new RegExp(regExps.format),\n      new RegExp(regExps.katakana),\n      new RegExp(regExps.extendnumlet),\n      new RegExp('@')\n    ];\n    var EMPTY_STRING = '';\n    var PUNCTUATION = new RegExp('^' + regExps.punctuation + '$');\n    var WHITESPACE = /^\\s+$/;\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var from = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var SETS$1 = SETS;\n    var OTHER = characterIndices.OTHER;\n    var getType = function (char) {\n      var type = OTHER;\n      var setsLength = SETS$1.length;\n      for (var j = 0; j < setsLength; ++j) {\n        var set = SETS$1[j];\n        if (set && set.test(char)) {\n          type = j;\n          break;\n        }\n      }\n      return type;\n    };\n    var memoize = function (func) {\n      var cache = {};\n      return function (char) {\n        if (cache[char]) {\n          return cache[char];\n        } else {\n          var result = func(char);\n          cache[char] = result;\n          return result;\n        }\n      };\n    };\n    var classify = function (characters) {\n      var memoized = memoize(getType);\n      return map(characters, memoized);\n    };\n\n    var isWordBoundary = function (map, index) {\n      var prevType;\n      var type = map[index];\n      var nextType = map[index + 1];\n      var nextNextType;\n      if (index < 0 || index > map.length - 1 && index !== 0) {\n        return false;\n      }\n      if (type === characterIndices.ALETTER && nextType === characterIndices.ALETTER) {\n        return false;\n      }\n      nextNextType = map[index + 2];\n      if (type === characterIndices.ALETTER && (nextType === characterIndices.MIDLETTER || nextType === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextNextType === characterIndices.ALETTER) {\n        return false;\n      }\n      prevType = map[index - 1];\n      if ((type === characterIndices.MIDLETTER || type === characterIndices.MIDNUMLET || nextType === characterIndices.AT) && nextType === characterIndices.ALETTER && prevType === characterIndices.ALETTER) {\n        return false;\n      }\n      if ((type === characterIndices.NUMERIC || type === characterIndices.ALETTER) && (nextType === characterIndices.NUMERIC || nextType === characterIndices.ALETTER)) {\n        return false;\n      }\n      if ((type === characterIndices.MIDNUM || type === characterIndices.MIDNUMLET) && nextType === characterIndices.NUMERIC && prevType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.NUMERIC && (nextType === characterIndices.MIDNUM || nextType === characterIndices.MIDNUMLET) && nextNextType === characterIndices.NUMERIC) {\n        return false;\n      }\n      if (type === characterIndices.EXTEND || type === characterIndices.FORMAT || prevType === characterIndices.EXTEND || prevType === characterIndices.FORMAT || nextType === characterIndices.EXTEND || nextType === characterIndices.FORMAT) {\n        return false;\n      }\n      if (type === characterIndices.CR && nextType === characterIndices.LF) {\n        return false;\n      }\n      if (type === characterIndices.NEWLINE || type === characterIndices.CR || type === characterIndices.LF) {\n        return true;\n      }\n      if (nextType === characterIndices.NEWLINE || nextType === characterIndices.CR || nextType === characterIndices.LF) {\n        return true;\n      }\n      if (type === characterIndices.KATAKANA && nextType === characterIndices.KATAKANA) {\n        return false;\n      }\n      if (nextType === characterIndices.EXTENDNUMLET && (type === characterIndices.ALETTER || type === characterIndices.NUMERIC || type === characterIndices.KATAKANA || type === characterIndices.EXTENDNUMLET)) {\n        return false;\n      }\n      if (type === characterIndices.EXTENDNUMLET && (nextType === characterIndices.ALETTER || nextType === characterIndices.NUMERIC || nextType === characterIndices.KATAKANA)) {\n        return false;\n      }\n      if (type === characterIndices.AT) {\n        return false;\n      }\n      return true;\n    };\n\n    var EMPTY_STRING$1 = EMPTY_STRING;\n    var WHITESPACE$1 = WHITESPACE;\n    var PUNCTUATION$1 = PUNCTUATION;\n    var isProtocol = function (str) {\n      return str === 'http' || str === 'https';\n    };\n    var findWordEnd = function (characters, startIndex) {\n      var i;\n      for (i = startIndex; i < characters.length; i++) {\n        if (WHITESPACE$1.test(characters[i])) {\n          break;\n        }\n      }\n      return i;\n    };\n    var findUrlEnd = function (characters, startIndex) {\n      var endIndex = findWordEnd(characters, startIndex + 1);\n      var peakedWord = characters.slice(startIndex + 1, endIndex).join(EMPTY_STRING$1);\n      return peakedWord.substr(0, 3) === '://' ? endIndex : startIndex;\n    };\n    var findWords = function (chars, sChars, characterMap, options) {\n      var words = [];\n      var word = [];\n      for (var i = 0; i < characterMap.length; ++i) {\n        word.push(chars[i]);\n        if (isWordBoundary(characterMap, i)) {\n          var ch = sChars[i];\n          if ((options.includeWhitespace || !WHITESPACE$1.test(ch)) && (options.includePunctuation || !PUNCTUATION$1.test(ch))) {\n            var startOfWord = i - word.length + 1;\n            var endOfWord = i + 1;\n            var str = sChars.slice(startOfWord, endOfWord).join(EMPTY_STRING$1);\n            if (isProtocol(str)) {\n              var endOfUrl = findUrlEnd(sChars, i);\n              var url = chars.slice(endOfWord, endOfUrl);\n              Array.prototype.push.apply(word, url);\n              i = endOfUrl;\n            }\n            words.push(word);\n          }\n          word = [];\n        }\n      }\n      return words;\n    };\n    var getDefaultOptions = function () {\n      return {\n        includeWhitespace: false,\n        includePunctuation: false\n      };\n    };\n    var getWords = function (chars, extract, options) {\n      options = __assign(__assign({}, getDefaultOptions()), options);\n      var filteredChars = [];\n      var extractedChars = [];\n      for (var i = 0; i < chars.length; i++) {\n        var ch = extract(chars[i]);\n        if (ch !== '\\uFEFF') {\n          filteredChars.push(chars[i]);\n          extractedChars.push(ch);\n        }\n      }\n      var characterMap = classify(extractedChars);\n      return findWords(filteredChars, extractedChars, characterMap, options);\n    };\n\n    var getWords$1 = getWords;\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var getText = function (node, schema) {\n      var blockElements = schema.getBlockElements();\n      var shortEndedElements = schema.getShortEndedElements();\n      var isNewline = function (node) {\n        return blockElements[node.nodeName] || shortEndedElements[node.nodeName];\n      };\n      var textBlocks = [];\n      var txt = '';\n      var treeWalker = new global$1(node, node);\n      while (node = treeWalker.next()) {\n        if (node.nodeType === 3) {\n          txt += node.data;\n        } else if (isNewline(node) && txt.length) {\n          textBlocks.push(txt);\n          txt = '';\n        }\n      }\n      if (txt.length) {\n        textBlocks.push(txt);\n      }\n      return textBlocks;\n    };\n\n    var strLen = function (str) {\n      return str.replace(/[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, '_').length;\n    };\n    var countWords = function (node, schema) {\n      var text = getText(node, schema).join('\\n');\n      return getWords$1(text.split(''), identity).length;\n    };\n    var countCharacters = function (node, schema) {\n      var text = getText(node, schema).join('');\n      return strLen(text);\n    };\n    var countCharactersWithoutSpaces = function (node, schema) {\n      var text = getText(node, schema).join('').replace(/\\s/g, '');\n      return strLen(text);\n    };\n\n    var createBodyCounter = function (editor, count) {\n      return function () {\n        return count(editor.getBody(), editor.schema);\n      };\n    };\n    var createSelectionCounter = function (editor, count) {\n      return function () {\n        return count(editor.selection.getRng().cloneContents(), editor.schema);\n      };\n    };\n    var createBodyWordCounter = function (editor) {\n      return createBodyCounter(editor, countWords);\n    };\n    var get = function (editor) {\n      return {\n        body: {\n          getWordCount: createBodyWordCounter(editor),\n          getCharacterCount: createBodyCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createBodyCounter(editor, countCharactersWithoutSpaces)\n        },\n        selection: {\n          getWordCount: createSelectionCounter(editor, countWords),\n          getCharacterCount: createSelectionCounter(editor, countCharacters),\n          getCharacterCountWithoutSpaces: createSelectionCounter(editor, countCharactersWithoutSpaces)\n        },\n        getCount: createBodyWordCounter(editor)\n      };\n    };\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var fireWordCountUpdate = function (editor, api) {\n      editor.fire('wordCountUpdate', {\n        wordCount: {\n          words: api.body.getWordCount(),\n          characters: api.body.getCharacterCount(),\n          charactersWithoutSpaces: api.body.getCharacterCountWithoutSpaces()\n        }\n      });\n    };\n\n    var updateCount = function (editor, api) {\n      fireWordCountUpdate(editor, api);\n    };\n    var setup = function (editor, api, delay) {\n      var debouncedUpdate = global$2.debounce(function () {\n        return updateCount(editor, api);\n      }, delay);\n      editor.on('init', function () {\n        updateCount(editor, api);\n        global$2.setEditorTimeout(editor, function () {\n          editor.on('SetContent BeforeAddUndo Undo Redo keyup', debouncedUpdate);\n        }, 0);\n      });\n    };\n\n    var open = function (editor, api) {\n      editor.windowManager.open({\n        title: 'Word Count',\n        body: {\n          type: 'panel',\n          items: [{\n              type: 'table',\n              header: [\n                'Count',\n                'Document',\n                'Selection'\n              ],\n              cells: [\n                [\n                  'Words',\n                  String(api.body.getWordCount()),\n                  String(api.selection.getWordCount())\n                ],\n                [\n                  'Characters (no spaces)',\n                  String(api.body.getCharacterCountWithoutSpaces()),\n                  String(api.selection.getCharacterCountWithoutSpaces())\n                ],\n                [\n                  'Characters',\n                  String(api.body.getCharacterCount()),\n                  String(api.selection.getCharacterCount())\n                ]\n              ]\n            }]\n        },\n        buttons: [{\n            type: 'cancel',\n            name: 'close',\n            text: 'Close',\n            primary: true\n          }]\n      });\n    };\n\n    var register = function (editor, api) {\n      editor.ui.registry.addButton('wordcount', {\n        tooltip: 'Word count',\n        icon: 'character-count',\n        onAction: function () {\n          return open(editor, api);\n        }\n      });\n      editor.ui.registry.addMenuItem('wordcount', {\n        text: 'Word count',\n        icon: 'character-count',\n        onAction: function () {\n          return open(editor, api);\n        }\n      });\n    };\n\n    function Plugin (delay) {\n      if (delay === void 0) {\n        delay = 300;\n      }\n      global.add('wordcount', function (editor) {\n        var api = get(editor);\n        register(editor, api);\n        setup(editor, api, delay);\n        return api;\n      });\n    }\n\n    Plugin();\n\n}());\n"]}