{"version":3,"sources":["../../../../../public/js/plugins/spellchecker/plugin.min.js"],"names":["t","a","e","n","get","set","clone","tinymce","util","Tools","resolve","c","test","settings","plugins","window","console","log","l","u","d","f","fire","o","g","getParam","s","h","p","m","RegExp","b","nodeType","contentEditable","r","i","v","dom","Error","start","index","end","length","text","data","getElementsByTagName","getAttribute","className","indexOf","push","parentNode","insertBefore","firstChild","removeChild","createRng","setStartBefore","setEndAfter","schema","getBlockElements","getWhiteSpaceElements","getShortEndedElements","nodeName","nextSibling","matches","each","filter","reset","splice","matchFromElement","x","elementFromMatch","k","find","N","global","exec","add","y","substr","wrap","S","slice","sort","shift","startNode","startNodeIndex","endNode","endNodeIndex","innerNodes","match","matchIndex","stencil","cloneNode","setAttribute","appendChild","doc","createTextNode","substring","replaceChild","unwrap","replace","w","deleteContents","insertNode","rangeFromMatch","getBody","method","lang","encodeURIComponent","send","url","toAbsolute","type","content_type","success","JSON","parse","error","translate","call","spellchecker","select","selection","getBookmark","moveToBookmark","dictionary","words","setProgressState","notificationManager","open","suggestions","hasDictionarySupport","create","spellcheck","focus","checkIfFinished","addToDictionary","remove","ignoreWord","collapse","findSpansByIndex","toArray","toString","getElmIndex","markErrors","T","getTextMatcher","getWordCharPattern","getLanguage","I","addCommand","B","Object","assign","arguments","prototype","hasOwnProperty","apply","A","E","selectable","name","value","map","split","tooltip","onAction","icon","onSetup","setActive","on","off","fetch","onItemAction","ui","registry","addSplitButton","addToggleButton","addToggleMenuItem","C","addContextMenu","update","setRng","insertContent","encode"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(t){\"use strict\";var a=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return a(t())}}},n=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=function(e){return!(!/(^|[ ,])tinymcespellchecker([, ]|$)/.test(e.settings.plugins)||!n.get(\"tinymcespellchecker\"))&&(\"undefined\"!=typeof t.window.console&&t.window.console.log&&t.window.console.log(\"Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option.\"),!0)},l=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),u=tinymce.util.Tools.resolve(\"tinymce.util.URI\"),d=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),f=function(e){return e.fire(\"SpellcheckStart\")},o=function(e){return e.fire(\"SpellcheckEnd\")},g=function(e){return e.getParam(\"spellchecker_languages\",\"English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv\")},s=function(e){var t=e.getParam(\"language\",\"en\");return e.getParam(\"spellchecker_language\",t)},h=function(e){return e.getParam(\"spellchecker_rpc_url\")},p=function(e){return e.getParam(\"spellchecker_callback\")},m=function(e){var t=new RegExp('[^\\\\s!\"#$%&()*+,-./:;<=>?@[\\\\]^_{|}`\\xa7\\xa9\\xab\\xae\\xb1\\xb6\\xb7\\xb8\\xbb\\xbc\\xbd\\xbe\\xbf\\xd7\\xf7\\xa4\\u201d\\u201c\\u201e\\xa0\\u2002\\u2003\\u2009]+',\"g\");return e.getParam(\"spellchecker_wordchar_pattern\",t)};function b(e){return e&&1===e.nodeType&&\"false\"===e.contentEditable}function r(a,r){var n,o,g,h,p,i=[],v=r.dom;function c(e,t){if(!e[0])throw new Error(\"findAndReplaceDOMText cannot handle zero-length matches\");return{start:e.index,end:e.index+e[0].length,text:e[0],data:t}}function s(e){var t=a.getElementsByTagName(\"*\"),n=[];e=\"number\"==typeof e?\"\"+e:null;for(var r=0;r<t.length;r++){var o=t[r],i=o.getAttribute(\"data-mce-index\");null!==i&&i.length&&-1!==o.className.indexOf(\"mce-spellchecker-word\")&&(i!==e&&null!==e||n.push(o))}return n}function u(e){for(var t=i.length;t--;)if(i[t]===e)return t;return-1}function e(e){for(var t=0,n=i.length;t<n&&!1!==e(i[t],t);t++);return this}function t(e){var t,n,r=s(e?u(e):null);for(t=r.length;t--;)(n=r[t]).parentNode.insertBefore(n.firstChild,n),n.parentNode.removeChild(n);return this}function l(e){var t=s(u(e)),n=r.dom.createRng();return n.setStartBefore(t[0]),n.setEndAfter(t[t.length-1]),n}return g=r.schema.getBlockElements(),h=r.schema.getWhiteSpaceElements(),p=r.schema.getShortEndedElements(),{text:o=function d(e){var t;if(3===e.nodeType)return e.data;if(h[e.nodeName]&&!g[e.nodeName])return\"\";if(b(e))return\"\\n\";if(t=\"\",(g[e.nodeName]||p[e.nodeName])&&(t+=\"\\n\"),e=e.firstChild)for(;t+=d(e),e=e.nextSibling;);return t}(a),matches:i,each:e,filter:function f(n){var r=[];return e(function(e,t){n(e,t)&&r.push(e)}),i=r,this},reset:function m(){return i.splice(0,i.length),t(),this},matchFromElement:function x(e){return i[e.getAttribute(\"data-mce-index\")]},elementFromMatch:function k(e){return s(u(e))[0]},find:function N(e,t){if(o&&e.global)for(;n=e.exec(o);)i.push(c(n,t));return this},add:function y(e,t,n){return i.push({start:e,end:e+t,text:o.substr(e,t),data:n}),this},wrap:function S(e){return i.length&&function f(e,t,n){var r,o,i,a,c,s=[],u=0,l=e,d=0;(t=t.slice(0)).sort(function(e,t){return e.start-t.start}),c=t.shift();e:for(;;){if((g[l.nodeName]||p[l.nodeName]||b(l))&&u++,3===l.nodeType&&(!o&&l.length+u>=c.end?(o=l,a=c.end-u):r&&s.push(l),!r&&l.length+u>c.start&&(r=l,i=c.start-u),u+=l.length),r&&o){if(l=n({startNode:r,startNodeIndex:i,endNode:o,endNodeIndex:a,innerNodes:s,match:c.text,matchIndex:d}),u-=o.length-a,o=r=null,s=[],d++,!(c=t.shift()))break}else if(h[l.nodeName]&&!g[l.nodeName]||!l.firstChild){if(l.nextSibling){l=l.nextSibling;continue}}else if(!b(l)){l=l.firstChild;continue}for(;;){if(l.nextSibling){l=l.nextSibling;break}if(l.parentNode===e)break e;l=l.parentNode}}}(a,i,function t(o){function m(e,t){var n=i[t];n.stencil||(n.stencil=o(n));var r=n.stencil.cloneNode(!1);return r.setAttribute(\"data-mce-index\",t),e&&r.appendChild(v.doc.createTextNode(e)),r}return function(e){var t,n,r,o=e.startNode,i=e.endNode,a=e.matchIndex,c=v.doc;if(o===i){var s=o;r=s.parentNode,0<e.startNodeIndex&&(t=c.createTextNode(s.data.substring(0,e.startNodeIndex)),r.insertBefore(t,s));var u=m(e.match,a);return r.insertBefore(u,s),e.endNodeIndex<s.length&&(n=c.createTextNode(s.data.substring(e.endNodeIndex)),r.insertBefore(n,s)),s.parentNode.removeChild(s),u}t=c.createTextNode(o.data.substring(0,e.startNodeIndex)),n=c.createTextNode(i.data.substring(e.endNodeIndex));for(var l=m(o.data.substring(e.startNodeIndex),a),d=0,f=e.innerNodes.length;d<f;++d){var g=e.innerNodes[d],h=m(g.data,a);g.parentNode.replaceChild(h,g)}var p=m(i.data.substring(0,e.endNodeIndex),a);return(r=o.parentNode).insertBefore(t,o),r.insertBefore(l,o),r.removeChild(o),(r=i.parentNode).insertBefore(p,i),r.insertBefore(n,i),r.removeChild(i),p}}(e)),this},unwrap:t,replace:function w(e,t){var n=l(e);return n.deleteContents(),0<t.length&&n.insertNode(r.dom.doc.createTextNode(t)),n},rangeFromMatch:l,indexOf:u}}function v(e,t){if(!t.get()){var n=r(e.getBody(),e);t.set(n)}return t.get()}function x(e,t,n,r,o,i,a){var c=p(e);(c||function(a,c,s){return function(e,t,r,o){var n={method:e,lang:s.get()},i=\"\";n[\"addToDictionary\"===e?\"word\":\"text\"]=t,l.each(n,function(e,t){i&&(i+=\"&\"),i+=t+\"=\"+encodeURIComponent(e)}),d.send({url:new u(c).toAbsolute(h(a)),type:\"post\",content_type:\"application/x-www-form-urlencoded\",data:i,success:function(e){var t=JSON.parse(e);if(t)t.error?o(t.error):r(t);else{var n=a.translate(\"Server response wasn't proper JSON.\");o(n)}},error:function(){var e=a.translate(\"The spelling service was not found: (\")+h(a)+a.translate(\")\");o(e)}})}}(e,t,n)).call(e.plugins.spellchecker,r,o,i,a)}function k(e,t,n){e.dom.select(\"span.mce-spellchecker-word\").length||y(e,t,n)}function N(e){var t=e.getAttribute(\"data-mce-index\");return\"number\"==typeof t?\"\"+t:t}var y=function(e,t,n){var r=e.selection.getBookmark();if(v(e,n).reset(),e.selection.moveToBookmark(r),n.set(null),t.get())return t.set(!1),o(e),!0},S=function(t,e,n,r,o){var i=!!o.dictionary,a=o.words;if(t.setProgressState(!1),function(e){for(var t in e)return!1;return!0}(a)){var c=t.translate(\"No misspellings found.\");return t.notificationManager.open({text:c,type:\"info\"}),void e.set(!1)}r.set({suggestions:a,hasDictionarySupport:i});var s=t.selection.getBookmark();v(t,n).find(m(t)).filter(function(e){return!!a[e.text]}).wrap(function(e){return t.dom.create(\"span\",{\"class\":\"mce-spellchecker-word\",\"aria-invalid\":\"spelling\",\"data-mce-bogus\":1,\"data-mce-word\":e.text})}),t.selection.moveToBookmark(s),e.set(!0),f(t)},w={spellcheck:function(t,e,n,r,o,i){if(!y(t,n,r)){t.setProgressState(!0),x(t,e,i,\"spellcheck\",v(t,r).text,function(e){S(t,n,r,o,e)},function(e){t.notificationManager.open({text:e,type:\"error\"}),t.setProgressState(!1),y(t,n,r)}),t.focus()}},checkIfFinished:k,addToDictionary:function(t,e,n,r,o,i,a){t.setProgressState(!0),x(t,e,o,\"addToDictionary\",i,function(){t.setProgressState(!1),t.dom.remove(a,!0),k(t,n,r)},function(e){t.notificationManager.open({text:e,type:\"error\"}),t.setProgressState(!1)})},ignoreWord:function(t,e,n,r,o,i){t.selection.collapse(),i?l.each(t.dom.select(\"span.mce-spellchecker-word\"),function(e){e.getAttribute(\"data-mce-word\")===r&&t.dom.remove(e,!0)}):t.dom.remove(o,!0),k(t,e,n)},findSpansByIndex:function(e,t){var n,r=[];if((n=l.toArray(e.getBody().getElementsByTagName(\"span\"))).length)for(var o=0;o<n.length;o++){var i=N(n[o]);null!==i&&i.length&&i===t.toString()&&r.push(n[o])}return r},getElmIndex:N,markErrors:S},T=function(t,n,r,o,e,i){return{getTextMatcher:function(){return o.get()},getWordCharPattern:function(){return m(t)},markErrors:function(e){w.markErrors(t,n,o,r,e)},getLanguage:function(){return e.get()}}},I=function(e,t,n,r,o,i){e.addCommand(\"mceSpellCheck\",function(){w.spellcheck(e,t,n,r,o,i)})},B=function(){return(B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},A=\"SpellcheckStart SpellcheckEnd\",E=function(n,e,r,t,o,i){function a(){w.spellcheck(n,e,r,t,i,o)}var c=function(e,t){var n=[];return l.each(t,function(e){n.push({selectable:!0,text:e.name,data:e.value})}),n}(0,function(e){return l.map(g(e).split(\",\"),function(e){return{name:(e=e.split(\"=\"))[0],value:e[1]}})}(n)),s={tooltip:\"Spellcheck\",onAction:a,icon:\"spell-check\",onSetup:function(e){function t(){e.setActive(r.get())}return n.on(A,t),function(){n.off(A,t)}}},u=B(B({},s),{type:\"splitbutton\",select:function(e){return e===o.get()},fetch:function(e){e(l.map(c,function(e){return{type:\"choiceitem\",value:e.data,text:e.text}}))},onItemAction:function(e,t){o.set(t)}});1<c.length?n.ui.registry.addSplitButton(\"spellchecker\",u):n.ui.registry.addToggleButton(\"spellchecker\",s),n.ui.registry.addToggleMenuItem(\"spellchecker\",{text:\"Spellcheck\",onSetup:function(e){e.setActive(r.get());function t(){e.setActive(r.get())}return n.on(A,t),function(){n.off(A,t)}},onAction:a})},C=function(o,i,a,c,s,u){o.ui.registry.addContextMenu(\"spellchecker\",{update:function(e){var t=e;if(\"mce-spellchecker-word\"!==t.className)return[];var n=w.findSpansByIndex(o,w.getElmIndex(t));if(0<n.length){var r=o.dom.createRng();return r.setStartBefore(n[0]),r.setEndAfter(n[n.length-1]),o.selection.setRng(r),function(t,e,n,r,o,i,a,c){var s=[],u=n.get().suggestions[a];return l.each(u,function(e){s.push({text:e,onAction:function(){t.insertContent(t.dom.encode(e)),t.dom.remove(c),w.checkIfFinished(t,r,o)}})}),n.get().hasDictionarySupport&&(s.push({type:\"separator\"}),s.push({text:\"Add to dictionary\",onAction:function(){w.addToDictionary(t,e,r,o,i,a,c)}})),s.push.apply(s,[{type:\"separator\"},{text:\"Ignore\",onAction:function(){w.ignoreWord(t,r,o,a,c)}},{text:\"Ignore all\",onAction:function(){w.ignoreWord(t,r,o,a,c,!0)}}]),s}(o,i,a,c,s,u,t.getAttribute(\"data-mce-word\"),n)}}})};!function e(){n.add(\"spellchecker\",function(e,t){if(!1===c(e)){var n=a(!1),r=a(s(e)),o=a(null),i=a(null);return E(e,t,n,o,r,i),C(e,t,i,n,o,r),I(e,t,n,o,i,r),T(e,n,i,o,r,t)}})}()}(window);"]}