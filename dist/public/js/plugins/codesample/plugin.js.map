{"version":3,"sources":["../../../../../public/js/plugins/codesample/plugin.js"],"names":["domGlobals","global","tinymce","util","Tools","resolve","global$1","window","global$2","_self","WorkerGlobalScope","self","Prism","lang","_","encode","tokens","Token","type","content","alias","map","replace","o","Object","prototype","toString","call","match","clone","key","hasOwnProperty","v","languages","extend","id","redef","insertBefore","inside","before","insert","root","grammar","arguments","length","newToken","ret","token","DFS","value","callback","i","plugins","highlightAll","async","elements","document","querySelectorAll","element","highlightElement","language","parent","test","className","parentNode","nodeName","code","textContent","env","hooks","run","Worker","worker","filename","onmessage","evt","highlightedCode","data","innerHTML","postMessage","JSON","stringify","immediateClose","highlight","text","tokenize","strarr","rest","tokenloop","patterns","j","pattern","lookbehind","lookbehindLength","str","lastIndex","exec","from","index","slice","len","to","after","args","push","wrapped","Array","splice","apply","all","add","name","callbacks","join","tag","classes","attributes","spellcheck","aliases","addEventListener","message","parse","close","markup","comment","prolog","doctype","cdata","punctuation","namespace","entity","title","xml","html","mathml","svg","css","atrule","rule","url","selector","string","property","important","function","style","clike","javascript","keyword","number","regex","interpolation","script","js","c","operator","macro","boolean","csharp","preprocessor","cpp","java","php","constant","delimiter","variable","package","tokenStack","backupCode","t","python","ruby","symbol","builtin","isCodeSample","elm","indexOf","trimArg","predicateFn","arg1","arg2","Utils","noop","never","always","none","NONE","eq","isNone","thunk","n","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","each","bind","exists","forall","filter","equals","equals_","toArray","freeze","some","a","constant_a","f","elementEq","b","Option","getSelectedCodeSample","editor","node","selection","getNode","insertCodeSample","undoManager","transact","DOM","insertContent","select","$","removeAttr","dom","setAttrib","getCurrentCode","CodeSample","getLanguages","settings","codesample_languages","Settings","getLanguages$1","defaultLanguages","customLanguages","getCurrentLanguage","fallback","matches","Languages","typeOf","x","isPrototypeOf","constructor","String","isType","isFunction","nativeSlice","head","xs","from$1","open","defaultLanguage","l","currentLanguage","currentCode","windowManager","size","body","items","label","buttons","primary","initialData","onSubmit","api","getData","Dialog","register","addCommand","isCollapsed","formatter","toggle","Commands","setup","on","e","idx","$elm","attr","trim","empty","append","unprocessedCodeSamples","contentEditable","find","replaceChild","getDoc","createTextNode","FilterContent","isCodeSampleSelection","getStart","register$1","ui","registry","addToggleButton","icon","tooltip","onAction","onSetup","nodeChangeHandler","setActive","off","addMenuItem","Buttons","Plugin","ev","target"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function (domGlobals) {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n  var window = {};\n  var global$2 = window;\n  var _self = typeof window !== 'undefined' ? window : typeof WorkerGlobalScope !== 'undefined' && domGlobals.self instanceof WorkerGlobalScope ? domGlobals.self : {};\n  var Prism = function () {\n    var lang = /\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i;\n    var _ = _self.Prism = {\n      util: {\n        encode: function (tokens) {\n          if (tokens instanceof Token) {\n            return new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n          } else if (_.util.type(tokens) === 'Array') {\n            return tokens.map(_.util.encode);\n          } else {\n            return tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n          }\n        },\n        type: function (o) {\n          return Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n        },\n        clone: function (o) {\n          var type = _.util.type(o);\n          switch (type) {\n          case 'Object':\n            var clone = {};\n            for (var key in o) {\n              if (o.hasOwnProperty(key)) {\n                clone[key] = _.util.clone(o[key]);\n              }\n            }\n            return clone;\n          case 'Array':\n            return o.map && o.map(function (v) {\n              return _.util.clone(v);\n            });\n          }\n          return o;\n        }\n      },\n      languages: {\n        extend: function (id, redef) {\n          var lang = _.util.clone(_.languages[id]);\n          for (var key in redef) {\n            lang[key] = redef[key];\n          }\n          return lang;\n        },\n        insertBefore: function (inside, before, insert, root) {\n          root = root || _.languages;\n          var grammar = root[inside];\n          if (arguments.length === 2) {\n            insert = arguments[1];\n            for (var newToken in insert) {\n              if (insert.hasOwnProperty(newToken)) {\n                grammar[newToken] = insert[newToken];\n              }\n            }\n            return grammar;\n          }\n          var ret = {};\n          for (var token in grammar) {\n            if (grammar.hasOwnProperty(token)) {\n              if (token === before) {\n                for (var newToken in insert) {\n                  if (insert.hasOwnProperty(newToken)) {\n                    ret[newToken] = insert[newToken];\n                  }\n                }\n              }\n              ret[token] = grammar[token];\n            }\n          }\n          _.languages.DFS(_.languages, function (key, value) {\n            if (value === root[inside] && key !== inside) {\n              this[key] = ret;\n            }\n          });\n          return root[inside] = ret;\n        },\n        DFS: function (o, callback, type) {\n          for (var i in o) {\n            if (o.hasOwnProperty(i)) {\n              callback.call(o, i, o[i], type || i);\n              if (_.util.type(o[i]) === 'Object') {\n                _.languages.DFS(o[i], callback);\n              } else if (_.util.type(o[i]) === 'Array') {\n                _.languages.DFS(o[i], callback, i);\n              }\n            }\n          }\n        }\n      },\n      plugins: {},\n      highlightAll: function (async, callback) {\n        var elements = domGlobals.document.querySelectorAll('code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code');\n        for (var i = 0, element = void 0; element = elements[i++];) {\n          _.highlightElement(element, async === true, callback);\n        }\n      },\n      highlightElement: function (element, async, callback) {\n        var language, grammar, parent = element;\n        while (parent && !lang.test(parent.className)) {\n          parent = parent.parentNode;\n        }\n        if (parent) {\n          language = (parent.className.match(lang) || [\n            ,\n            ''\n          ])[1];\n          grammar = _.languages[language];\n        }\n        element.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n        parent = element.parentNode;\n        if (/pre/i.test(parent.nodeName)) {\n          parent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n        }\n        var code = element.textContent;\n        var env = {\n          element: element,\n          language: language,\n          grammar: grammar,\n          code: code\n        };\n        if (!code || !grammar) {\n          _.hooks.run('complete', env);\n          return;\n        }\n        _.hooks.run('before-highlight', env);\n        if (async && _self.Worker) {\n          var worker = new domGlobals.Worker(_.filename);\n          worker.onmessage = function (evt) {\n            env.highlightedCode = evt.data;\n            _.hooks.run('before-insert', env);\n            env.element.innerHTML = env.highlightedCode;\n            if (callback) {\n              callback.call(env.element);\n            }\n            _.hooks.run('after-highlight', env);\n            _.hooks.run('complete', env);\n          };\n          worker.postMessage(JSON.stringify({\n            language: env.language,\n            code: env.code,\n            immediateClose: true\n          }));\n        } else {\n          env.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n          _.hooks.run('before-insert', env);\n          env.element.innerHTML = env.highlightedCode;\n          if (callback) {\n            callback.call(element);\n          }\n          _.hooks.run('after-highlight', env);\n          _.hooks.run('complete', env);\n        }\n      },\n      highlight: function (text, grammar, language) {\n        var tokens = _.tokenize(text, grammar);\n        return Token.stringify(_.util.encode(tokens), language);\n      },\n      tokenize: function (text, grammar, language) {\n        var Token = _.Token;\n        var strarr = [text];\n        var rest = grammar.rest;\n        if (rest) {\n          for (var token in rest) {\n            grammar[token] = rest[token];\n          }\n          delete grammar.rest;\n        }\n        tokenloop:\n          for (var token in grammar) {\n            if (!grammar.hasOwnProperty(token) || !grammar[token]) {\n              continue;\n            }\n            var patterns = grammar[token];\n            patterns = _.util.type(patterns) === 'Array' ? patterns : [patterns];\n            for (var j = 0; j < patterns.length; ++j) {\n              var pattern = patterns[j];\n              var inside = pattern.inside;\n              var lookbehind = !!pattern.lookbehind;\n              var lookbehindLength = 0;\n              var alias = pattern.alias;\n              pattern = pattern.pattern || pattern;\n              for (var i = 0; i < strarr.length; i++) {\n                var str = strarr[i];\n                if (strarr.length > text.length) {\n                  break tokenloop;\n                }\n                if (str instanceof Token) {\n                  continue;\n                }\n                pattern.lastIndex = 0;\n                var match = pattern.exec(str);\n                if (match) {\n                  if (lookbehind) {\n                    lookbehindLength = match[1].length;\n                  }\n                  var from = match.index - 1 + lookbehindLength;\n                  match = match[0].slice(lookbehindLength);\n                  var len = match.length, to = from + len, before = str.slice(0, from + 1), after = str.slice(to + 1);\n                  var args = [\n                    i,\n                    1\n                  ];\n                  if (before) {\n                    args.push(before);\n                  }\n                  var wrapped = new Token(token, inside ? _.tokenize(match, inside) : match, alias);\n                  args.push(wrapped);\n                  if (after) {\n                    args.push(after);\n                  }\n                  Array.prototype.splice.apply(strarr, args);\n                }\n              }\n            }\n          }\n        return strarr;\n      },\n      hooks: {\n        all: {},\n        add: function (name, callback) {\n          var hooks = _.hooks.all;\n          hooks[name] = hooks[name] || [];\n          hooks[name].push(callback);\n        },\n        run: function (name, env) {\n          var callbacks = _.hooks.all[name];\n          if (!callbacks || !callbacks.length) {\n            return;\n          }\n          for (var i = 0, callback = void 0; callback = callbacks[i++];) {\n            callback(env);\n          }\n        }\n      }\n    };\n    var Token = _.Token = function (type, content, alias) {\n      this.type = type;\n      this.content = content;\n      this.alias = alias;\n    };\n    Token.stringify = function (o, language, parent) {\n      if (typeof o === 'string') {\n        return o;\n      }\n      if (_.util.type(o) === 'Array') {\n        return o.map(function (element) {\n          return Token.stringify(element, language, o);\n        }).join('');\n      }\n      var env = {\n        type: o.type,\n        content: Token.stringify(o.content, language, parent),\n        tag: 'span',\n        classes: [\n          'token',\n          o.type\n        ],\n        attributes: {},\n        language: language,\n        parent: parent\n      };\n      if (env.type === 'comment') {\n        env.attributes.spellcheck = 'true';\n      }\n      if (o.alias) {\n        var aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n        Array.prototype.push.apply(env.classes, aliases);\n      }\n      _.hooks.run('wrap', env);\n      var attributes = '';\n      for (var name in env.attributes) {\n        attributes += (attributes ? ' ' : '') + name + '=\"' + (env.attributes[name] || '') + '\"';\n      }\n      return '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\" ' + attributes + '>' + env.content + '</' + env.tag + '>';\n    };\n    if (!_self.document) {\n      if (!_self.addEventListener) {\n        return _self.Prism;\n      }\n      _self.addEventListener('message', function (evt) {\n        var message = JSON.parse(evt.data), lang = message.language, code = message.code, immediateClose = message.immediateClose;\n        _self.postMessage(_.highlight(code, _.languages[lang], lang));\n        if (immediateClose) {\n          _self.close();\n        }\n      }, false);\n      return _self.Prism;\n    }\n  }();\n  if (typeof global$2 !== 'undefined') {\n    global$2.Prism = Prism;\n  }\n  Prism.languages.markup = {\n    comment: /<!--[\\w\\W]*?-->/,\n    prolog: /<\\?[\\w\\W]+?\\?>/,\n    doctype: /<!DOCTYPE[\\w\\W]+?>/,\n    cdata: /<!\\[CDATA\\[[\\w\\W]*?]]>/i,\n    tag: {\n      pattern: /<\\/?[^\\s>\\/=.]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n      inside: {\n        'tag': {\n          pattern: /^<\\/?[^\\s>\\/]+/i,\n          inside: {\n            punctuation: /^<\\/?/,\n            namespace: /^[^\\s>\\/:]+:/\n          }\n        },\n        'attr-value': {\n          pattern: /=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,\n          inside: { punctuation: /[=>\"']/ }\n        },\n        'punctuation': /\\/?>/,\n        'attr-name': {\n          pattern: /[^\\s>\\/]+/,\n          inside: { namespace: /^[^\\s>\\/:]+:/ }\n        }\n      }\n    },\n    entity: /&#?[\\da-z]{1,8};/i\n  };\n  Prism.hooks.add('wrap', function (env) {\n    if (env.type === 'entity') {\n      env.attributes.title = env.content.replace(/&amp;/, '&');\n    }\n  });\n  Prism.languages.xml = Prism.languages.markup;\n  Prism.languages.html = Prism.languages.markup;\n  Prism.languages.mathml = Prism.languages.markup;\n  Prism.languages.svg = Prism.languages.markup;\n  Prism.languages.css = {\n    comment: /\\/\\*[\\w\\W]*?\\*\\//,\n    atrule: {\n      pattern: /@[\\w-]+?.*?(;|(?=\\s*\\{))/i,\n      inside: { rule: /@[\\w-]+/ }\n    },\n    url: /url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n    selector: /[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,\n    string: /(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    property: /(\\b|\\B)[\\w-]+(?=\\s*:)/i,\n    important: /\\B!important\\b/i,\n    function: /[-a-z0-9]+(?=\\()/i,\n    punctuation: /[(){};:]/\n  };\n  Prism.languages.css.atrule.inside.rest = Prism.util.clone(Prism.languages.css);\n  if (Prism.languages.markup) {\n    Prism.languages.insertBefore('markup', 'tag', {\n      style: {\n        pattern: /<style[\\w\\W]*?>[\\w\\W]*?<\\/style>/i,\n        inside: {\n          tag: {\n            pattern: /<style[\\w\\W]*?>|<\\/style>/i,\n            inside: Prism.languages.markup.tag.inside\n          },\n          rest: Prism.languages.css\n        },\n        alias: 'language-css'\n      }\n    });\n    Prism.languages.insertBefore('inside', 'attr-value', {\n      'style-attr': {\n        pattern: /\\s*style=(\"|').*?\\1/i,\n        inside: {\n          'attr-name': {\n            pattern: /^\\s*style/i,\n            inside: Prism.languages.markup.tag.inside\n          },\n          'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n          'attr-value': {\n            pattern: /.+/i,\n            inside: Prism.languages.css\n          }\n        },\n        alias: 'language-css'\n      }\n    }, Prism.languages.markup.tag);\n  }\n  Prism.languages.clike = {\n    'comment': [\n      {\n        pattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\n        lookbehind: true\n      },\n      {\n        pattern: /(^|[^\\\\:])\\/\\/.*/,\n        lookbehind: true\n      }\n    ],\n    'string': /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n    'class-name': {\n      pattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\n      lookbehind: true,\n      inside: { punctuation: /(\\.|\\\\)/ }\n    },\n    'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n    'boolean': /\\b(true|false)\\b/,\n    'function': /[a-z0-9_]+(?=\\()/i,\n    'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\n    'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n    'punctuation': /[{}[\\];(),.:]/\n  };\n  Prism.languages.javascript = Prism.languages.extend('clike', {\n    keyword: /\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\\b/,\n    number: /\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\n    function: /[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i\n  });\n  Prism.languages.insertBefore('javascript', 'keyword', {\n    regex: {\n      pattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,\n      lookbehind: true\n    }\n  });\n  Prism.languages.insertBefore('javascript', 'class-name', {\n    'template-string': {\n      pattern: /`(?:\\\\`|\\\\?[^`])*`/,\n      inside: {\n        interpolation: {\n          pattern: /\\$\\{[^}]+\\}/,\n          inside: {\n            'interpolation-punctuation': {\n              pattern: /^\\$\\{|\\}$/,\n              alias: 'punctuation'\n            },\n            'rest': Prism.languages.javascript\n          }\n        },\n        string: /[\\s\\S]+/\n      }\n    }\n  });\n  if (Prism.languages.markup) {\n    Prism.languages.insertBefore('markup', 'tag', {\n      script: {\n        pattern: /<script[\\w\\W]*?>[\\w\\W]*?<\\/script>/i,\n        inside: {\n          tag: {\n            pattern: /<script[\\w\\W]*?>|<\\/script>/i,\n            inside: Prism.languages.markup.tag.inside\n          },\n          rest: Prism.languages.javascript\n        },\n        alias: 'language-javascript'\n      }\n    });\n  }\n  Prism.languages.js = Prism.languages.javascript;\n  Prism.languages.c = Prism.languages.extend('clike', {\n    keyword: /\\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\\b/,\n    operator: /\\-[>-]?|\\+\\+?|!=?|<<?=?|>>?=?|==?|&&?|\\|?\\||[~^%?*\\/]/,\n    number: /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)[ful]*\\b/i\n  });\n  Prism.languages.insertBefore('c', 'string', {\n    macro: {\n      pattern: /(^\\s*)#\\s*[a-z]+([^\\r\\n\\\\]|\\\\.|\\\\(?:\\r\\n?|\\n))*/im,\n      lookbehind: true,\n      alias: 'property',\n      inside: {\n        string: {\n          pattern: /(#\\s*include\\s*)(<.+?>|(\"|')(\\\\?.)+?\\3)/,\n          lookbehind: true\n        }\n      }\n    }\n  });\n  delete Prism.languages.c['class-name'];\n  delete Prism.languages.c.boolean;\n  Prism.languages.csharp = Prism.languages.extend('clike', {\n    keyword: /\\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\\b/,\n    string: [\n      /@(\"|')(\\1\\1|\\\\\\1|\\\\?(?!\\1)[\\s\\S])*\\1/,\n      /(\"|')(\\\\?.)*?\\1/\n    ],\n    number: /\\b-?(0x[\\da-f]+|\\d*\\.?\\d+)\\b/i\n  });\n  Prism.languages.insertBefore('csharp', 'keyword', {\n    preprocessor: {\n      pattern: /(^\\s*)#.*/m,\n      lookbehind: true\n    }\n  });\n  Prism.languages.cpp = Prism.languages.extend('c', {\n    keyword: /\\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\\b/,\n    boolean: /\\b(true|false)\\b/,\n    operator: /[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\\->|:{1,2}|={1,2}|\\^|~|%|&{1,2}|\\|?\\||\\?|\\*|\\/|\\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\\b/\n  });\n  Prism.languages.insertBefore('cpp', 'keyword', {\n    'class-name': {\n      pattern: /(class\\s+)[a-z0-9_]+/i,\n      lookbehind: true\n    }\n  });\n  Prism.languages.java = Prism.languages.extend('clike', {\n    keyword: /\\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\\b/,\n    number: /\\b0b[01]+\\b|\\b0x[\\da-f]*\\.?[\\da-fp\\-]+\\b|\\b\\d*\\.?\\d+(?:e[+-]?\\d+)?[df]?\\b/i,\n    operator: {\n      pattern: /(^|[^.])(?:\\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\\|[|=]?|\\*=?|\\/=?|%=?|\\^=?|[?:~])/m,\n      lookbehind: true\n    }\n  });\n  Prism.languages.php = Prism.languages.extend('clike', {\n    keyword: /\\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\\b/i,\n    constant: /\\b[A-Z0-9_]{2,}\\b/,\n    comment: {\n      pattern: /(^|[^\\\\])(?:\\/\\*[\\w\\W]*?\\*\\/|\\/\\/.*)/,\n      lookbehind: true\n    }\n  });\n  Prism.languages.insertBefore('php', 'class-name', {\n    'shell-comment': {\n      pattern: /(^|[^\\\\])#.*/,\n      lookbehind: true,\n      alias: 'comment'\n    }\n  });\n  Prism.languages.insertBefore('php', 'keyword', {\n    delimiter: /\\?>|<\\?(?:php)?/i,\n    variable: /\\$\\w+\\b/i,\n    package: {\n      pattern: /(\\\\|namespace\\s+|use\\s+)[\\w\\\\]+/,\n      lookbehind: true,\n      inside: { punctuation: /\\\\/ }\n    }\n  });\n  Prism.languages.insertBefore('php', 'operator', {\n    property: {\n      pattern: /(->)[\\w]+/,\n      lookbehind: true\n    }\n  });\n  if (Prism.languages.markup) {\n    Prism.hooks.add('before-highlight', function (env) {\n      if (env.language !== 'php') {\n        return;\n      }\n      env.tokenStack = [];\n      env.backupCode = env.code;\n      env.code = env.code.replace(/(?:<\\?php|<\\?)[\\w\\W]*?(?:\\?>)/ig, function (match) {\n        env.tokenStack.push(match);\n        return '{{{PHP' + env.tokenStack.length + '}}}';\n      });\n    });\n    Prism.hooks.add('before-insert', function (env) {\n      if (env.language === 'php') {\n        env.code = env.backupCode;\n        delete env.backupCode;\n      }\n    });\n    Prism.hooks.add('after-highlight', function (env) {\n      if (env.language !== 'php') {\n        return;\n      }\n      for (var i = 0, t = void 0; t = env.tokenStack[i]; i++) {\n        env.highlightedCode = env.highlightedCode.replace('{{{PHP' + (i + 1) + '}}}', Prism.highlight(t, env.grammar, 'php').replace(/\\$/g, '$$$$'));\n      }\n      env.element.innerHTML = env.highlightedCode;\n    });\n    Prism.hooks.add('wrap', function (env) {\n      if (env.language === 'php' && env.type === 'markup') {\n        env.content = env.content.replace(/(\\{\\{\\{PHP[0-9]+\\}\\}\\})/g, '<span class=\"token php\">$1</span>');\n      }\n    });\n    Prism.languages.insertBefore('php', 'comment', {\n      markup: {\n        pattern: /<[^?]\\/?(.*?)>/,\n        inside: Prism.languages.markup\n      },\n      php: /\\{\\{\\{PHP[0-9]+\\}\\}\\}/\n    });\n  }\n  Prism.languages.python = {\n    'comment': {\n      pattern: /(^|[^\\\\])#.*/,\n      lookbehind: true\n    },\n    'string': /\"\"\"[\\s\\S]+?\"\"\"|'''[\\s\\S]+?'''|(\"|')(?:\\\\?.)*?\\1/,\n    'function': {\n      pattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\\()/g,\n      lookbehind: true\n    },\n    'class-name': {\n      pattern: /(\\bclass\\s+)[a-z0-9_]+/i,\n      lookbehind: true\n    },\n    'keyword': /\\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\\b/,\n    'boolean': /\\b(?:True|False)\\b/,\n    'number': /\\b-?(?:0[bo])?(?:(?:\\d|0x[\\da-f])[\\da-f]*\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?j?\\b/i,\n    'operator': /[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]|\\b(?:or|and|not)\\b/,\n    'punctuation': /[{}[\\];(),.:]/\n  };\n  (function (Prism) {\n    Prism.languages.ruby = Prism.languages.extend('clike', {\n      comment: /#(?!\\{[^\\r\\n]*?\\}).*/,\n      keyword: /\\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\\b/\n    });\n    var interpolation = {\n      pattern: /#\\{[^}]+\\}/,\n      inside: {\n        delimiter: {\n          pattern: /^#\\{|\\}$/,\n          alias: 'tag'\n        },\n        rest: Prism.util.clone(Prism.languages.ruby)\n      }\n    };\n    Prism.languages.insertBefore('ruby', 'keyword', {\n      regex: [\n        {\n          pattern: /%r([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1[gim]{0,3}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%r\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)[gim]{0,3}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%r\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}[gim]{0,3}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%r\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\][gim]{0,3}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /%r<(?:[^<>\\\\]|\\\\[\\s\\S])*>[gim]{0,3}/,\n          inside: { interpolation: interpolation }\n        },\n        {\n          pattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\r\\n])+\\/[gim]{0,3}(?=\\s*($|[\\r\\n,.;})]))/,\n          lookbehind: true\n        }\n      ],\n      variable: /[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/,\n      symbol: /:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\\b)/\n    });\n    Prism.languages.insertBefore('ruby', 'number', {\n      builtin: /\\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\\b/,\n      constant: /\\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\\b)/\n    });\n    Prism.languages.ruby.string = [\n      {\n        pattern: /%[qQiIwWxs]?([^a-zA-Z0-9\\s\\{\\(\\[<])(?:[^\\\\]|\\\\[\\s\\S])*?\\1/,\n        inside: { interpolation: interpolation }\n      },\n      {\n        pattern: /%[qQiIwWxs]?\\((?:[^()\\\\]|\\\\[\\s\\S])*\\)/,\n        inside: { interpolation: interpolation }\n      },\n      {\n        pattern: /%[qQiIwWxs]?\\{(?:[^#{}\\\\]|#(?:\\{[^}]+\\})?|\\\\[\\s\\S])*\\}/,\n        inside: { interpolation: interpolation }\n      },\n      {\n        pattern: /%[qQiIwWxs]?\\[(?:[^\\[\\]\\\\]|\\\\[\\s\\S])*\\]/,\n        inside: { interpolation: interpolation }\n      },\n      {\n        pattern: /%[qQiIwWxs]?<(?:[^<>\\\\]|\\\\[\\s\\S])*>/,\n        inside: { interpolation: interpolation }\n      },\n      {\n        pattern: /(\"|')(#\\{[^}]+\\}|\\\\(?:\\r?\\n|\\r)|\\\\?.)*?\\1/,\n        inside: { interpolation: interpolation }\n      }\n    ];\n  }(Prism));\n\n  function isCodeSample(elm) {\n    return elm && elm.nodeName === 'PRE' && elm.className.indexOf('language-') !== -1;\n  }\n  function trimArg(predicateFn) {\n    return function (arg1, arg2) {\n      return predicateFn(arg2);\n    };\n  }\n  var Utils = {\n    isCodeSample: isCodeSample,\n    trimArg: trimArg\n  };\n\n  var noop = function () {\n  };\n  var constant = function (value) {\n    return function () {\n      return value;\n    };\n  };\n  var never = constant(false);\n  var always = constant(true);\n\n  var none = function () {\n    return NONE;\n  };\n  var NONE = function () {\n    var eq = function (o) {\n      return o.isNone();\n    };\n    var call = function (thunk) {\n      return thunk();\n    };\n    var id = function (n) {\n      return n;\n    };\n    var me = {\n      fold: function (n, s) {\n        return n();\n      },\n      is: never,\n      isSome: never,\n      isNone: always,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function (msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: constant(null),\n      getOrUndefined: constant(undefined),\n      or: id,\n      orThunk: call,\n      map: none,\n      each: noop,\n      bind: none,\n      exists: never,\n      forall: always,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function () {\n        return [];\n      },\n      toString: constant('none()')\n    };\n    if (Object.freeze) {\n      Object.freeze(me);\n    }\n    return me;\n  }();\n  var some = function (a) {\n    var constant_a = constant(a);\n    var self = function () {\n      return me;\n    };\n    var bind = function (f) {\n      return f(a);\n    };\n    var me = {\n      fold: function (n, s) {\n        return s(a);\n      },\n      is: function (v) {\n        return a === v;\n      },\n      isSome: always,\n      isNone: never,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: function (f) {\n        return some(f(a));\n      },\n      each: function (f) {\n        f(a);\n      },\n      bind: bind,\n      exists: bind,\n      forall: bind,\n      filter: function (f) {\n        return f(a) ? me : NONE;\n      },\n      toArray: function () {\n        return [a];\n      },\n      toString: function () {\n        return 'some(' + a + ')';\n      },\n      equals: function (o) {\n        return o.is(a);\n      },\n      equals_: function (o, elementEq) {\n        return o.fold(never, function (b) {\n          return elementEq(a, b);\n        });\n      }\n    };\n    return me;\n  };\n  var from = function (value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var getSelectedCodeSample = function (editor) {\n    var node = editor.selection ? editor.selection.getNode() : null;\n    if (Utils.isCodeSample(node)) {\n      return Option.some(node);\n    }\n    return Option.none();\n  };\n  var insertCodeSample = function (editor, language, code) {\n    editor.undoManager.transact(function () {\n      var node = getSelectedCodeSample(editor);\n      code = global$1.DOM.encode(code);\n      return node.fold(function () {\n        editor.insertContent('<pre id=\"__new\" class=\"language-' + language + '\">' + code + '</pre>');\n        editor.selection.select(editor.$('#__new').removeAttr('id')[0]);\n      }, function (n) {\n        editor.dom.setAttrib(n, 'class', 'language-' + language);\n        n.innerHTML = code;\n        Prism.highlightElement(n);\n        editor.selection.select(n);\n      });\n    });\n  };\n  var getCurrentCode = function (editor) {\n    var node = getSelectedCodeSample(editor);\n    return node.fold(function () {\n      return '';\n    }, function (n) {\n      return n.textContent;\n    });\n  };\n  var CodeSample = {\n    getSelectedCodeSample: getSelectedCodeSample,\n    insertCodeSample: insertCodeSample,\n    getCurrentCode: getCurrentCode\n  };\n\n  var getLanguages = function (editor) {\n    return editor.settings.codesample_languages;\n  };\n  var Settings = { getLanguages: getLanguages };\n\n  var getLanguages$1 = function (editor) {\n    var defaultLanguages = [\n      {\n        text: 'HTML/XML',\n        value: 'markup'\n      },\n      {\n        text: 'JavaScript',\n        value: 'javascript'\n      },\n      {\n        text: 'CSS',\n        value: 'css'\n      },\n      {\n        text: 'PHP',\n        value: 'php'\n      },\n      {\n        text: 'Ruby',\n        value: 'ruby'\n      },\n      {\n        text: 'Python',\n        value: 'python'\n      },\n      {\n        text: 'Java',\n        value: 'java'\n      },\n      {\n        text: 'C',\n        value: 'c'\n      },\n      {\n        text: 'C#',\n        value: 'csharp'\n      },\n      {\n        text: 'C++',\n        value: 'cpp'\n      }\n    ];\n    var customLanguages = Settings.getLanguages(editor);\n    return customLanguages ? customLanguages : defaultLanguages;\n  };\n  var getCurrentLanguage = function (editor, fallback) {\n    var node = CodeSample.getSelectedCodeSample(editor);\n    return node.fold(function () {\n      return fallback;\n    }, function (n) {\n      var matches = n.className.match(/language-(\\w+)/);\n      return matches ? matches[1] : fallback;\n    });\n  };\n  var Languages = {\n    getLanguages: getLanguages$1,\n    getCurrentLanguage: getCurrentLanguage\n  };\n\n  var typeOf = function (x) {\n    if (x === null) {\n      return 'null';\n    }\n    var t = typeof x;\n    if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n      return 'array';\n    }\n    if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n      return 'string';\n    }\n    return t;\n  };\n  var isType = function (type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n  var isFunction = isType('function');\n\n  var nativeSlice = Array.prototype.slice;\n  var head = function (xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n  };\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return nativeSlice.call(x);\n  };\n\n  var open = function (editor) {\n    var languages = Languages.getLanguages(editor);\n    var defaultLanguage = head(languages).fold(function () {\n      return '';\n    }, function (l) {\n      return l.value;\n    });\n    var currentLanguage = Languages.getCurrentLanguage(editor, defaultLanguage);\n    var currentCode = CodeSample.getCurrentCode(editor);\n    editor.windowManager.open({\n      title: 'Insert/Edit Code Sample',\n      size: 'large',\n      body: {\n        type: 'panel',\n        items: [\n          {\n            type: 'selectbox',\n            name: 'language',\n            label: 'Language',\n            items: languages\n          },\n          {\n            type: 'textarea',\n            name: 'code',\n            label: 'Code view'\n          }\n        ]\n      },\n      buttons: [\n        {\n          type: 'cancel',\n          name: 'cancel',\n          text: 'Cancel'\n        },\n        {\n          type: 'submit',\n          name: 'save',\n          text: 'Save',\n          primary: true\n        }\n      ],\n      initialData: {\n        language: currentLanguage,\n        code: currentCode\n      },\n      onSubmit: function (api) {\n        var data = api.getData();\n        CodeSample.insertCodeSample(editor, data.language, data.code);\n        api.close();\n      }\n    });\n  };\n  var Dialog = { open: open };\n\n  var register = function (editor) {\n    editor.addCommand('codesample', function () {\n      var node = editor.selection.getNode();\n      if (editor.selection.isCollapsed() || Utils.isCodeSample(node)) {\n        Dialog.open(editor);\n      } else {\n        editor.formatter.toggle('code');\n      }\n    });\n  };\n  var Commands = { register: register };\n\n  var setup = function (editor) {\n    var $ = editor.$;\n    editor.on('PreProcess', function (e) {\n      $('pre[contenteditable=false]', e.node).filter(Utils.trimArg(Utils.isCodeSample)).each(function (idx, elm) {\n        var $elm = $(elm), code = elm.textContent;\n        $elm.attr('class', $.trim($elm.attr('class')));\n        $elm.removeAttr('contentEditable');\n        $elm.empty().append($('<code></code>').each(function () {\n          this.textContent = code;\n        }));\n      });\n    });\n    editor.on('SetContent', function () {\n      var unprocessedCodeSamples = $('pre').filter(Utils.trimArg(Utils.isCodeSample)).filter(function (idx, elm) {\n        return elm.contentEditable !== 'false';\n      });\n      if (unprocessedCodeSamples.length) {\n        editor.undoManager.transact(function () {\n          unprocessedCodeSamples.each(function (idx, elm) {\n            $(elm).find('br').each(function (idx, elm) {\n              elm.parentNode.replaceChild(editor.getDoc().createTextNode('\\n'), elm);\n            });\n            elm.contentEditable = 'false';\n            elm.innerHTML = editor.dom.encode(elm.textContent);\n            Prism.highlightElement(elm);\n            elm.className = $.trim(elm.className);\n          });\n        });\n      }\n    });\n  };\n  var FilterContent = { setup: setup };\n\n  var isCodeSampleSelection = function (editor) {\n    var node = editor.selection.getStart();\n    return editor.dom.is(node, 'pre.language-markup');\n  };\n  var register$1 = function (editor) {\n    editor.ui.registry.addToggleButton('codesample', {\n      icon: 'code-sample',\n      tooltip: 'Insert/edit code sample',\n      onAction: function () {\n        return Dialog.open(editor);\n      },\n      onSetup: function (api) {\n        var nodeChangeHandler = function () {\n          api.setActive(isCodeSampleSelection(editor));\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      }\n    });\n    editor.ui.registry.addMenuItem('codesample', {\n      text: 'Code sample...',\n      icon: 'code-sample',\n      onAction: function () {\n        return Dialog.open(editor);\n      }\n    });\n  };\n  var Buttons = { register: register$1 };\n\n  function Plugin () {\n    global.add('codesample', function (editor) {\n      FilterContent.setup(editor);\n      Buttons.register(editor);\n      Commands.register(editor);\n      editor.on('dblclick', function (ev) {\n        if (Utils.isCodeSample(ev.target)) {\n          Dialog.open(editor);\n        }\n      });\n    });\n  }\n\n  Plugin();\n\n}(window));\n"]}