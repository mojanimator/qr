{"version":3,"sources":["../../../../../public/js/plugins/directionality/plugin.js"],"names":["domGlobals","global","tinymce","util","Tools","resolve","global$1","setDir","editor","dir","dom","curDir","blocks","selection","getSelectedBlocks","length","getAttrib","each","block","getParent","parentNode","getRoot","setAttrib","nodeChanged","Direction","register","addCommand","Commands","noop","constant","value","never","always","none","NONE","eq","o","isNone","call","thunk","id","n","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","bind","exists","forall","filter","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","f","v","elementEq","b","from","Option","fromHtml","html","scope","doc","document","div","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromDom","fromTag","tag","node","fromText","text","createTextNode","fromPoint","docElm","x","y","elementFromPoint","Element","typeOf","t","Array","prototype","isPrototypeOf","constructor","name","String","isType","type","isFunction","nativeSlice","slice","from$1","isSupported","style","getPropertyValue","ATTRIBUTE","Node","ATTRIBUTE_NODE","CDATA_SECTION","CDATA_SECTION_NODE","COMMENT","COMMENT_NODE","DOCUMENT","DOCUMENT_NODE","DOCUMENT_TYPE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT","DOCUMENT_FRAGMENT_NODE","ELEMENT","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE","ENTITY_REFERENCE_NODE","ENTITY","ENTITY_NODE","NOTATION","NOTATION_NODE","Global","window","Function","element","nodeType","isType$1","isText","inBody","ownerDocument","body","contains","get","property","styles","getComputedStyle","r","getUnsafeProperty","getDirection","getNodeChangeHandler","api","nodeChangeHandler","e","setActive","on","off","register$1","ui","registry","addToggleButton","tooltip","icon","onAction","execCommand","onSetup","Buttons","Plugin","add"],"mappings":"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","file":"plugin.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function (domGlobals) {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var setDir = function (editor, dir) {\n      var dom = editor.dom;\n      var curDir;\n      var blocks = editor.selection.getSelectedBlocks();\n      if (blocks.length) {\n        curDir = dom.getAttrib(blocks[0], 'dir');\n        global$1.each(blocks, function (block) {\n          if (!dom.getParent(block.parentNode, '*[dir=\"' + dir + '\"]', dom.getRoot())) {\n            dom.setAttrib(block, 'dir', curDir !== dir ? dir : null);\n          }\n        });\n        editor.nodeChanged();\n      }\n    };\n    var Direction = { setDir: setDir };\n\n    var register = function (editor) {\n      editor.addCommand('mceDirectionLTR', function () {\n        Direction.setDir(editor, 'ltr');\n      });\n      editor.addCommand('mceDirectionRTL', function () {\n        Direction.setDir(editor, 'rtl');\n      });\n    };\n    var Commands = { register: register };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isFunction = isType('function');\n\n    var nativeSlice = Array.prototype.slice;\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isText = isType$1(TEXT);\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n\n    var get = function (element, property) {\n      var dom = element.dom();\n      var styles = domGlobals.window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n      return v === null ? undefined : v;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n\n    var getDirection = function (element) {\n      return get(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var getNodeChangeHandler = function (editor, dir) {\n      return function (api) {\n        var nodeChangeHandler = function (e) {\n          var element = Element.fromDom(e.element);\n          api.setActive(getDirection(element) === dir);\n        };\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      };\n    };\n    var register$1 = function (editor) {\n      editor.ui.registry.addToggleButton('ltr', {\n        tooltip: 'Left to right',\n        icon: 'ltr',\n        onAction: function () {\n          return editor.execCommand('mceDirectionLTR');\n        },\n        onSetup: getNodeChangeHandler(editor, 'ltr')\n      });\n      editor.ui.registry.addToggleButton('rtl', {\n        tooltip: 'Right to left',\n        icon: 'rtl',\n        onAction: function () {\n          return editor.execCommand('mceDirectionRTL');\n        },\n        onSetup: getNodeChangeHandler(editor, 'rtl')\n      });\n    };\n    var Buttons = { register: register$1 };\n\n    function Plugin () {\n      global.add('directionality', function (editor) {\n        Commands.register(editor);\n        Buttons.register(editor);\n      });\n    }\n\n    Plugin();\n\n}(window));\n"]}