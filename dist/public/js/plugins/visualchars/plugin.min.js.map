{"version":3,"sources":["../../../../../public/js/plugins/visualchars/plugin.min.js"],"names":["r","n","u","e","l","t","o","get","set","clone","i","tinymce","util","Tools","resolve","c","isEnabled","a","fire","state","f","s","fold","is","isSome","isNone","getOr","g","getOrThunk","m","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","d","equals_","toArray","toString","Object","freeze","N","Array","prototype","isPrototypeOf","constructor","name","String","v","length","h","dom","nodeValue","p","L","P","R","console","error","setAttribute","E","removeAttribute","T","getAttribute","split","O","classList","y","concat","join","b","push","D","C","RegExp","A","_","nodeName","toLowerCase","contains","w","W","filterDescendants","F","fromDom","isMatch","parentNode","add","H","nbspClass","replaceWithSpans","create","lastChild","insertAfter","remove","M","select","selector","S","setActive","on","off","k","x","I","B","V","slice","U","from","Node","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","TEXT_NODE","j","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","window","Function","nodeType","q","fromHtml","document","createElement","innerHTML","hasChildNodes","childNodes","fromTag","fromText","createTextNode","fromPoint","elementFromPoint","G","charMap","regExp","regExpGlobal","charMapToRegExp","charMapToSelector","Y","z","test","findParentElm","replace","K","X","J","getBody","selection","getBookmark","getNode","moveToBookmark","Q","Z","addCommand","$","nn","debounce","settings","forced_root_block","keyCode","en","getParam","tn","rn","ui","registry","addToggleButton","tooltip","icon","onAction","execCommand","onSetup","addToggleMenuItem","text"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(r){\"use strict\";function n(){}function u(n){return function(){return n}}function e(){return l}var t,o=function(n){function e(){return t}var t=n;return{get:e,set:function(n){t=n},clone:function(){return o(e())}}},i=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=function(n){return{isEnabled:function(){return n.get()}}},a=function(n,e){return n.fire(\"VisualChars\",{state:e})},f=u(!1),s=u(!0),l=(t={fold:function(n,e){return n()},is:f,isSome:f,isNone:s,getOr:g,getOrThunk:m,getOrDie:function(n){throw new Error(n||\"error: getOrDie called on none.\")},getOrNull:u(null),getOrUndefined:u(undefined),or:g,orThunk:m,map:e,each:n,bind:e,exists:f,forall:s,filter:e,equals:d,equals_:d,toArray:function(){return[]},toString:u(\"none()\")},Object.freeze&&Object.freeze(t),t);function d(n){return n.isNone()}function m(n){return n()}function g(n){return n}function N(e){return function(n){return function(n){if(null===n)return\"null\";var e=typeof n;return\"object\"==e&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==e&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":e}(n)===e}}function v(n,e){for(var t=0,r=n.length;t<r;t++){e(n[t],t)}}function h(n){return n.dom().nodeValue}function p(n,e,t){!function(n,e,t){if(!(L(t)||P(t)||R(t)))throw r.console.error(\"Invalid call to Attr.set. Key \",e,\":: Value \",t,\":: Element \",n),new Error(\"Attribute value was not simple\");n.setAttribute(e,t+\"\")}(n.dom(),e,t)}function E(n,e){n.dom().removeAttribute(e)}function T(n,e){var t=function(n,e){var t=n.dom().getAttribute(e);return null===t?undefined:t}(n,e);return t===undefined||\"\"===t?[]:t.split(\" \")}function O(n){return n.dom().classList!==undefined}function y(n,e){return function(n,e,t){var r=T(n,e).concat([t]);return p(n,e,r.join(\" \")),!0}(n,\"class\",e)}function b(n,e){return function(n,e,t){var r=function(n,e){for(var t=[],r=0,o=n.length;r<o;r++){var u=n[r];e(u,r)&&t.push(u)}return t}(T(n,e),function(n){return n!==t});return 0<r.length?p(n,e,r.join(\" \")):E(n,e),!1}(n,\"class\",e)}function D(n){0===(O(n)?n.dom().classList:function(n){return T(n,\"class\")}(n)).length&&E(n,\"class\")}function C(n,e){var t,r=\"\";for(t in n)r+=t;return new RegExp(\"[\"+r+\"]\",e?\"g\":\"\")}function A(n){var e,t=\"\";for(e in n)t&&(t+=\",\"),t+=\"span.mce-\"+n[e];return t}function _(n){return\"span\"===n.nodeName.toLowerCase()&&n.classList.contains(\"mce-nbsp-wrap\")}function w(u,n){var e=W.filterDescendants(F.fromDom(n),W.isMatch);v(e,function(n){var e=n.dom().parentNode;if(_(e))!function(n,e){O(n)?n.dom().classList.add(e):y(n,e)}(F.fromDom(e),H.nbspClass);else{for(var t=W.replaceWithSpans(h(n)),r=u.dom.create(\"div\",null,t),o=void 0;o=r.lastChild;)u.dom.insertAfter(o,n.dom());u.dom.remove(n.dom())}})}function M(e,n){var t=e.dom.select(H.selector,n);v(t,function(n){_(n)?function(n,e){O(n)?n.dom().classList.remove(e):b(n,e);D(n)}(F.fromDom(n),H.nbspClass):e.dom.remove(n,!0)})}function S(t,r){return function(e){e.setActive(r.get());function n(n){return e.setActive(n.state)}return t.on(\"VisualChars\",n),function(){return t.off(\"VisualChars\",n)}}}var k,x=function(t){function n(){return o}function e(n){return n(t)}var r=u(t),o={fold:function(n,e){return e(t)},is:function(n){return t===n},isSome:s,isNone:f,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(n){return x(n(t))},each:function(n){n(t)},bind:e,exists:e,forall:e,filter:function(n){return n(t)?o:l},toArray:function(){return[t]},toString:function(){return\"some(\"+t+\")\"},equals:function(n){return n.is(t)},equals_:function(n,e){return n.fold(f,function(n){return e(t,n)})}};return o},I=function(n){return null===n||n===undefined?l:x(n)},L=N(\"string\"),P=N(\"boolean\"),B=N(\"function\"),R=N(\"number\"),V=Array.prototype.slice,U=(B(Array.from)&&Array.from,r.Node.ATTRIBUTE_NODE,r.Node.CDATA_SECTION_NODE,r.Node.COMMENT_NODE,r.Node.DOCUMENT_NODE,r.Node.DOCUMENT_TYPE_NODE,r.Node.DOCUMENT_FRAGMENT_NODE,r.Node.ELEMENT_NODE,r.Node.TEXT_NODE),j=(r.Node.PROCESSING_INSTRUCTION_NODE,r.Node.ENTITY_REFERENCE_NODE,r.Node.ENTITY_NODE,r.Node.NOTATION_NODE,\"undefined\"!=typeof r.window?r.window:Function(\"return this;\")(),k=U,function(n){return function(n){return n.dom().nodeType}(n)===k}),q=function(n){if(null===n||n===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:u(n)}},F={fromHtml:function(n,e){var t=(e||r.document).createElement(\"div\");if(t.innerHTML=n,!t.hasChildNodes()||1<t.childNodes.length)throw r.console.error(\"HTML does not have a single root node\",n),new Error(\"HTML must have a single root node\");return q(t.childNodes[0])},fromTag:function(n,e){var t=(e||r.document).createElement(n);return q(t)},fromText:function(n,e){var t=(e||r.document).createTextNode(n);return q(t)},fromDom:q,fromPoint:function(n,e,t){var r=n.dom();return I(r.elementFromPoint(e,t)).map(q)}},G={\"\\xa0\":\"nbsp\",\"\\xad\":\"shy\"},H={charMap:G,regExp:C(G),regExpGlobal:C(G,!0),selector:A(G),nbspClass:\"mce-nbsp\",charMapToRegExp:C,charMapToSelector:A},Y=function(n){return'<span data-mce-bogus=\"1\" class=\"mce-'+H.charMap[n]+'\">'+n+\"</span>\"},z=function(n,e){var t=[],r=function(n,e){for(var t=n.length,r=new Array(t),o=0;o<t;o++){var u=n[o];r[o]=e(u,o)}return r}(n.dom().childNodes,F.fromDom);return v(r,function(n){e(n)&&(t=t.concat([n])),t=t.concat(z(n,e))}),t},W={isMatch:function(n){return j(n)&&h(n)!==undefined&&H.regExp.test(h(n))},filterDescendants:z,findParentElm:function(n,e){for(;n.parentNode;){if(n.parentNode===e)return n;n=n.parentNode}},replaceWithSpans:function(n){return n.replace(H.regExpGlobal,Y)}},K=w,X=M,J=function(n){var e=n.getBody(),t=n.selection.getBookmark(),r=W.findParentElm(n.selection.getNode(),e);r=r!==undefined?r:e,M(n,r),w(n,r),n.selection.moveToBookmark(t)},Q=function(n,e){var t,r=n.getBody(),o=n.selection;e.set(!e.get()),a(n,e.get()),t=o.getBookmark(),!0===e.get()?K(n,r):X(n,r),o.moveToBookmark(t)},Z=function(n,e){n.addCommand(\"mceVisualChars\",function(){Q(n,e)})},$=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),nn=function(e,t){var r=$.debounce(function(){J(e)},300);!1!==e.settings.forced_root_block&&e.on(\"keydown\",function(n){!0===t.get()&&(13===n.keyCode?J(e):r())})},en=function(n){return n.getParam(\"visualchars_default_state\",!1)},tn=function(e,t){e.on(\"init\",function(){var n=!en(e);t.set(n),Q(e,t)})};!function rn(){i.add(\"visualchars\",function(n){var e=o(!1);return Z(n,e),function(n,e){n.ui.registry.addToggleButton(\"visualchars\",{tooltip:\"Show invisible characters\",icon:\"visualchars\",onAction:function(){return n.execCommand(\"mceVisualChars\")},onSetup:S(n,e)}),n.ui.registry.addToggleMenuItem(\"visualchars\",{text:\"Show invisible characters\",onAction:function(){return n.execCommand(\"mceVisualChars\")},onSetup:S(n,e)})}(n,e),nn(n,e),tn(n,e),c(e)})}()}(window);"]}