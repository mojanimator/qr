{"version":3,"sources":["../../../../public/js/awesomeqr/gif.js"],"names":["f","exports","module","define","amd","g","window","global","self","GIF","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length","EventEmitter","_events","_maxListeners","undefined","prototype","defaultMaxListeners","setMaxListeners","isNumber","isNaN","TypeError","emit","type","er","handler","len","args","listeners","error","isObject","arguments","err","context","isUndefined","isFunction","Array","slice","apply","addListener","listener","m","newListener","push","warned","console","trace","on","once","fired","removeListener","list","position","splice","removeAllListeners","key","ret","listenerCount","evlistener","emitter","arg","UA","browser","mode","platform","ua","navigator","userAgent","toLowerCase","match","document","documentMode","name","version","parseFloat","parseInt","extend","child","parent","hasProp","ctor","constructor","__super__","hasOwnProperty","indexOf","item","superClass","defaults","frameDefaults","workerScript","workers","repeat","background","quality","width","height","transparent","debug","dither","delay","copy","options","base","value","running","frames","freeWorkers","activeWorkers","setOptions","setOption","_canvas","results","addFrame","image","frame","ImageData","data","CanvasRenderingContext2D","WebGLRenderingContext","getContextData","childNodes","getImageData","render","j","numWorkers","ref","nextFrame","finishedFrames","imageParts","spawnWorkers","globalPalette","renderNextFrame","abort","worker","shift","log","terminate","Math","min","forEach","_this","Worker","__awesome_qr_base_path","onmessage","event","frameFinished","index","finishRendering","k","len1","len2","len3","offset","page","ref1","ref2","pageSize","cursor","round","Uint8Array","set","Blob","task","getTask","postMessage","ctx","createElement","getContext","setFill","fillRect","drawImage","last","canTransfer","events"],"mappings":"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","file":"gif.js","sourcesContent":["// gif.js 0.2.0 - https://github.com/jnordberg/gif.js\n(function (f) {\n    if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f()\n    } else if (typeof define === \"function\" && define.amd) {\n        define([], f)\n    } else {\n        var g;\n        if (typeof window !== \"undefined\") {\n            g = window\n        } else if (typeof global !== \"undefined\") {\n            g = global\n        } else if (typeof self !== \"undefined\") {\n            g = self\n        } else {\n            g = this\n        }\n        g.GIF = f()\n    }\n})(function () {\n    var define, module, exports;\n    return function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;\n                    if (!u && a)return a(o, !0);\n                    if (i)return i(o, !0);\n                    var f = new Error(\"Cannot find module '\" + o + \"'\");\n                    throw f.code = \"MODULE_NOT_FOUND\", f\n                }\n                var l = n[o] = {exports: {}};\n                t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e)\n                }, l, l.exports, e, t, n, r)\n            }\n            return n[o].exports\n        }\n\n        var i = typeof require == \"function\" && require;\n        for (var o = 0; o < r.length; o++)s(r[o]);\n        return s\n    }({\n        1: [function (require, module, exports) {\n            function EventEmitter() {\n                this._events = this._events || {};\n                this._maxListeners = this._maxListeners || undefined\n            }\n\n            module.exports = EventEmitter;\n            EventEmitter.EventEmitter = EventEmitter;\n            EventEmitter.prototype._events = undefined;\n            EventEmitter.prototype._maxListeners = undefined;\n            EventEmitter.defaultMaxListeners = 10;\n            EventEmitter.prototype.setMaxListeners = function (n) {\n                if (!isNumber(n) || n < 0 || isNaN(n))throw TypeError(\"n must be a positive number\");\n                this._maxListeners = n;\n                return this\n            };\n            EventEmitter.prototype.emit = function (type) {\n                var er, handler, len, args, i, listeners;\n                if (!this._events) this._events = {};\n                if (type === \"error\") {\n                    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n                        er = arguments[1];\n                        if (er instanceof Error) {\n                            throw er\n                        } else {\n                            var err = new Error('Uncaught, unspecified \"error\" event. (' + er + \")\");\n                            err.context = er;\n                            throw err\n                        }\n                    }\n                }\n                handler = this._events[type];\n                if (isUndefined(handler))return false;\n                if (isFunction(handler)) {\n                    switch (arguments.length) {\n                        case 1:\n                            handler.call(this);\n                            break;\n                        case 2:\n                            handler.call(this, arguments[1]);\n                            break;\n                        case 3:\n                            handler.call(this, arguments[1], arguments[2]);\n                            break;\n                        default:\n                            args = Array.prototype.slice.call(arguments, 1);\n                            handler.apply(this, args)\n                    }\n                } else if (isObject(handler)) {\n                    args = Array.prototype.slice.call(arguments, 1);\n                    listeners = handler.slice();\n                    len = listeners.length;\n                    for (i = 0; i < len; i++)listeners[i].apply(this, args)\n                }\n                return true\n            };\n            EventEmitter.prototype.addListener = function (type, listener) {\n                var m;\n                if (!isFunction(listener))throw TypeError(\"listener must be a function\");\n                if (!this._events) this._events = {};\n                if (this._events.newListener) this.emit(\"newListener\", type, isFunction(listener.listener) ? listener.listener : listener);\n                if (!this._events[type]) this._events[type] = listener; else if (isObject(this._events[type])) this._events[type].push(listener); else this._events[type] = [this._events[type], listener];\n                if (isObject(this._events[type]) && !this._events[type].warned) {\n                    if (!isUndefined(this._maxListeners)) {\n                        m = this._maxListeners\n                    } else {\n                        m = EventEmitter.defaultMaxListeners\n                    }\n                    if (m && m > 0 && this._events[type].length > m) {\n                        this._events[type].warned = true;\n                        console.error(\"(node) warning: possible EventEmitter memory \" + \"leak detected. %d listeners added. \" + \"Use emitter.setMaxListeners() to increase limit.\", this._events[type].length);\n                        if (typeof console.trace === \"function\") {\n                            console.trace()\n                        }\n                    }\n                }\n                return this\n            };\n            EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n            EventEmitter.prototype.once = function (type, listener) {\n                if (!isFunction(listener))throw TypeError(\"listener must be a function\");\n                var fired = false;\n\n                function g() {\n                    this.removeListener(type, g);\n                    if (!fired) {\n                        fired = true;\n                        listener.apply(this, arguments)\n                    }\n                }\n\n                g.listener = listener;\n                this.on(type, g);\n                return this\n            };\n            EventEmitter.prototype.removeListener = function (type, listener) {\n                var list, position, length, i;\n                if (!isFunction(listener))throw TypeError(\"listener must be a function\");\n                if (!this._events || !this._events[type])return this;\n                list = this._events[type];\n                length = list.length;\n                position = -1;\n                if (list === listener || isFunction(list.listener) && list.listener === listener) {\n                    delete this._events[type];\n                    if (this._events.removeListener) this.emit(\"removeListener\", type, listener)\n                } else if (isObject(list)) {\n                    for (i = length; i-- > 0;) {\n                        if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n                            position = i;\n                            break\n                        }\n                    }\n                    if (position < 0)return this;\n                    if (list.length === 1) {\n                        list.length = 0;\n                        delete this._events[type]\n                    } else {\n                        list.splice(position, 1)\n                    }\n                    if (this._events.removeListener) this.emit(\"removeListener\", type, listener)\n                }\n                return this\n            };\n            EventEmitter.prototype.removeAllListeners = function (type) {\n                var key, listeners;\n                if (!this._events)return this;\n                if (!this._events.removeListener) {\n                    if (arguments.length === 0) this._events = {}; else if (this._events[type]) delete this._events[type];\n                    return this\n                }\n                if (arguments.length === 0) {\n                    for (key in this._events) {\n                        if (key === \"removeListener\")continue;\n                        this.removeAllListeners(key)\n                    }\n                    this.removeAllListeners(\"removeListener\");\n                    this._events = {};\n                    return this\n                }\n                listeners = this._events[type];\n                if (isFunction(listeners)) {\n                    this.removeListener(type, listeners)\n                } else if (listeners) {\n                    while (listeners.length)this.removeListener(type, listeners[listeners.length - 1])\n                }\n                delete this._events[type];\n                return this\n            };\n            EventEmitter.prototype.listeners = function (type) {\n                var ret;\n                if (!this._events || !this._events[type]) ret = []; else if (isFunction(this._events[type])) ret = [this._events[type]]; else ret = this._events[type].slice();\n                return ret\n            };\n            EventEmitter.prototype.listenerCount = function (type) {\n                if (this._events) {\n                    var evlistener = this._events[type];\n                    if (isFunction(evlistener))return 1; else if (evlistener)return evlistener.length\n                }\n                return 0\n            };\n            EventEmitter.listenerCount = function (emitter, type) {\n                return emitter.listenerCount(type)\n            };\n            function isFunction(arg) {\n                return typeof arg === \"function\"\n            }\n\n            function isNumber(arg) {\n                return typeof arg === \"number\"\n            }\n\n            function isObject(arg) {\n                return typeof arg === \"object\" && arg !== null\n            }\n\n            function isUndefined(arg) {\n                return arg === void 0\n            }\n        }, {}], 2: [function (require, module, exports) {\n            var UA, browser, mode, platform, ua;\n            ua = navigator.userAgent.toLowerCase();\n            platform = navigator.platform.toLowerCase();\n            UA = ua.match(/(opera|ie|firefox|chrome|version)[\\s\\/:]([\\w\\d\\.]+)?.*?(safari|version[\\s\\/:]([\\w\\d\\.]+)|$)/) || [null, \"unknown\", 0];\n            mode = UA[1] === \"ie\" && document.documentMode;\n            browser = {\n                name: UA[1] === \"version\" ? UA[3] : UA[1],\n                version: mode || parseFloat(UA[1] === \"opera\" && UA[4] ? UA[4] : UA[2]),\n                platform: {name: ua.match(/ip(?:ad|od|hone)/) ? \"ios\" : (ua.match(/(?:webos|android)/) || platform.match(/mac|win|linux/) || [\"other\"])[0]}\n            };\n            browser[browser.name] = true;\n            browser[browser.name + parseInt(browser.version, 10)] = true;\n            browser.platform[browser.platform.name] = true;\n            module.exports = browser\n        }, {}], 3: [function (require, module, exports) {\n            var EventEmitter, GIF, browser, extend = function (child, parent) {\n                for (var key in parent) {\n                    if (hasProp.call(parent, key)) child[key] = parent[key]\n                }\n                function ctor() {\n                    this.constructor = child\n                }\n\n                ctor.prototype = parent.prototype;\n                child.prototype = new ctor;\n                child.__super__ = parent.prototype;\n                return child\n            }, hasProp = {}.hasOwnProperty, indexOf = [].indexOf || function (item) {\n                    for (var i = 0, l = this.length; i < l; i++) {\n                        if (i in this && this[i] === item)return i\n                    }\n                    return -1\n                }, slice = [].slice;\n            EventEmitter = require(\"events\").EventEmitter;\n            browser = require(\"./browser.coffee\");\n            GIF = function (superClass) {\n                var defaults, frameDefaults;\n                extend(GIF, superClass);\n                defaults = {\n                    workerScript: \"gif.worker.js\",\n                    workers: 2,\n                    repeat: 0,\n                    background: \"#fff\",\n                    quality: 10,\n                    width: null,\n                    height: null,\n                    transparent: null,\n                    debug: false,\n                    dither: false\n                };\n                frameDefaults = {delay: 500, copy: false};\n                function GIF(options) {\n                    var base, key, value;\n                    this.running = false;\n                    this.options = {};\n                    this.frames = [];\n                    this.freeWorkers = [];\n                    this.activeWorkers = [];\n                    this.setOptions(options);\n                    for (key in defaults) {\n                        value = defaults[key];\n                        if ((base = this.options)[key] == null) {\n                            base[key] = value\n                        }\n                    }\n                }\n\n                GIF.prototype.setOption = function (key, value) {\n                    this.options[key] = value;\n                    if (this._canvas != null && (key === \"width\" || key === \"height\")) {\n                        return this._canvas[key] = value\n                    }\n                };\n                GIF.prototype.setOptions = function (options) {\n                    var key, results, value;\n                    results = [];\n                    for (key in options) {\n                        if (!hasProp.call(options, key))continue;\n                        value = options[key];\n                        results.push(this.setOption(key, value))\n                    }\n                    return results\n                };\n                GIF.prototype.addFrame = function (image, options) {\n                    var frame, key;\n                    if (options == null) {\n                        options = {}\n                    }\n                    frame = {};\n                    frame.transparent = this.options.transparent;\n                    for (key in frameDefaults) {\n                        frame[key] = options[key] || frameDefaults[key]\n                    }\n                    if (this.options.width == null) {\n                        this.setOption(\"width\", image.width)\n                    }\n                    if (this.options.height == null) {\n                        this.setOption(\"height\", image.height)\n                    }\n                    if (typeof ImageData !== \"undefined\" && ImageData !== null && image instanceof ImageData) {\n                        frame.data = image.data\n                    } else if (typeof CanvasRenderingContext2D !== \"undefined\" && CanvasRenderingContext2D !== null && image instanceof CanvasRenderingContext2D || typeof WebGLRenderingContext !== \"undefined\" && WebGLRenderingContext !== null && image instanceof WebGLRenderingContext) {\n                        if (options.copy) {\n                            frame.data = this.getContextData(image)\n                        } else {\n                            frame.context = image\n                        }\n                    } else if (image.childNodes != null) {\n                        if (options.copy) {\n                            frame.data = this.getImageData(image)\n                        } else {\n                            frame.image = image\n                        }\n                    } else {\n                        throw new Error(\"Invalid image\")\n                    }\n                    return this.frames.push(frame)\n                };\n                GIF.prototype.render = function () {\n                    var i, j, numWorkers, ref;\n                    if (this.running) {\n                        throw new Error(\"Already running\")\n                    }\n                    if (this.options.width == null || this.options.height == null) {\n                        throw new Error(\"Width and height must be set prior to rendering\")\n                    }\n                    this.running = true;\n                    this.nextFrame = 0;\n                    this.finishedFrames = 0;\n                    this.imageParts = function () {\n                        var j, ref, results;\n                        results = [];\n                        for (i = j = 0, ref = this.frames.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n                            results.push(null)\n                        }\n                        return results\n                    }.call(this);\n                    numWorkers = this.spawnWorkers();\n                    if (this.options.globalPalette === true) {\n                        this.renderNextFrame()\n                    } else {\n                        for (i = j = 0, ref = numWorkers; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {\n                            this.renderNextFrame()\n                        }\n                    }\n                    this.emit(\"start\");\n                    return this.emit(\"progress\", 0)\n                };\n                GIF.prototype.abort = function () {\n                    var worker;\n                    while (true) {\n                        worker = this.activeWorkers.shift();\n                        if (worker == null) {\n                            break\n                        }\n                        this.log(\"killing active worker\");\n                        worker.terminate()\n                    }\n                    this.running = false;\n                    return this.emit(\"abort\")\n                };\n                GIF.prototype.spawnWorkers = function () {\n                    var j, numWorkers, ref, results;\n                    numWorkers = Math.min(this.options.workers, this.frames.length);\n                    (function () {\n                        results = [];\n                        for (var j = ref = this.freeWorkers.length; ref <= numWorkers ? j < numWorkers : j > numWorkers; ref <= numWorkers ? j++ : j--) {\n                            results.push(j)\n                        }\n                        return results\n                    }).apply(this).forEach(function (_this) {\n                        return function (i) {\n                            var worker;\n                            _this.log(\"spawning worker \" + i);\n                            worker = new Worker(__awesome_qr_base_path + '/' + _this.options.workerScript);\n                            worker.onmessage = function (event) {\n                                _this.activeWorkers.splice(_this.activeWorkers.indexOf(worker), 1);\n                                _this.freeWorkers.push(worker);\n                                return _this.frameFinished(event.data)\n                            };\n                            return _this.freeWorkers.push(worker)\n                        }\n                    }(this));\n                    return numWorkers\n                };\n                GIF.prototype.frameFinished = function (frame) {\n                    var i, j, ref;\n                    this.log(\"frame \" + frame.index + \" finished - \" + this.activeWorkers.length + \" active\");\n                    this.finishedFrames++;\n                    this.emit(\"progress\", this.finishedFrames / this.frames.length);\n                    this.imageParts[frame.index] = frame;\n                    if (this.options.globalPalette === true) {\n                        this.options.globalPalette = frame.globalPalette;\n                        this.log(\"global palette analyzed\");\n                        if (this.frames.length > 2) {\n                            for (i = j = 1, ref = this.freeWorkers.length; 1 <= ref ? j < ref : j > ref; i = 1 <= ref ? ++j : --j) {\n                                this.renderNextFrame()\n                            }\n                        }\n                    }\n                    if (indexOf.call(this.imageParts, null) >= 0) {\n                        return this.renderNextFrame()\n                    } else {\n                        return this.finishRendering()\n                    }\n                };\n                GIF.prototype.finishRendering = function () {\n                    var data, frame, i, image, j, k, l, len, len1, len2, len3, offset, page, ref, ref1, ref2;\n                    len = 0;\n                    ref = this.imageParts;\n                    for (j = 0, len1 = ref.length; j < len1; j++) {\n                        frame = ref[j];\n                        len += (frame.data.length - 1) * frame.pageSize + frame.cursor\n                    }\n                    len += frame.pageSize - frame.cursor;\n                    this.log(\"rendering finished - filesize \" + Math.round(len / 1e3) + \"kb\");\n                    data = new Uint8Array(len);\n                    offset = 0;\n                    ref1 = this.imageParts;\n                    for (k = 0, len2 = ref1.length; k < len2; k++) {\n                        frame = ref1[k];\n                        ref2 = frame.data;\n                        for (i = l = 0, len3 = ref2.length; l < len3; i = ++l) {\n                            page = ref2[i];\n                            data.set(page, offset);\n                            if (i === frame.data.length - 1) {\n                                offset += frame.cursor\n                            } else {\n                                offset += frame.pageSize\n                            }\n                        }\n                    }\n                    image = new Blob([data], {type: \"image/gif\"});\n                    return this.emit(\"finished\", image, data)\n                };\n                GIF.prototype.renderNextFrame = function () {\n                    var frame, task, worker;\n                    if (this.freeWorkers.length === 0) {\n                        throw new Error(\"No free workers\")\n                    }\n                    if (this.nextFrame >= this.frames.length) {\n                        return\n                    }\n                    frame = this.frames[this.nextFrame++];\n                    worker = this.freeWorkers.shift();\n                    task = this.getTask(frame);\n                    this.log(\"starting frame \" + (task.index + 1) + \" of \" + this.frames.length);\n                    this.activeWorkers.push(worker);\n                    return worker.postMessage(task)\n                };\n                GIF.prototype.getContextData = function (ctx) {\n                    return ctx.getImageData(0, 0, this.options.width, this.options.height).data\n                };\n                GIF.prototype.getImageData = function (image) {\n                    var ctx;\n                    if (this._canvas == null) {\n                        this._canvas = document.createElement(\"canvas\");\n                        this._canvas.width = this.options.width;\n                        this._canvas.height = this.options.height\n                    }\n                    ctx = this._canvas.getContext(\"2d\");\n                    ctx.setFill = this.options.background;\n                    ctx.fillRect(0, 0, this.options.width, this.options.height);\n                    ctx.drawImage(image, 0, 0);\n                    return this.getContextData(ctx)\n                };\n                GIF.prototype.getTask = function (frame) {\n                    var index, task;\n                    index = this.frames.indexOf(frame);\n                    task = {\n                        index: index,\n                        last: index === this.frames.length - 1,\n                        delay: frame.delay,\n                        transparent: frame.transparent,\n                        width: this.options.width,\n                        height: this.options.height,\n                        quality: this.options.quality,\n                        dither: this.options.dither,\n                        globalPalette: this.options.globalPalette,\n                        repeat: this.options.repeat,\n                        canTransfer: browser.name === \"chrome\"\n                    };\n                    if (frame.data != null) {\n                        task.data = frame.data\n                    } else if (frame.context != null) {\n                        task.data = this.getContextData(frame.context)\n                    } else if (frame.image != null) {\n                        task.data = this.getImageData(frame.image)\n                    } else {\n                        throw new Error(\"Invalid frame\")\n                    }\n                    return task\n                };\n                GIF.prototype.log = function () {\n                    var args;\n                    args = 1 <= arguments.length ? slice.call(arguments, 0) : [];\n                    if (!this.options.debug) {\n                        return\n                    }\n                    return console.log.apply(console, args)\n                };\n                return GIF\n            }(EventEmitter);\n            module.exports = GIF\n        }, {\"./browser.coffee\": 2, events: 1}]\n    }, {}, [3])(3)\n});\n//# sourceMappingURL=gif.js.map"]}