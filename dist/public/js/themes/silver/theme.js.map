{"version":3,"sources":["../../../../../public/js/themes/silver/theme.js"],"names":["domGlobals","noop","noarg","f","compose","fa","fb","args","_i","arguments","length","apply","constant","value","identity","x","curry","fn","initialArgs","restArgs","all","concat","not","die","msg","Error","never","always","global$1","tinymce","util","Tools","resolve","__assign","Object","assign","t","s","i","n","p","prototype","hasOwnProperty","call","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","r","Array","k","a","j","jl","none","NONE","eq","o","isNone","thunk","id","me","fold","is","isSome","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","freeze","some","constant_a","self","v","elementEq","b","from","Option","opt","mapError","_","onValue","toOption","isValue","isError","error","message","String","onError","fromOption","err","Result","typeOf","isPrototypeOf","constructor","name","isType","type","isString","isObject","isArray","isBoolean","isFunction","isNumber","isArrayOf","pred","len","nativeSlice","slice","nativeIndexOf","nativePush","push","rawIndexOf","ts","xs","contains","range","num","chunk","array","size","eachr","partition","pass","fail","arr","foldr","acc","foldl","find","findIndex","flatten","output","reverse","difference","a1","a2","pure","sort","comparator","copy","head","last","from$1","keys","each$1","obj","props","map$1","tupleMap","tuple","mapToArray","find$1","values","get","key","has","generate","cases","constructors","adt","acase","count","keys$1","argLength","match","branches","branchKeys","join","allReqd","reqKey","target","log","label","console","params","Adt","hasOwnProperty$1","shallow","old","nu","deep","bothObjects","deepMerge","baseMerge","merger","objects","ret","curObject","merge","cached","called","strict","defaultedThunk","asOption","asDefaultedOptionThunk","mergeWithThunk","defaulted","fallback","mergeWith","base","exclude","fields","readOpt","readOr","readOptFrom","hasKey","wrap","wrapAll","keyvalues","kv","comparison","bothErrors","firstError","secondError","bothValues","partition$1","results","errors","result","exclude$1","readOpt$1","readOr$1","readOptFrom$1","wrap$1","wrapAll$1","mergeValues","mergeErrors","consolidate","objs","partitions","hasKey$1","SimpleResultType","res","stype","serror","svalue","partition$2","val","map$2","Value","bind$1","bindError","toResult","fromResult","SimpleResult","mergeValues$1","mergeErrors$1","consolidateObj","consolidateArr","ResultCombine","typeAdt","setOf","arrOf","objOf","itemOf","choiceOf","func","fieldAdt","field","state","formatObj","input","JSON","stringify","formatErrors","es","path","getErrorInfo","missingStrict","missingKey","missingBranch","branch","unsupportedFields","unsupported","custom","adt$1","strictAccess","fallbackAccess","fallbackThunk","optionAccess","optionDefaultedAccess","cExtractOne","strength","okey","presence","prop","bundle","av","extract","bundleAsOption","optValue","outcome","ov","baseThunk","instantiator","cExtract","valueThunk","getDelegate","toDsl","value$1","validator","getSetKeys","objOfOnly","delegate","fieldNames","extra","fieldStrings","validateKeys","validatedKeys","validKeys","schema","vk","anyValue","arrOfObj","chooseFrom","ch","vp","choose","choice","chosen","_anyValue","arrOfObj$1","objFields","arrOfVal","valueThunkOf","valueOf","setOf$1","errs","asRaw","extraction","errInfo","formatError","asRawOrDie","chooseProcessor","choose$1","anyValue$1","typedValue","expectedType","actualType","number","string","boolean","functionProcessor","isPostMessageable","every","iter","callbackFn","next","done","postMessageable","validateEnum","strict$1","strictOf","strictNumber","strictString","strictStringEnum","strictBoolean","strictFunction","forbid","strictObjOf","objSchema","strictArrayOfObj","strictArrayOf","option","optionOf","optionNumber","optionString","optionFunction","optionArrayOf","optionObjOf","optionObjOfOnly","defaulted$1","defaultedOf","defaultedNumber","defaultedString","defaultedStringEnum","defaultedBoolean","defaultedFunction","defaultedPostMsg","defaultedArrayOf","defaultedObjOf","state$1","Cell","initial","set","clone","fromHtml","html","scope","doc","document","div","createElement","innerHTML","hasChildNodes","childNodes","fromDom","fromTag","tag","node","fromText","text","createTextNode","dom","fromPoint","docElm","y","elementFromPoint","Element","compareDocumentPosition","documentPositionPreceding","Node","DOCUMENT_POSITION_PRECEDING","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","firstMatch","regexes","test","find$2","agent","major","minor","group","Number","replace","nu$1","detect","versionRegexes","cleanedAgent","toLowerCase","unknown","Version","edge","chrome","ie","opera","firefox","safari","isBrowser","current","unknown$1","nu$2","version","info","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","windows","ios","android","linux","osx","solaris","freebsd","isOS","unknown$2","nu$3","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","DeviceType","os","browser","userAgent","mediaMatch","isiPad","isiPhone","isMobile","isTouch","isTablet","isPhone","iOSwebview","isDesktop","isWebView","detect$1","candidates","candidate","search","detectBrowser","browsers","detectOs","oses","UaString","checkRange","str","substr","start","contains$1","endsWith","suffix","trim","normalVersionRegex","checkContains","uastring","PlatformInfo","detect$2","deviceType","PlatformDetection","query","window","matchMedia","matches","platform","navigator","detect$3","ATTRIBUTE","ATTRIBUTE_NODE","CDATA_SECTION","CDATA_SECTION_NODE","COMMENT","COMMENT_NODE","DOCUMENT","DOCUMENT_NODE","DOCUMENT_TYPE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT","DOCUMENT_FRAGMENT_NODE","ELEMENT","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE","ENTITY_REFERENCE_NODE","ENTITY","ENTITY_NODE","NOTATION","NOTATION_NODE","ELEMENT$1","DOCUMENT$1","element","selector","nodeType","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","querySelectorAll","one","querySelector","e1","e2","regularContains","d1","d2","ieContains","contains$2","isSource","component","simulatedEvent","event","nu$4","parts","all$1","handlers","handler","any","read","can","abort","run","fuse","touchstart","touchmove","touchend","mousedown","mousemove","mouseout","mouseup","mouseover","focusin","focusout","keydown","keyup","change","click","transitionend","selectstart","alloy","tap","focus","postBlur","postPaste","receive","execute","focusItem","tapOrClick","longpress","sandboxClose","typeaheadCancel","systemInit","documentTouchmove","documentTouchend","windowScroll","windowResize","attachedToDom","detachedFromDom","dismissRequested","repositionRequested","focusShifted","slotVisibility","changeTab","dismissTab","highlight","dehighlight","emit","dispatchWith","emitWith","properties","emitExecute","dispatch","data","getSystem","triggerEvent","dispatchEvent","ClosestOrAncestor","ancestor","isRoot","Global","Function","nodeName","isType$1","isElement","isText","inBody","parentNode","ownerDocument","body","getBody","predicate","stop","el","closest","descendant","descend","child_1","closest$1","transform","derive","configs","preventDefault","prevent","runActionExtra","action","runOnName","runOnSourceName","redirectToUid","uid","getByUid","redirectee","redirectToPart","detail","partName","partUids","runWithTarget","ev","getByDom","c","cutter","cut","stopper","runOnSource","runOnAttached","runOnDetached","runOnInit","runOnExecute","Immutable","struct","sort$1","reqMessage","required","unsuppMessage","validateStrArr","checkDupes","everything","sorted","dupe","d","MixedBag","optional","req","owner","documentElement","defaultView","parent","offsetParent","nextSibling","children","child","index","cs","firstChild","spot","fromHtml$1","before","marker","parent$1","insertBefore","after","sibling","append","prepend","firstChild$1","appendChild","appendAt","before$1","elements","append$1","empty","textContent","rogue","remove","removeChild","unwrap","wrapper","children$1","get$1","content","owner$1","docDom","fragment","createDocumentFragment","contentElements","getOuter","container","cloneNode","rawSet","setAttribute","set$1","setAll","attrs","get$2","getAttribute","has$1","hasAttribute","remove$1","removeAttribute","original","isDeep","shallow$1","getHtml","isRecursive","originator","events","warn","DefaultEvents","unique","generate$1","prefix","date","Date","time","getTime","random","Math","floor","idAttr","prefix$1","idAttr$1","write","writeOnly","defineProperty","writable","read$1","generate$2","make","NoContextApi","getComp","debugInfo","triggerFocus","triggerEscape","build","addToWorld","removeFromWorld","addToGui","removeFromGui","broadcast","broadcastOn","broadcastEvent","isConnected","singleton","markAsBehaviourApi","apiName","apiFunction","endIndex","openBracketIndex","parameters","substring","split","toFunctionAnnotation","cleanParameters","markAsExtraApi","extraName","markAsSketchApi","premadeTag","premade","comp","getPremade","spec","makeApi","rest","getApis","NoState","init","nu$5","readState","generateFrom","validated","behaviours","list","optBlobThunk","optBlob","blob","config","getBehaviours","bData","getData","byInnerKey","indexKey","chain","nu$6","classes","attributes","styles","merge$1","defnA","mod","combine","baseMod","modsByBehaviour","behaviour","exhibit","nameAndMod","modification","byAspect","combineObjects","combinedClasses","combinedAttributes","combinedStyles","sortKeys","keyName","order","sliced","aKey","bKey","aIndex","bIndex","uncurried","purpose","curried","cHandler","curryArgs","descHandler","extraArgs","getCurried","behaviourTuple","nameToHandlers","groupByEvents","behaviourEvents","combine$1","eventOrder","byEventName","combineGroups","assemble","rawHandler","missingOrderError","eventName","tuples","fuse$1","sortedTuples","combined","assembled","toInfo","toDefinition","domChildren","components","toModification","domModification","toEvents","read$2","attr","add","remove$2","supports","classList","get$3","add$1","clazz","remove$3","add$2","cleanClass","remove$4","has$2","add$3","remove$5","isSupported","style","getPropertyValue","internalSet","property","setProperty","internalRemove","removeProperty","set$2","setAll$1","css","setOptions","get$4","getComputedStyle","getUnsafeProperty","getRaw","raw","isValidValue","remove$6","reflow","offsetWidth","get$5","set$3","renderToDom","definition","subject","innerHtml","getBehaviours$1","generateFrom$1","generate$3","getDomDefinition","bList","infoModification","baseModification","getEvents","baseEvents","getMe","systemApi","bBlob","modDefinition","item","subcomponents","connect","newApi","disconnect","syncComponents","subs","hasConfigured","apis","behaviourName","buildSubcomponents","build$1","buildFromSpec","userSpec","_a","specEvents","completeSpec","external","extSpec","uids","userSpecWithUid","prebuilt","premade$1","Dimension","getOffset","h","parseFloat","aggregate","parseInt","isNaN","max","cumulativeInclusions","absoluteMax","api","getBoundingClientRect","height","offsetHeight","get$6","getOuter$1","setMax","inclusions","absMax","left","top","translate","Position","boxPosition","box","firstDefinedOrZero","absolute","win","offsetLeft","offsetTop","scrollTop","pageYOffset","scrollLeft","pageXOffset","clientTop","clientLeft","viewport","api$1","set$4","get$7","getOuter$2","setMax$1","get$8","_DOC","bounds","width","right","bottom","getBounds","_win","visualViewport","pageLeft","pageTop","scroll","clientWidth","clientHeight","walkUp","navigation","frame","view","pathTo","paths","frameElement","Navigation","find$3","frames","offset","loc","pointed","rect","bounds$1","xy","w","absolute$1","position","closest$2","ancestor$1","descendant$1","closest$3","find$4","queryElem","dependent","dep","manager","ariaId","link","unlink","isAriaPartOf","isPartOf","cat","sequence","findMap","lift2","oa","ob","unknown$3","EventConfiguration","eventConfig","makeEventLogger","initialTarget","startTime","logEventCut","logEventStopped","logNoParent","logEventNoHandlers","logEventResponse","finishTime","processEvent","status","patterns","NORMAL","noLogger","LOGGING","logger","STOP","getTrace","stack","lines","line","ignoreEvent","monitorEvent","menuFields","itemFields","itemSchema","_initSize","itemMarkers","tieredMenuMarkers","markers","onPresenceHandler","fieldName","trace","onHandler","onKeyboardHandler","onStrictHandler","onStrictKeyboardHandler","snapshot","initSize","nu$7","adt$2","southeast","southwest","northeast","northwest","south","north","east","west","cata","cataVertical","middle","cataHorizontal","eastX","anchor","middleX","westX","northY","southY","centreY","eastEdgeX","westEdgeX","southeast$1","bubbles","southwest$1","northeast$1","northwest$1","north$1","south$1","east$1","west$1","all$2","allRtl","belowOrAbove","belowOrAboveRtl","executeEvent","bConfig","bState","executor","loadEvent","create","active","configSchema","schemaSchema","doCreate","createModes","modes","wrapApi","bName","revokeBehaviour","getConfig","wrappedApis","apiF","wrappedExtra","extraF","revoke","prepared","configAsRaw","initialConfig","behaviourInfo","exhibitor","derive$1","capabilities","simpleSchema","create$1","modeSchema","createModes$1","branchKey","chooseChannels","channels","universal","events$1","receiveConfig","channelMap","targetChannels","channelInfo","channelSchema","onReceive","ActiveReceiving","ReceivingSchema","Receiving","posConfig","useFixed","ActivePosition","focus$1","blur","hasFocus","activeElement","_doc","preserve","ownerDoc","refocus","focused","oldFocus","newFocus","allAlignments","nu$8","yoffset","getClasses","xDelta","yDelta","alignmentsOn","alignmentsOff","classesOn","classesOff","innerNorthwest","innerNortheast","innerNorth","innerSouthwest","innerSoutheast","innerSouth","innerWest","innerEast","decision","adt$3","relative","fixed","positionWithDirection","posName","decisionX","decisionY","decisionWidth","decisionHeight","decisionRight","decisionBottom","direction","reposition","origin","toBox","rel","viewport$1","pos","removeScroll","outerScroll","cata$1","onNone","onRelative","onFixed","nu$9","onDirection","isLtr","isRtl","getDirection","schema$1","get$9","defaultLtr","defaultRtl","ltr","layouts","ls","onLtr","rtl","onRtl","placement","anchorInfo","hotspot","anchorBox","bubble","overrides","placer","HotspotAnchor","placement$1","MakeshiftAnchor","zeroWidth","create$2","SimRange","adt$4","on","cata$2","onBefore","onOn","onAfter","getStart","situ","before$2","after$1","Situ","adt$5","domRange","exact","exactFromRange","simRange","soffset","finish","foffset","getStart$1","selection","rng","startContainer","startSitu","finishSitu","relative$1","getWin","range$1","Selection","setStart","setStartBefore","setStartAfter","setFinish","setEndBefore","setEnd","setEndAfter","relativeToNative","createRange","exactToNative","toRect","getFirstRect","rects","getClientRects","adt$6","fromRange","startOffset","endContainer","endOffset","getRanges","doDiagnose","ranges","collapsed","reversed","rev","diagnose","asLtrRange","diagnosis","searchForPoint","rectForOffset","maxX","curDeltaX","abs","inRect","NodeValue","getOption","nodeValue","api$2","get$a","locateOffset","textnode","rangeForOffset","collapse","locate","selectNode","foundRect","searchInChildren","nodes","locateNode","locate$1","boundedX","min","boundedY","getEnd","NBSP","isTextNodeWithCursorPosition","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","first","last$1","descendantRtl","COLLAPSE_TO_LEFT","COLLAPSE_TO_RIGHT","getCollapseDirection","createCollapsedNode","collapseDirection","locateInElement","cursorRange","locateInEmpty","search$1","caretPositionFromPoint","offsetNode","caretRangeFromPoint","searchTextNodes","searchFromPoint","availableSearch","descendants","makeRange","after$2","same","readRange","rangeCount","firstRng","getRangeAt","lastRng","doGetExact","anchorNode","focusNode","anchorOffset","focusOffset","getExact","getSelection","sel","getFirstRect$1","point","descendOnce","adt$7","screen","toFixed","toAbsolute","sum","points","sumAsFixed","positions","sumAsAbsolute","absolute$2","root","hasSameOwner","frameOwner","compOwner","getRootPoint","capRect","newLeft","newTop","newWidth","newHeight","calcNewAnchor","optBox","rootPoint","topLeft","layoutsLtr","showAbove","layoutsRtl","ContentAnchorCommon","point$1","descendOnce$1","getAnchorSelection","modStart","modFinish","placement$2","selectionBox","optRect","rawRect","targetElement","SelectionAnchor","placement$3","nodeBox","NodeAnchor","eastX$1","westX$1","northY$1","southY$1","southeast$2","southwest$2","northeast$2","northwest$2","all$3","allRtl$1","placement$4","submenuInfo","SubmenuAnchor","AnchorSchema","submenu","makeshift","box$1","cycleBy","delta","cap","adt$8","fit","nofit","calcReposition","newX","newY","boundsX","boundsY","boundsWidth","boundsHeight","xInBounds","yInBounds","originInBounds","xFit","yFit","sizeInBounds","deltaW","deltaH","limitX","limitY","attempt","candidateX","candidateY","bubbleLeft","bubbleTop","boundsBottom","boundsRight","upAvailable","downAvailable","maxHeight","westAvailable","eastAvailable","maxWidth","off","candidateYforTest","attempts","elementBox","panelWidth","panelHeight","attemptBestFit","layout","attemptLayout","newReposition","newDeltaW","newDeltaH","improved","abc","bestNext","elementSize","options","preference","setClasses","classInfo","setHeight","maxHeightFunction","setWidth","maxWidthFunction","addPx","newPosition","setMaxHeight","anchored","available","expandable","reparteeOptions","defaultOr","dephault","simple","overrideOptions","go","getFixedOrigin","getRelativeOrigin","place","anchoring","placee","position$1","posState","positionWithin","boxElement","boundsBox","positionWithinBounds","anchorage","oldVisibility","doPlace","vis","getMode","pConfig","pState","PositionApis","PositionSchema","Positioning","fireDetaching","fireAttaching","attach","detachChildren","childComp","replaceChildren","newChildren","deleted","attach$1","attachWith","insertion","doDetach","detach","detachChildren$1","attachSystem","guiSystem","attachSystemWith","attachSystemAfter","inserter","detachSystem","rebuild","sandbox","sConfig","sState","getAttachPoint","built","open","newState","onOpen","setContent","openWhileCloaked","transaction","cloak","decloak","close","onClose","clear","isOpen","isPartOf$1","getState","store","cssKey","newValue","restore","oldValue","sink","cloakVisibilityAttr","hasPosition","SandboxApis","events$2","sandboxConfig","sandboxState","ActiveSandbox","SandboxSchema","contents","SandboxState","Sandboxing","dismissPopups","repositionPopups","mouseReleased","schema$2","receivingChannel","rawSpec","isPart","isExtraPart","fireEventInstead","fe","schema$3","receivingChannel$1","doReposition","onLoad","repConfig","repState","onUnload","setValue","getValue","getState$1","RepresentApis","events$3","resetOnDom","se","ActiveRepresenting","memory","mode","isNotSet","manual","dataset","dataByValue","dataByText","lookup","itemString","update","items","currentDataByValue","currentDataByText","newDataByValue","newDataByText","meta","init$1","RepresentState","setValue$1","onSetValue","getValue$1","getDataKey","getFallbackEntry","onLoad$1","initialValue","onUnload$1","DatasetStore","getValue$2","setValue$2","onLoad$2","ManualStore","setValue$3","getValue$3","onLoad$3","initVal","onUnload$2","MemoryStore","RepresentSchema","Representing","setValueFrom","source","field$1","forbidden","get$b","dump","augment","SketchBehaviours","_placeholder","adt$9","single","multiple","subPlaceholder","compSpec","placeholders","newSpec","scan","uiType","substitute","childSpecs","substituted","valuesThunk","preprocessor","preprocess","substituteAll","oneReplace","replacements","used","substitutePlaces","ps","ph","placeholder","adt$a","fFactory","sketch","fSchema","fName","fPname","typeSpec","fGroupSchema","fDefaults","fOverrides","requiredSpec","externalSpec","optionalSpec","groupSpec","asNamedPart","part","name$1","asCommon","convert","adtConstructor","partSchema","external$1","PartType","combine$2","partSpec","partValidated","defaults","internals","externals","pname","factory","_partSpec","_partValidated","units","u","generate$4","np","g","doGenerateOne","generateOne","schemas","names","substitutes","getPart","partKey","getPartOrDie","getParts","partKeys","system","pk","getAllParts","pUid","getAllPartNames","getPartsOrDie","defaultUids","baseUid","partTypes","partNames","pn","defaultUidsSchema","AlloyParts","partSchemas","partUidsSchemas","asRawOrDie$1","baseS","single$1","specWithUid","supplyUid","composite","partUidsSchema","components$1","isSketchSpec","singleSchema","compositeSchema","single$2","rawConfig","configFields","extraApis","partFields","composite$1","inside","getCurrent","composeConfig","composeState","ComposeApis","ComposeSchema","Composing","dehighlightAllExcept","hConfig","hState","skip","highlighted","highlightClass","skipComp","onDehighlight","dehighlightAll","dehighlight$1","isHighlighted","highlight$1","onHighlight","highlightFirst","getFirst","firstComp","highlightLast","getLast","lastComp","highlightAt","getByIndex","highlightBy","getCandidates","targetComp","queryTarget","getHighlighted","itemClass","getDelta","selected","dest","getPrevious","getNext","HighlightApis","HighlightSchema","Highlighting","BACKSPACE","TAB","ENTER","ESCAPE","SPACE","LEFT","UP","RIGHT","DOWN","cyclePrev","tryPrev","cycleNext","tryNext","inSet","which","and","preds","isShift","shiftKey","isControl","ctrlKey","isNotShift","rule","classification","choose$2","transitions","transition","reportFocusShifting","prevFocus","noChange","focusee","highlights","FocusInsideModes","typical","infoSchema","stateInit","getKeydownRules","getKeyupRules","optFocusIn","processKey","getRules","keyingConfig","keyingState","rules","onFocusHandler","focusInside","OnFocusMode","focusIn","tryGoInsideComponent","isEnterOrSpace","OnEnterOrSpaceMode","create$3","cyclicField","isVisible","tabbingConfig","visibilitySelector","findInitial","tabstops","visibles","firstTabstop","findCurrent","focusManager","isTabstop","useTabstopAt","goFromTabstop","stopIndex","cycle","cyclic","tabstop","optStopIndex","goBackwards","tabbingState","navigate","goForwards","onEnter","exit","onEscape","AcyclicType","CyclicType","doDefaultExecute","defaultExecute","stopEventForFirefox","schema$4","execute$1","executeConfig","executeState","spaceExec","useSpace","enterExec","useEnter","downExec","useDown","execKeys","useControlEnter","ExecutionType","flatgrid","dimensions","setGridSize","numRows","numColumns","getNumRows","getNumColumns","init$2","KeyingState","useH","movement","move","use","west$2","moveLeft","moveRight","east$2","useV","north$2","south$2","isHidden","indexInfo","locate$2","locateVisible","visible","findIndex$1","withGrid","numCols","oldRow","oldColumn","address","newIndex","row","column","cycleHorizontal","onLastRow","colsInRow","newColumn","cycleVertical","newRow","newCol","cycleRight","cycleLeft","cycleUp","cycleDown","schema$5","gridConfig","gridState","execute$2","doMove","identified","handleTab","captureTab","doEscape","moveNorth","moveSouth","getKeydownRules$1","getKeyupRules$1","FlatgridType","horizontal","isDisabledButton","tryCycle","schema$6","findCurrent$1","flowConfig","execute$3","focusIn$1","getInitial","moveLeft$1","moveRight$1","doMove$1","executeOnMove","doEscape$1","_flowState","getKeydownRules$2","_component","_se","westMovers","allowVertical","eastMovers","getKeyupRules$2","FlowType","toCell","matrix","rowIndex","columnIndex","cell","cycleHorizontal$1","startCol","deltaCol","newColIndex","cycleVertical$1","colIndex","startRow","deltaRow","nextRowIndex","colsInNextRow","nextColIndex","moveHorizontal","moveVertical","cycleRight$1","cycleLeft$1","cycleUp$1","cycleDown$1","moveLeft$2","moveRight$2","moveUp","moveDown","schema$7","focusIn$2","matrixConfig","previousSelector","selectors","execute$4","toMatrix","rows","doMove$2","ifCycle","ifMove","cycles","inRow","cellsInRow","allRows","moveLeft$3","moveRight$3","moveNorth$1","moveSouth$1","getKeydownRules$3","getKeyupRules$3","MatrixType","schema$8","execute$5","menuConfig","focusIn$3","moveUp$1","moveDown$1","fireShiftTab","moveOnTab","fireTab","getKeydownRules$4","getKeyupRules$4","MenuType","schema$9","getKeydownRules$5","specialInfo","onSpace","onShiftEnter","onShiftTab","onTab","onUp","onDown","onLeft","onRight","getKeyupRules$5","stopSpaceKeyup","SpecialType","acyclic","flow","flatgrid$1","execution","menu","special","KeyboardBranches","Keying","keyConfig","keyState","sendFocusIn","set$5","replaceConfig","replaceState","insert","childSpec","append$2","appendee","prepend$1","prependee","remove$7","removee","foundChild","replaceAt","replaceeIndex","replacer","replacee","replaceBy","replaceePred","ReplaceApis","Replacing","events$4","eventHandlers","focus$2","focusConfig","ignore","onFocus","blur$1","isFocused","FocusApis","exhibit$1","tabindex","events$5","stopMousedown","ActiveFocus","FocusSchema","Focusing","updateAriaState","toggleConfig","toggleState","ariaInfo","aria","updateClass","toggleClass","toggle","set$6","on$1","isOn","onLoad$4","ToggleApis","exhibit$2","events$6","load","toggleOnExecute","ActiveToggle","SetupBehaviourCellState","initialState","updatePressed","syncWithExpanded","updateExpanded","updateSelected","updateChecked","ToggleSchema","pressed","checked","expanded","Toggling","hoverEvent","focusEvent","onHover","hover","focus$3","builder","toggling","hasSubmenu","itemBehaviours","tConfig","ignoreFocus","schema$a","builder$1","schema$b","owner$2","builder$2","focusWidget","widget","onHorizontalArrow","autofocus","setSource","widgetBehaviours","schema$c","itemSchema$1","separator","configureGrid","movementInfo","configureMatrix","rowSelector","configureMenu","parts$1","itemInfo","unit","fakeFocus","schema$d","grid","focus$4","make$1","menuBehaviours","selectedItem","role","Menu","transpose","byItem","byMenu","triggerItem","triggerMenu","generate$5","menus","expansions","menuItems","menuPaths","_triggerItem","init$3","primary","directory","isClear","setMenuBuilt","menuName","setContents","sPrimary","sMenus","sExpansions","dir","sPaths","getTriggeringItem","menuValue","getTriggerData","getItemByValue","getPreparedMenu","triggeringItemValue","triggeredItem","triggeredMenu","triggeringItem","triggeringPath","getTriggeringPath","itemValue","extraPath","lookupItem","revPath","triggers","menuIndex","expand","refresh","lookupMenu","extractPreparedMenu","otherMenus","menuValues","getPrimary","getMenus","prep","LayeredState","make$2","rawUiSpec","submenuParentItems","buildMenus","primaryName","makeSketch","nbMenu","layeredState","setup","componentMap","toDirectory","getItemValue","setActiveMenu","mv","closeOthers","others","backgroundMenu","stayInDom","getSubmenuParents","parentItems","itemComp","updateAriaExpansions","updateMenuPath","latestMenuName","menuPrep","activeMenu","ExpandHighlightDecision","buildIfRequired","expandRight","HighlightSubmenu","activeMenuPrep","onOpenSubmenu","collapseLeft","onCollapseMenu","updateView","keyOnItem","getSource","onExecute","onOpenMenu","highlightImmediately","navigateOnHover","HighlightParent","getActiveItem","collapseMenuApi","currentItem","highlightPrimary","extractMenuFromContainer","repositionMenus","maybeActivePrimary","allMenus","preparedMenus","primaryMenu","onRepositionMenu","collapseMenu","tmenuBehaviours","keyInfo","selectedMenu","collapseItem","tieredData","singleData","collapseItem$1","tieredMenu","tmenu","makeMenu","menuSandbox","menuSpec","lazySink","isFirstTierSubmenu","triggeringPaths","getSubmenuLayouts","submenuTriggers","st","submenuLayouts","isPartOfRelated","related","getRelated","thing","showAt","showWithin","showWithinBounds","showMenuAt","showMenuWithinBounds","hide","getContent","inlineBehaviours","onShow","onHide","fireDismissalEventInstead","fireRepositionEventInstead","InlineView","westEdgeX$1","middleX$1","eastEdgeX$1","northY$2","southY$2","southeast$3","southwest$3","northeast$3","northwest$3","north$3","south$3","events$7","optAction","executeHandler","onClick","onMousedown","pointerEvents","factory$1","lookupAttr","getModAttributes","roleAttrs","buttonBehaviours","Button","record","anyInSystem","getOpt","asSpec","defaultIcon","icons","get$c","getFirst$1","notificationIconMap","success","warning","factory$2","memBannerText","translationProvider","renderPercentBar","percent","renderPercentText","memBannerProgress","progress","updateProgress","updateText","text$1","banner","iconChoices","icon","level","iconProvider","onAction","Notification","global$2","NotificationManagerImpl","editor","extras","uiMothership","backstage","getLayoutDirection","prePositionNotifications","notifications","notification","moveTo","positionNotifications","firstItem","moveRel","getEl","settings","closeCallback","notificationWrapper","progressBar","shared","providers","getSink","timeout","setTimeout","layoutDirection_1","nodeAnchor","anchors","nuText","getArgs","first$1","rate","timer","cancel","clearTimeout","throttle","last$2","global$3","isText$1","isBoundary","isBlock","getContentEditable","outcome$1","aborted","phase","kontinue","repeat","process","walker","recent","terminate","recurse","repeatLeft","rootNode","getRoot","prev","autocompleteSelector","create$4","detect$4","getNode","getDoc","extractContents","insertNode","elm","normalize","setCursorLocation","isValidTextRange","whiteSpace","parse","minChars","char","charAt","getText","findStart","initRange","findTriggerCh","optOffset","newText","cloneRange","triggerChar","getContext","createRng","onKeypress","redirectKeyToItem","getItem","getView","isActive","cancelIfNecessary","isMenuOpen","stopImmediatePropagation","isProcessingAction","AutocompleterEditorEvents","global$4","point$2","isText$2","isElement$1","toLast","toLeaf","isStartOfWord","leaf","getTriggerContext","database","triggerChars","getDatabase","getRng","context","lookupWithContext","fetchOptions","startText","autocompleters","lookupByChar","autocompleter","lookupData","ac","fetchResult","fetch","maxResults","then","matchText","columns","separatorMenuItemSchema","createSeparatorMenuItem","autocompleterItemSchema","autocompleterSchema","createSeparatorItem","createAutocompleterItem","createAutocompleter","stringArray","register","popups","ui","registry","getAll","popup","datasetValues","dv","commonMenuItemFields","menuItemSchema","createMenuItem","nestedMenuItemSchema","createNestedMenuItem","toggleMenuItemSchema","createToggleMenuItem","choiceMenuItemSchema","createChoiceMenuItem","fancyTypes","fancyMenuItemSchema","createFancyMenuItem","detectSize","margin","selectorClass","descendants$1","columnLength","thisTop","cTop","ceil","namedEvents","unnamedEvents","SimpleBehaviours","TooltippingSchema","init$4","getTooltip","setTooltip","clearTooltip","clearTimer","resetTimer","delay","isShowing","TooltippingState","ExclusivityChannel","ShowTooltipEvent","HideTooltipEvent","hideAllExclusive","tState","setComponents","specs","tooltip","TooltippingApis","events$8","tooltipConfig","show","tooltipDom","tooltipComponents","receivingData","ActiveTooltipping","Tooltipping","getAttrs","fromHtml$2","global$5","navClass","selectableClass","colorClass","presetClasses","normal","color","tickedClass","groupHeadingClass","iconClass","textClass","accessoryClass","caretClass","checkmarkClass","activeClass","iconClassRtl","classForPreset","presets","global$6","convertText","mac","alt","ctrl","shift","access","other","shortcut","updated","segment","ConvertShortcut","renderIcon","iconHtml","renderText","renderHtml","renderStyledText","styleAttr","renderShortcut","renderCheckmark","renderSubmenuCaret","renderDownwardsCaret","renderColorStructure","itemText","iconSvg","providerBackstage","colorPickerCommand","removeColorCommand","getDom","common","title","optComponents","renderNormalItemStructure","renderIcons","textRender","rtlClass","leftIcon","checkMark","domTitle","ariaLabel","htmlContent","menuItem","shortcutContent","caret","rtlIcon","rtlTransform","renderItemStructure","providersBackstage","fallbackIcon","getIconName","iconName","needRtlClass","iconContent","nativeDisabled","onLoad$5","disableConfig","disableState","disabled","disable","hasNative","useNative","nativeIsDisabled","nativeDisable","nativeEnable","ariaIsDisabled","ariaDisable","ariaEnable","disableClass","onDisabled","enable","onEnabled","isDisabled","set$7","DisableApis","exhibit$3","events$9","ActiveDisable","DisableSchema","Disabling","button","splitButton","toolbarButton","DisablingConfigs","runWithApi","getApi","onControlAttached","editorOffCell","onDestroy","onSetup","onControlDetached","ItemResponse","ItemResponse$1","onMenuItemExecute","itemResponse","triggersSubmenu","CLOSE_ON_EXECUTE","menuItemEventOrder","componentRenderPipeline","renderCommonItem","structure","buildData","global$7","tooltipBehaviour","sharedBackstage","tooltipWorker","_tooltip","escapeRegExp","encodeText","DOM","encode","replaceText","translated","encoded","escapedMatchRegex","RegExp","renderAutocompleteItem","useText","onItemValueHandler","_api","renderChoiceItem","isSelected","setActive","setDisabled","parts$2","cellOverEvent","cellExecuteEvent","makeCell","col","labelId","emitCellOver","makeCells","cells","selectCells","selectedRow","selectedColumn","makeComponents","cellRow","makeLabelText","renderInsertTableMenuItem","sizeLabelId","memLabel","hexColour","hexString","shorthandRegex","longformRegex","isHexString","hex","getLongForm","m","extractValues","longForm","splitForm","exec","toHex","fromRgba","rgbaColour","red","green","blue","round","rgbRegex","rgbaRegex","alpha","isRgbaComponent","fromHsv","hsv","hue","saturation","brightness","side","chroma","fromHex","fromStringValues","fromString","rgbaString","rgbMatch","rgbaMatch","rgba","redColour","global$8","storageName","ColorCache","storageString","localstorage","prune","diff","cache","unshift","pop","setItem","idx","splice","choiceItem","defaultColors","colorCache","mapColors","colorMap","colors","canvas","ctx","byteAsHex","colorByte","alphaByte","bg","colorByteWithWhiteBg","toUpperCase","asHexColor","clearRect","fillStyle","fillRect","getImageData","getColorCols","defaultCols","getParam","hasCustomColors","getColorMap","getColors","unmapped","getCurrentColors","addColor","Settings","fireSkinLoaded","fire","fireResizeEditor","fireBeforeRenderUI","fireResizeContent","fireScrollContent","fireTextColorChange","Events","getCurrentColor","format","getParents","applyFormat","undoManager","transact","formatter","nodeChanged","removeFormat","registerCommands","addCommand","calcCols","sqrt","getColorCols$1","getAdditionalColors","hasCustom","applyColor","onChoice","dialog","colorPickerDialog","colorOpt","execCommand","getMenuColors","getFetch","callback","setIconColor","splitButtonApi","newColor","setIconFillAndStroke","pathId","setIconFill","setIconStroke","registerTextColorButton","lastColor","addSplitButton","select","optCurrentRgb","currentRgb","currentHex","onItemAction","registerTextColorMenuItem","addNestedMenuItem","getSubmenuItems","fancytype","getOnSubmit","colorpicker","details","initialData","submit","windowManager","buttons","onSubmit","onCancel","register$1","lastForeColor","lastBackColor","ColorSwatch","chunk$1","rowDom","chunks","forSwatch","forToolbar","preprocessCollection","isSeparator","allSplits","currentSplit","forCollection","initItems","_hasIcons","_item","forHorizontalCollection","forMenu","hasIcons","markers$1","menuClasses","dom$1","hasIcon","menuHasIcons","handleError","createHorizontalPartialMenuWithAlloyItems","_columns","_presets","createPartialMenuWithAlloyItems","createPartialChoiceMenu","presetItemTypes","alloyItems","createChoiceItems","itemPresets","deriveMenuMovement","menuMarkers","rowClass","deriveCollectionMovement","renderColorSwatchItem","colorinput","widgetSpec","fancyMenuItems","inserttable","colorswatch","valueOpt","renderFancyMenuItem","render","renderNormalItem","renderNestedItem","downwardsCaret","renderSeparatorItem","renderToggleMenuItem","autocomplete","nested","toggle$1","fancy","FocusMode","hasIcon$1","menuHasIcons$1","createMenuItemFromBridge","isHorizontalMenu","parseForHorizontalMenu","menuitem","createAutocompleteItems","createPartialMenu","itemHasIcon","createItem","createPartial","createTieredDataFrom","partialMenu","createMenuFrom","focusMode","ContentFocus","register$2","activeAutocompleter","processingAction","hideIfNecessary","lastElement","getAutocompleters","getCombinedItems","choices","itemMeta","nr","autocompleterApi","reload","BUBBLE_TO_SANDBOX","commenceIfNecessary","matchLength","display","ld","doLookup","newContext","lookupInfo","combinedItems","autocompleterUiApi","Autocompleter","mkEvent","kill","fromRawEvent","rawEvent","stopPropagation","clientX","clientY","handle","binder","useCapture","wrapped","addEventListener","unbind","bind$2","capture","removeEventListener","filter$1","bind$3","capture$1","fromRawEvent$1","closest$4","DelayedFunction","fun","ref","schedule","SIGNIFICANT_MOVE","LONGPRESS_DELAY","getTouch","touches","isFarEnough","touch","distX","distY","monitor","startData","longpressFired","longpress$1","handleTouchstart","handleTouchmove","handleTouchend","isSame","fireIfReady","isDangerous","keyEv","settingsSchema","bindFocus","bindBlur","setup$1","rawSettings","tapEvent","simpleEvents","tapStopped","stopped","pasteTimeout","onPaste","onKeydown","stopBackspace","onFocusIn","focusoutTimeout","onFocusOut","derive$2","rawTarget","getTarget","fromSource","isStopped","isCut","fromExternal","adt$b","resume","complete","doTriggerHandler","eventType","handlerInfo","eventHandler","doTriggerOnUntilStopped","triggerHandler","listeners","listener","triggerUntilStopped","triggerOnUntilStopped","broadcastHandler","EventRegistry","registerId","findHandler","reader","filterByType","isAboveRoot","readType","unregisterId","handlersById","Registry","readOrTag","failOnDuplicate","tagId","conflict","unregister","getById","factory$3","domWithoutAttributes","containerBehaviours","Container","takeover","domEvents","_alloyId","broadcast$1","destroy","broadcastData","receivers","receiver","global$9","getSkinUrl","skin","skinUrl","skin_url","skinName","documentBaseURI","baseURL","isReadOnly","isSkinDisabled","getHeightSetting","getElement","getMinWidthSetting","min_width","getMinHeightSetting","min_height","getMaxWidthSetting","getMaxHeightSetting","getUserStyleFormats","isMergeStyleFormats","getRemovedMenuItems","isMenubarEnabled","isToolbarEnabled","toolbar","isToolbarTrue","isToolbarString","isToolbarObjectArray","isMultipleToolbars","getMultipleToolbarsSetting","toolbarKeys","toolbars","toolbarArray","ToolbarDrawer","getToolbarDrawer","fixedContainerSelector","fixedContainerElement","inline","useFixedContainer","getUiContainer","fixedContainer","isDistractionFree","isStickyToolbar","isDraggableModal","formChangeEvent","formCloseEvent","formCancelEvent","formActionEvent","formSubmitEvent","formBlockEvent","formUnblockEvent","formTabChangeEvent","formResizeEvent","renderAlertBanner","iconTooltip","url","renderBar","interpreter","schema$e","parts$3","excludeFactory","factory$4","fieldBehaviours","descriptor","descriptorId","getField","getLabel","FormField","schema$f","focusBehaviours","selectOnFocus","setSelectionRange","inputBehaviours","dom$2","inputAttributes","inputStyles","inputClasses","factory$5","Input","exports$1","module","exports","define","require","amd","global","EphoxContactWrapper","code","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","runClearTimeout","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","nextTick","Item","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","setImmediate","setTimeoutFunc","thisArg","Promise","TypeError","_state","_handled","_value","_deferreds","doResolve","deferred","_immediateFn","cb","onFulfilled","onRejected","reject","promise","finale","_unhandledRejectionFn","Handler","reason","ex","prom","remaining","race","_setImmediateFn","_setUnhandledRejectionFn","clearImmediate","immediateIds","nextImmediateId","Timeout","setInterval","clearInterval","clearFn","_id","_clearFn","unref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","onTimeout","_onTimeout","onNextTick","promisePolyfill","boltExport","nu$a","baseFn","callbacks","nCallback","isReady","cbs","pure$1","LazyValue","errorReporter","make$3","fab","aFutureB","toPromise","anonBind","futureB","toLazy","toCached","nu$b","pure$2","Future","ariaElements","isAriaElement","markValid","invalidConfig","invalidClass","notify","notifyInfo","getContainer","validHtml","onValid","markInvalid","invalidState","onInvalid","validatorInfo","validate","run$1","onValidate","valid","isInvalid","InvalidateApis","events$a","onEvent","validateOnLoad","ActiveInvalidate","InvalidateSchema","Invalidating","validation","exhibit$4","tabConfig","tabAttr","ActiveTabstopping","TabstopSchema","Tabstopping","renderFormFieldWith","pLabel","pField","extraClasses","extraBehaviours","renderFormFieldSpecWith","renderFormField","renderFormFieldDomWith","renderFormFieldDom","renderLabel","getCoupled","coupleConfig","coupleState","getOrCreate","CouplingApis","CouplingSchema","init$5","coupled","CouplingState","Coupling","partType","HighlightOnOpen","getAnchor","getHotspot","getAnchorOverrides","mapFetch","fetcher","openF","highlightOnOpen","futureData","getLazySink","tdata","HighlightFirst","open$1","onOpenSync","processed","close$1","_externals","_onOpenSync","_highlightOnOpen","togglePopup","showing","matchWidth","useMinWidth","buttonWidth","sinkDetail","internalSink","lazySinkFn","doRepositionMenus","makeSandbox","ariaOwner","sandboxClasses","sandboxBehaviours","sandboxFields","schema$g","parts$4","factory$6","_spec","switchToMenu","HighlightNone","triggerExecute","dropdownBehaviours","Dropdown","exhibit$5","unselectConfig","unselectable","events$b","ActiveUnselecting","Unselecting","renderPanelButton","colorInputChangeEvent","colorSwatchChangeEvent","colorPickerCancelEvent","renderColorInput","colorInputBackstage","inputValue","span","emitSwatchChange","colorBit","memColorButton","colorPicker","colorButton","hsvColour","fromRgb","minRGB","maxRGB","calcHex","rgb","fieldsUpdate","sliderUpdate","paletteUpdate","platform$1","labelPart","edgePart","model","edgeActions","touchEvents","mouseEvents","l","det","mouseIsDown","tlEdgePart","tedgePart","trEdgePart","redgePart","brEdgePart","bedgePart","blEdgePart","ledgePart","thumbPart","spectrumPart","modelDetail","getValueFromEvent","spectrum","SliderParts","isTouch$1","_sliderChangeEvent","sliderChangeEvent","getEventSource","evt","touchEvent","mouseEvent","r$1","minX","minY","min1X","min1Y","maxY","max1X","max1Y","range$2","xRange","yRange","halfX","halfY","step","stepSize","snap","snapToGrid","snapStart","rounded","hasEdge","edgeName","hasLEdge","hasREdge","hasTEdge","hasBEdge","currentValue","xValue","yValue","xyValue","fireSliderChange","setToTLEdgeXY","setToTEdge","setToTEdgeXY","setToTREdgeXY","setToREdge","setToREdgeXY","setToBREdgeXY","setToBEdge","setToBEdgeXY","setToBLEdgeXY","setToLEdge","setToLEdgeXY","reduceBy","increaseBy","capValue","snapValueOf","initValue","extraValue","remainder","adjustment","rawSteps","maxSteps","numSteps","findOffsetOf","findValueOf","hasMinEdge","hasMaxEdge","minBound","maxBound","screenRange","capMin","capMax","findOffsetOfValue","maxOffset","centerMinEdge","centerMaxEdge","getBounds$1","getBoundsProperty","getMinXBounds","getMaxXBounds","getMinYBounds","getMaxYBounds","getXScreenRange","getYScreenRange","getCenterOffsetOf","componentMinEdge","componentMaxEdge","spectrumMinEdge","getXCenterOffSetOf","componentBounds","spectrumBounds","getYCenterOffSetOf","fireSliderChange$1","sliderValue","findValueOfOffset","sliderVal","setToMin","setToMax","moveBy","handleMovement","findOffsetOfValue$1","minEdge","maxEdge","minOffset","findPositionOfValue","slider","setPositionFromValue","thumb","edges","getSpectrum","getLeftEdge","getRightEdge","thumbRadius","HorizontalModel","fireSliderChange$2","sliderValue$1","findValueOfOffset$1","setValueFrom$1","setToMin$1","setToMax$1","moveBy$1","handleMovement$1","getValueFromEvent$1","findOffsetOfValue$2","findPositionOfValue$1","setPositionFromValue$1","getTopEdge","getBottomEdge","onLeft$1","onRight$1","onUp$1","onDown$1","edgeActions$1","VerticalModel","fireSliderChange$3","sliderValue$2","setValueFrom$2","moveBy$2","isVerticalMovement","handleMovement$2","setToMin$2","mX","mY","setToMax$2","getValueFromEvent$2","setPositionFromValue$2","xPos","yPos","thumbXRadius","thumbYRadius","onLeft$2","onRight$2","onUp$2","onDown$2","edgeActions$2","TwoDModel","isTouch$2","SliderSchema","isTouch$3","getThumb","changeValue","onChange","resetToMin","resetToMax","_simulatedEvent","onDragStart","onDragEnd","uiEventsArr","sliderBehaviours","fireOnChoose","onChoose","wasDown","getInitialValue","onInit","Slider","sliderFactory","getClass","_thumb","HueSlider","owner$3","schema$h","getPartName","sketch$1","fSpec","fieldParts","make$4","toResult$1","formBehaviours","form","resPs","resPThunk","pName","Form","validInput","invalidInput","validatingInput","translatePrefix","rgbFormFactory","onValidHexx","onInvalidHexx","invalidation","isValid","renderTextField","description","helptext","comps","concats","copyRgbToHex","hexField","copyRgbToForm","memPreview","updatePreview","preview","copyHexToRgb","setValueRgb","getValueRgb","onInvalidInput","onValidHex","onValidRgb","isHexInputEvent","onValidInput","formPartStrings","redStrings","greenStrings","blueStrings","hexStrings","updateHex","rgbFormSketcher","RgbForm","paletteFactory","_translate","setColour","grdWhite","createLinearGradient","addColorStop","grdBlack","setSliderColour","_detail","_slider","saturationBrightnessPaletteSketcher","setRgba","_apis","SaturationBrightnessPalette","makeFactory","rgbForm","onInvalidHex","sbPalette","paletteRgba","memPalette","memRgb","updatePalette","palette","updateFields","runUpdates","updates","paletteUpdates","oldRgb","hsvColour$1","newHsvColour","nuHex","sliderUpdates","colourPickerSketcher","ColourPicker","self$1","memento","mem","childAt","ComposingConfigs","english","getEnglishText","translate$1","renderColorPicker","colourPickerFactory","memPicker","picker","optRgbForm","optHex","formValues","pattern","global$a","isOldCustomEditor","renderCustomEditor","editorApi","memReplaced","ta","scriptId","scriptUrl","ea","cvalue","ed","processors","memento$1","rawProcessors","rawValue","postprocess","withComp","optInitialValue","getter","setter","withElement","domValue","domHtml","memory$1","RepresentingConfigs","extensionsAccepted","filterByExtension","files","re","file","renderDropZone","actions","onDrop","transferEvent","handleFiles","dataTransfer","onSelect","memInput","accept","renderField","inputComp","renderGrid","beforeObject","afterObject","craftWithClasses","outline","craft","triggerTab","onFocus$1","isPseudoStop","NavigableObject","platformNeedsSandboxing","getDynamicSource","isSandbox","cachedValue","frameComponent","contentWindow","renderIFrame","sandboxed","sourcing","create$5","resize","clone$1","tCanvas","get2dContext","drawImage","getWidth","image","naturalWidth","getHeight","naturalHeight","asap","immediateFn","catch","values_1","Promise$1","blobToImage","blobUrl","URL","createObjectURL","Image","removeListeners","loaded","src","dataUriToBlobSync","uri","mimetype","base64","sliceSize","byteCharacters","atob","bytesLength","slicesCount","byteArrays","sliceIndex","begin","end","bytes","charCodeAt","Uint8Array","Blob","dataUriToBlob","canvasToBlob","quality","HTMLCanvasElement","toBlob","toDataURL","canvasToDataURL","blobToCanvas","revokeImageUrl","blobToDataUri","FileReader","onloadend","readAsDataURL","revokeObjectURL","create$6","getCanvas","initialType","getType","toBase64","toAdjustedBlob","toAdjustedDataURL","toAdjustedBase64","dataurl","toCanvas","fromBlob","fromCanvas","blobToImageResult","clamp","parsedValue","identity$1","DELTA_INDEX","multiply","matrix1","matrix2","out","adjustContrast","adjustBrightness","adjustColors","adjustR","adjustG","adjustB","colorFilter","ir","applyColorFilter","applyMatrix","pixelsData","m0","m1","m2","m3","m4","m5","m6","m7","m8","m9","m10","m11","m12","m13","m14","m15","m16","m17","m18","m19","pixels","putImageData","convoluteFilter","applyConvoluteFilter","pIn","pOut","aMatrix","halfSide","drgba","cy","cx","scx","scy","innerOffset","wt","pixelsIn","pixelsOut","functionColorFilter","colorFn","filterImpl","applyLookup","complexAdjustableColorFilter","matrixAdjustFn","adjust","basicColorFilter","basicConvolutionFilter","kernel","invert","contrast","colorize","sharpen","gamma","pow","scale","dW","dH","sW","sH","wRatio","hRatio","scaleCapped","scaled","_scale","rotate","angle","applyRotate","translateX","translateY","PI","flip","axis","applyFlip","crop","applyCrop","resize$1","newCanvas","invert$1","sharpen$1","gamma$1","colorize$1","brightness$1","contrast$1","flip$1","crop$1","resize$2","rotate$1","renderIcon$1","renderIconFromPack","iconsProvider","renderReplacableIconFromPack","renderLabel$1","internalToolbarButtonExecute","onToolbarButtonExecute","itemApi","buttonApi","toolbarButtonEventOrder","updateMenuText","updateMenuIcon","renderCommonDropdown","optMemDisplayText","optMemDisplayIcon","onLeftOrRightInMenu","dropdown","tooltipAttributes","translatedTooltip","memDropdown","displayText","displayIcon","isMenuItemReference","isExpandingMenuItem","separator$1","unwrapReferences","realItems","getFromExpandingItem","submenuItems","newMenus","newExpansions","getFromItem","generateValueIfRequired","itemWithValue","newData","build$2","mainMenu","submenus","getMenuButtonApi","renderMenuButton","getFetch$1","getButton","getMenuItemAction","orig","storage","getMenuItemSetup","renderCommonSpec","actionOpt","domFinal","renderIconButtonSpec","renderIconButton","iconButtonSpec","renderButtonSpec","translatedText","borderless","renderButton","buttonSpec","getAction","buttonType","isMenuFooterButtonSpec","isNormalFooterButtonSpec","renderFooterButton","memButton_1","menuButtonSpec","fixedSpec","renderDialogButton","schema$i","coupledPart","selfName","otherName","lock","onLockedChange","parts$5","locked","lockClass","factory$7","coupledFieldBehaviours","field1Name","field1","field2Name","field2","getField1","getField2","getLock","FormCoupledInputs","formatSize","unitDec","maxDecimal","numText","parseSize","sizeText","numPattern","convertUnit","inInch","supported","noSizeConversion","ratioSizeConversion","makeRatioConverter","currentFieldText","otherFieldText","cValue","oValue","cSize","oSize","renderSizeInput","converter","ratioEvent","pLock","formGroup","getFieldPart","isField1","widthField","heightField","newSize","optCurrent","optOther","value1","value2","undo","redo","zoom","back","swap","tempTransform","transformApply","internal","saveState","disable$1","enable$1","external$2","renderEditPanel","imagePanel","createButton","createIconButton","disableAllComponents","eventcomp","enableAllComponents","panelDom","noop$1","emit$1","emitDisable","emitEnable","emitTransform","emitTempTransform","getBackSwap","memContainer","ButtonPanel","emitTransformApply","createBackButton","createSpacer","createApplyButton","makeCropTransform","getRect","cropPanelComponents","hideCrop","CropPanel","memSize","constrain","makeResizeTransform","resizePanelComponents","sizeInput","ResizePanel","makeValueTransform","horizontalFlip","verticalFlip","counterclockwiseRotate","clockwiseRotate","flipRotateOnAction","operation","flipRotateComponents","FlipRotatePanel","makeSlider","makeVariableSlider","valTransform","variableFilterPanelComponents","createVariableFilterPanel","filterPanelComponents","FilterPanel","BrightnessPanel","ContrastPanel","GammaPanel","makeColorTransform","makeColorSlider","redOpt","memRed","blueOpt","memBlue","greenOpt","memGreen","colorizePanelComponents","ColorizePanel","getTransformPanelEvent","panel","cropPanelUpdate","_anyInSystem","showCrop","resizePanelUpdate","measurements","getMeasurements","sharpenTransform","invertTransform","buttonPanelComponents","getApplyButton","global$b","global$c","global$d","global$e","global$f","getDocumentSize","scrollWidth","scrollHeight","updateWithTouchData","changedTouches","DragHelper","$eventOverlay","downButton","drag","startX","startY","handleElement","getElementById","docSize","handleElm","cursor","screenX","screenY","runtimeStyle","zIndex","opacity","appendTo","deltaX","deltaY","create$7","currentRect","viewPortRect","clampRect","containerElm","instance","dragHelpers","blockers","handles","xMul","yMul","getAbsoluteRect","outerRect","relativeRect","getRelativeRect","innerRect","getInnerRect","moveRect","startRect","setInnerRect","createDragHelper","blocker","repaint","activeHandle","moveAndBlock","keyCode","SPACEBAR","toggleVisibility","updateElementRect","setRect","setViewPortRect","setClampRect","helper","extend","CropRect","loadImage","renderImagePanel","initialUrl","memBg","zoomState","cropRect","rectState","viewRectState","repaintImg","img","panelW","panelH","cRect","zoomFit","updateSrc","aImg","lastViewRect","viewRect","inflate","currentZoom","newZoom","newRect","setButtonEnabled","enabled","renderSideBar","updateButtonUndoStates","undoEnabled","redoEnabled","memUndo","memRedo","UndoStack","removed","canUndo","canRedo","makeState","blobState","tempState","undoStack","getBlobState","setBlobState","getTempState","temp","updateTempState","newTempState","createState","destroyTempState","destroyState","destroyStates","states","addBlobState","addTempState","applyTempState","postApply","currentState","getHistoryStates","renderImageTools","historyStates","sideBar","disableUndoRedo","oImg","unblock","imageResultToBlob","block","editPanel","applyButton","blobManipulate","manipulate","tempManipulate","manipulateApply","currentUrl","factory$8","initialValues","selectClasses","selectAttributes","selectBehaviours","found","HtmlSelect","renderSelectBox","translatedOptions","chevron","selectWrap","baseInputBehaviours","multiline","validatingBehaviours","vl","inputMode","inputmode","classname","flex","extraClasses2","maximized","renderInput","renderTextarea","events$c","streamConfig","streamState","streams","stream","processor","cancelEvent","ActiveStreaming","_config","setTimer","init$6","StreamingState","setup$2","streamInfo","sInfo","throttler","onStream","stopEvent","StreamingSchema","Streaming","setValueFromItem","itemData","setCursorAtEnd","setSelectionOn","setSelectionToEnd","attemptSelectOver","selectsOver","inputDisplay_1","getDisplayText","itemDisplay","itemExecute","make$5","navigateList","highlighter","previewing","focusBehaviours$1","responseTime","focusInInput","previousValue_1","_sandbox","pv","sandboxIsOpen","openClass","onItemExecute","dismissOnBlur","typeahead","typeaheadBehaviours","schema$j","parts$6","populateFromBrowse","Typeahead","wrap$2","bindFuture","resA","bindResult","mapResult","foldResult","whenError","whenValue","withTimeout","errorThunk","timedOut","nu$c","worker","value$2","error$1","fromResult$1","fromFuture","future","fromPromise","completer","FutureResult","separator$2","toMenuItem","staticMenuItem","toMenuItems","targets","filterLinkTargets","filteredTargets","headerTargets","linkInfo","anchorTargets","anchorTargetTop","anchorTop","anchorTargetBottom","anchorBottom","historyTargets","history","joinMenuLists","bothEmpty","filterByQuery","term","lowerCaseTerm","getItems","fileType","urlBackstage","urlInputValue","getLinkInformation","getHistory","errorId","renderUrlInput","updateHistory","urlEntry","addToHistory","filetype","memUrlBox","getValidationHandler","memInvalidIcon","invalidComp","_menu","_entry","makeIcon","errId","memStatus","optUrlPicker","getUrlPicker","browseUrlEvent","memUrlPickerButton","controlHWrapper","openUrlPicker","urlData","chosenData","renderCheckbox","repBehaviour","toggleCheckboxHandler","className","memIcons","renderHtmlPanel","renderLabel$2","backstageShared","renderCollection","runOnItem","escapeAttribute","htmlLines","mapItemName","collectionEvents","tgt","currentActive","renderTable","renderTh","renderHeader","header","renderTd","renderTr","renderRows","renderPanel","make$6","makeIframe","iframeSpec","factories","bar","collection","alertbanner","textarea","iframe","checkbox","dropzone","selectbox","sizeinput","urlinput","customeditor","htmlpanel","imagetools","table","noFormParts","_name","interpretInForm","oldBackstage","newBackstage","interpretParts","interpretWithoutForm","expandable$1","bubbleAlignments","valignCentre","alignCentre","alignLeft","alignRight","getToolbarAnchor","bodyElement","lazyAnchorbar","useFixedToolbarContainer","fixedToolbarAnchor","standardAnchor","getBannerAnchor","getToolbarOverflowAnchor","lazyMoreButton","getCursorAnchor","getNodeAnchor","getAnchors","toolbarOverflow","Anchors","hasCustomColors$1","getColors$1","getColorCols$2","ColorInputBackstage","isDraggableModal$1","DialogBackstage","defaultStyleFormats","isNestedFormat","isBlockFormat","isInlineFormat","isSelectorFormat","mapFormats","userFormats","fmt","customFormats","formats","formatName","registerCustomFormats","registerFormats","getStyleFormats","registeredUserFormats","processBasic","isSelectedFor","getPreviewFor","formatterSpec","getStylePreview","register$3","enrichSupported","enrichMenu","submenuSpec","enrichCustom","customSpec","newItem","doEnrich","newItems_1","getStyleItems","init$7","getCssText","settingsFormats","settingsFlattenedFormats","eventsFormats","eventsFlattenedFormats","replaceSettings","enriched","modifications","fromSettings","fromEvents","getFlattenedKeys","trim$1","hasContentEditableState","contentEditable","isContentEditableTrue","isContentEditableFalse","create$8","isChildOfContentEditableTrue","getElementText","innerText","getOrGenerateId","isAnchor","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","elms","getAnchorTargets","getTargetElements","hasTitle","find$5","LinkTargets","STORAGE_KEY","HISTORY_LENGTH","isHttpUrl","isArrayOfUrl","isRecordOfUrlArray","getAllHistory","unparsedHistory","localStorage","SyntaxError","setAllHistory","itemsWithoutUrl","hasOwnProperty$2","isTruthy","makeMap","getTextSetting","defaultValue","getPicker","file_picker_callback","getPickerTypes","optFileTypes","file_picker_types","optLegacyTypes","file_browser_callback_types","optTypes","_picker","types","getPickerSetting","pickerTypes","entry","typeahead_urls","optValidator","file_picker_validator_handler","filepicker_validator_handler","UrlInputBackstage","init$8","contextMenuState","styleselect","isContextMenuOpen","setContextMenuState","showContextToolbarEvent","hideContextToolbarEvent","schema$k","enhanceGroups","parts$7","factory$9","setGroups","groups","getGroupContainer","shell","toolbarBehaviours","Toolbar","generate$6","output$1","apportion","total","parray","within","withinWidth","toUnit","fitLast","fits","overflow","overflower","fitAll","tryFit","divide","partition$3","setStoredGroups","storedGroups","bGroups","findFocusedComp","overflowButton","overf","focusedElm","overflowGroup","focusedComp","builtGroups","overflows","schema$l","parts$8","factory$a","tgroupBehaviours","itemSelector","ToolbarGroup","schema$m","toolbarToggleEvent","doSetGroups","getMoreButton","splitToolbarBehaviours","coupling","_button","schema$n","parts$9","overflowToggledClass","toggleToolbar","isOpen$1","over","position$2","getOverflowBounds","bounder","refresh$1","reposition$1","makeSandbox$1","factory$b","spec$1","getOverflow","SplitFloatingToolbar","getAnimationRoot","slideConfig","getDimensionProperty","dimension","getDimension","disableTransitions","shrinkingClass","growingClass","setShrunk","closedClass","setGrown","doImmediateShrink","slideState","_calculatedSize","setCollapsed","onStartShrink","onShrunk","doStartShrink","calculatedSize","doStartSmartShrink","shrinker","doStartGrow","wasShrinking","beforeSize","fullSize","startPartialGrow","startCompleteGrow","setStartSize","setExpanded","onStartGrow","refresh$2","isExpanded","grow","shrink","immediateShrink","hasGrown","hasShrunk","isCollapsed","isGrowing","isShrinking","isTransitioning","toggleGrow","SlidingApis","exhibit$6","events$d","propertyName","onGrown","ActiveSliding","SlidingSchema","init$9","SlidingState","Sliding","schema$o","parts$a","onClosed","onOpened","toggleToolbar$1","refresh$3","isOpen$2","factory$c","SplitSlidingToolbar","ReadOnlyChannel","ReadOnlyDataSchema","setDisabledAll","forEach","broadcastReadonly","uiComponents","readonly","outerContainer","mothership","toggleToReadOnly","setupReadonlyModeSwitch","setMode","createReadonlyReceivingForOverflow","toolbarHeightChange","renderToolbarGroupCommon","toolbarGroup","renderToolbarGroup","getToolbarbehaviours","toolbarSpec","modeName","onAttached","initGroups","renderMoreToolbarCommon","cyclicKeying","renderFloatingMoreToolbar","baseSpec","overflowXOffset","headerElem","moreDrawerData","lazyHeader","headerBounds","docElem","docBounds","renderSlidingMoreToolbar","renderToolbar","baseToolbarButtonFields","toolbarButtonSchema","createToolbarButton","baseMenuButtonFields","MenuButtonSchema","createMenuButton","splitButtonSchema","createSplitButton","baseToolbarToggleButtonFields","toggleButtonSchema","createToggleButton","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","contextFormSchema","contextToolbarSchema","createContextToolbar","createContextForm","getState$2","reflectState","ReflectingApis","events$e","reflectingConfig","reflectingState","updateState","renderComponents","newComponents","channel","rawData","ActiveReflecting","init$a","optS","ReflectingState","ReflectingSchema","Reflecting","schema$p","arrowPart","arrow","buttonPart","btn","splitDropdown","parts$b","factory$d","openMenu","executeOnButton","buttonEvents","ariaDescriptor","splitDropdownBehaviours","SplitDropdown","getButtonApi","getToggleApi","getTooltipAttributes","focusButtonEvent","rtlIcon$1","rtlTransform$1","renderCommonStructure","needsRtlClass","renderCommonToolbarButton","specialisation","toolbarButtonBehaviours","renderToolbarButton","renderToolbarButtonWith","bonusEvents","renderToolbarToggleButton","renderToolbarToggleButtonWith","fetchChoices","renderSplitButton","displayChannel","underlinePath","buttonComp","getFormApi","runOnExecute$1","formApi","renderContextButton","bridged","renderContextToggleButton","generateOne$1","generate$7","mementos","asSpecs","findPrimary","compInSystem","renderContextForm","commands","ContextForm","getHorizontalBounds","contentAreaBox","viewportBounds","contentBoxWidth","maxViewportWidth","getIframeBounds","containerBox","headerBox","contentBoxHeight","maxViewportHeight","getInlineBounds","vpHeight","vpTop","getDistractionFreeBounds","_editor","getBounds$2","toolbarOrMenubarEnabled","getContentAreaContainer","ancestor$2","transformed","matchTargetWith","toolbarApi","lookup$1","scopes","startNode","inNodeScope","inEditorScope","ToolbarLookup","categorise","contextToolbars","forms","formNavigators","lookupTable","registerForm","contextForm","launch","registerToolbar","contextToolbar","ToolbarScopes","forwardSlideEvent","backSlideEvent","changeSlideEvent","resizingClass","renderContextToolbar","currentWidth","newContents","oldContents","forwardContents","onSetupFormatToggle","unbindCell","formatChanged","initialized","onActionToggleFormat","rawItem","generateSelectItems","generateItem","response","si","invalid","validateItems","preItems","getCurrentValue","shouldHide","createMenuItems","createSelectButton","getComponent","setInitialValue","nodeChangeHandler","rawFormats","buildBasicStaticDataset","Delimiter","delimiter","SemiColon","buildBasicSettingsDataset","settingName","alignMenuItems","getSpec","getMatchingValue","_format","updateSelectMenuIcon","alignment","canApply","createAlignSelect","alignSelectMenu","defaultFontsFormats","systemStackFonts","splitFonts","fontFamily","fonts","font","isSystemFontStack","matchesSystemStack","getSpec$1","getFirstFont","queryCommandValue","matchOpt","updateSelectMenuText","createFontSelect","fontSelectMenu","defaultFontsizeFormats","legacyFontSizes","round$1","precision","factor","toPt","fontSize","toLegacy","getSpec$2","px","_loop_1","pt","legacy","Space","createFontsizeSelect","fontsizeSelectMenu","findNearest","getStyles","parents","matchNode","getCurrentSelectionParents","currentNode","defaultBlocks","getSpec$3","nodeChangeEvent","detectedFormat","createFormatSelect","formatSelectMenu","getSpec$4","getFormatItems","flattenedItems","createStyleSelect","styleSelectMenu","defaultToolbar","renderFromBridge","bridgeBuilder","togglebutton","menubutton","splitbutton","styleSelectButton","fontsizeSelectButton","fontSelectButton","formatButton","alignMenuButton","extractFrom","bespokeButtons","fontsizeselect","fontselect","formatselect","align","removeUnusedDefaults","filteredItemGroups","subItem","convertStringToolbar","strToolbar","groupsStrings","isToolbarGroupSettingArray","createToolbar","toolbarConfig","lookupButton","toolbarItem","prefixes","identifyButtons","toolbarGroups","bubbleSize","bubbleAlignments$1","anchorOverrides","desktopAnchorSpecLayouts","mobileAnchorSpecLayouts","getAnchorLayout","register$4","registryContextToolbars","contextbar","isCompletelyBehindHeader","nodeBounds","headerEle","isHeaderDocked","bodyBounds","nodeBottom","shouldContextToolbarHide","ele","viewportHeight","innerHeight","aboveViewport","belowViewport","forceHide","hideOrRepositionIfNecessary","lastAnchor","contextBarEle","wrapInPopDialog","shortcuts","getScopes","alloySpec","buildToolbar","allButtons","toolbarKey","launchContext","sElem","launchContextToolbar","setEditorTimeout","ContextToolbar","setup$3","ship","onTouchstart","onTouchmove","onTouchend","onMouseup","onContentMousedown","onContentMouseup","onWindowScroll","sugarEvent","onWindowResize","onEditorResize","Events$1","schema$q","customListDetail","itemsPart","parts$c","name$2","factory$e","setItems","getListContainer","itemComps","numListsRequired","numListsToAdd","itemsToAdd","makeItem","itemsToRemove","builtLists","setupItem","listBehaviours","CustomList","parts$d","partType$1","getOrigin","isFixed","offsetParent$1","adt$c","subtract","add$4","transform$1","changes","asFixed","coord","asAbsolute","asOffset","withinRange","coord1","coord2","getDeltas","toStyles","translate$2","absorb","partialCoord","originalCoord","absorbOne","stencil","optX","optY","absolute$3","fixed$1","morphAdt","static","appear","contextualInfo","transitionClass","fadeOutClass","fadeInClass","disappear","isPartiallyVisible","isTopCompletelyVisible","isBottomCompletelyVisible","isVisibleForModes","getAttr","getPrior","dockInfo","leftAttr","topAttr","setPrior","absLeft","absTop","positionAttr","clearPrior","revertToOriginal","morphToOriginal","morphToFixed","asFixed$1","viewportPt","fixedViewport","fixedY","getMorph","isDocked","getMorphToOriginal","morphToStatic","onUndocked","morphToCoord","morph","method","onDocked","updateVisibility","morphToDocked","contextual","contextInfo","lazyContext","setVisible","refreshInternal","lazyViewport","setDocked","resetInternal","refresh$4","reset","DockingApis","events$f","dockState","onShown","onHidden","ActiveDocking","DockingSchema","init$b","docked","DockingState","Docking","visibility","editorStickyOnClass","editorStickyOffClass","updateContentFlow","parentElem","parentWidth","headerHeight","updateSinkVisibility","sinkElem","updateEditorClasses","editorContainer","restoreFocus","focusedElem","activeElm","findFocusedElem","rootElm","setup$4","isDocked$1","getBehaviours$2","runOnSinkElement","onDockingSwitch","boxHeight","StickyHeader","setup$5","isDocked$2","getBehaviours$3","StaticHeader","sticky","factory$f","setMenus","activeButton","hoveredButton","activeComp","hoveredComp","SilverMenubar","owner$4","schema$r","getPartName$1","sketch$2","sSpec","slot","make$7","getSlotNames","getSlot","onSlot","def","onSlots","doShowing","doShow","doHide","hideSlot","hideSlots","hideAllSlots","showSlot","slotBehaviours","slotApis","SlotContainer","sidebarSchema","createSidebar","setup$6","sidebars","addToggleButton","handleToggle","makePanels","panelConfigs","sidepanel","optSidePanelSpec","sidePanelSpec","makeSidebar","slotContainer","setSidebar","sidebar","optSlider","toggleSidebar","optSlotContainer","whichSidebar","sidebarOpen","fixSize","autoSize","renderSidebar","renderSpinner","toggleThrobber","renderThrobber","setup$7","lazyThrobber","throbberState","timerId","factory$g","getSocket","getHeader","getToolbar","setToolbar","setToolbars","mToolbar","refreshToolbar","getThrobber","focusToolbar","optToolbar","setMenubar","menubar","focusMenubar","partMenubar","toolbarFactory","sliding","floating","partMultipleToolbar","tc","partToolbar","renderer","lazyToolbar","partHeader","partSocket","partSidebar","partThrobber","OuterContainer","grps","grp","renderedToolbars","defaultMenubar","defaultMenus","edit","tools","help","make$8","removedMenuItems","itemName","removedMenuItem","parseItemsString","identifyMenus","rawMenuData","userDefinedMenus","validMenus","menuData","isNotSeparator","fireSkinLoaded$1","_skinLoaded","SkinLoaded","loadSkin","isInline","skinUiCss","contentCSS","styleSheetLoader","rawUiConfig","toolbarButtonsConfig","detection","isiOS12","setupEvents","initialDocEle","lastWindowDimensions","innerWidth","lastDocumentDimensions","docEle","outer","inner","elementLoad","lastToolbarWidth","targetNode","socket","limit","addQueryValueHandler","drawer","refreshDrawer","iframeContainer","Iframe","render$1","floatContainer","isSticky","targetElm","splitSetting","updateChromePosition","tbar","location","updateChromeUi","resetDocking","addClass","removeClass","uiContainer","hidden","Inline","register$5","alignToolbarButtons","cmd","alignNoneToolbarButton","addButton","AlignmentButtons","toggleFormat","registerFormatButtons","registerCommandButtons","registerCommandToggleButtons","registerButtons","registerMenuItems","addMenuItem","register$6","SimpleControls","toggleUndoRedoState","checkState","onUndoStateChange","registerMenuItems$1","registerButtons$1","register$7","UndoRedo","toggleVisualAidState","hasVisual","onVisualAid","registerMenuItems$2","addToggleMenuItem","registerToolbarButton","register$8","VisualAid","toggleOutdentState","queryCommandState","onNodeChange","registerButtons$2","register$9","IndentOutdent","register$a","ComplexControls","setup$8","FormatControls","nu$d","transpose$1","dx","dy","isTouchEvent","fromPageXY","pageX","pageY","fromClientXY","transposeContentAreaContainer","containerPos","getPos","getPointAnchor","getSelectionAnchor","getNodeAnchor$1","getAnchorSpec","isTriggeredByKeyboardEvent","initAndShow","buildMenu","contextmenu","anchorSpec","bubbleSize$1","bubbleAlignments$2","isTouchWithinSelection","touch_1","rngRectOpt","rngRect","getAnchorSpec$1","setupiOSOverrides","originalSelection","selectionReset","setRng","unbindEventListeners","preventMousedown","clearSelectionReset","initAndShow$1","openiOS_1","patchPipeConfig","shouldNeverUseNative","contextmenu_never_use_native","getMenuItems","defaultItems","contextMenus","isContextMenuDisabled","getContextMenu","Settings$1","isSeparator$1","separator$3","makeContextItem","addContextMenuGroup","groupItems","lastMenuItem","generateContextMenu","selectedElement","sections","allItems","isNativeOverrideKeyEvent","setup$9","hideContextMenu","_e","showContextMenu","isLongpress","initAndShow$2","hideEvents","parseToInt","numToPx","Utils","initialAttribute","resetZIndex","initZIndex","changeZIndex","zindex","instigate","anyComponent","discard","get$d","snapsInfo","set$8","getCoords","snapInfo","moveOrSnap","newCoord","mustSnap","findClosestSnap","findSnap","fixedCoord","spanned","stopDrag","findMatchingSnap","snaps","sensor","inRange","getSnapPoints","matchSnap","bestSnap","deltas","bestDeltas","currAvg","bestAvg","snapTo","getCurrentCoord","calcStartData","dragConfig","clampCoords","coords","absoluteCoord","newCoords","offset$1","calcNewCoord","optSnaps","currentCoord","snapping","onSensor","dragBy","repositionTarget","onDrag","SnapSchema","init$c","dragApi","forceDrop","drop","delayDrop","getData$1","getDelta$1","MouseData","dragState","updateStartState","setStartData","dragStartData","getStartData","dlt","blockerClass","schema$s","getDataFrom","getData$2","getDelta$2","TouchData","handlers$1","dragStartData_1","schema$t","mouse","DraggingBranches","init$d","previous","calculateDelta","dragEvent","nuData","DragState","snapTo$1","snapPin","DraggingApis","Dragging","dragger","ResizeTypes","calcCappedSize","originalSize","minSize","maxSize","minOverride","maxOverride","getDimensions","resizeType","originalHeight","originalWidth","Both","resize$3","dim","isHidden$1","renderElementPath","getDataPath","newPathElements","divider","newAcc","updatePath","newPath","isDefaultPrevented","isPropagationStopped","ElementPath","renderWordCount","replaceCountText","words","characters","currentVal","newMode","wordCount","renderStatusbar","renderResizeHandlerIcon","renderBranding","linkHtml","getResizeType","plugins","None","Vertical","getTextComponents","getComponents","platform$2","snapWidth","snapOffset","setup$a","tlTds","brTds","getTopLeftSnap","td","memTopLeft","selectorHandle","sensorLeft","sensorTop","sensorWidth","sensorHeight","getTopLeftSnaps","getBottomRightSnap","memBottomRight","getBottomRightSnaps","topLeftSnaps","startCell","finishCell","bottomRightSnaps","bottomRight","showOrHideHandle","isAbove","isBelow","cellRect","snapLastTopLeft","snapTopLeft","snapLastBottomRight","snapBottomRight","firstSnap","otherCells","upOrLeftCells","downOrRightCells","TableSelectorHandles","SIGNIFICANT_MOVE$1","LONGPRESS_DELAY$1","getTouch$1","isFarEnough$1","setupLongpress","debounceLongpress","isEqualNode","TouchEvents","setup$b","lazyOuterContainer","platformClasses","touchPlatformClass","deviceClasses","dirAttributes","memAnchorBar","lazyAnchorBar","toolbarDrawer","throbber","sb","statusbar","socketSidebarContainer","hasMultipleToolbar","hasToolbar","hasMenubar","hasToolbarDrawer","default","getPartToolbar","editorComponents","containerComponents","border","getUi","broadcastAll","setEditorSize","baseWidth","getStyle","baseHeight","minWidth","minHeight","parsedWidth","mw","parsedHeight","mh","stringWidth","widthProperty","stringHeight","renderUI","toolbarOpt","Render","describedBy","describedElement","describeElement","describeId","AriaLabel","labelledBy","labelledElement","labelElement","schema$u","basic","parts$e","dragBlockClass","getDragBounds","factory$h","dialogBusyEvent","dialogIdleEvent","busyBehaviours","showDialog","busyComp","externalBlocker","bc","getBusySpec","busySpec","busy","hideDialog","blockerDom","getDialogBody","getDialogFooter","setBusy","setIdle","modalEventsId","getFooter","modalBehaviours","ModalDialog","alertBannerFields","alertBannerSchema","createBarFields","itemsField","buttonFields","buttonSchema","checkboxFields","checkboxSchema","checkboxDataProcessor","formComponentFields","formComponentWithLabelFields","colorInputFields","colorInputSchema","colorInputDataProcessor","colorPickerFields","colorPickerSchema","colorPickerDataProcessor","dropZoneFields","dropZoneSchema","dropZoneDataProcessor","createGridFields","iframeFields","iframeSchema","iframeDataProcessor","inputFields","inputSchema","inputDataProcessor","selectBoxFields","selectBoxSchema","selectBoxDataProcessor","sizeInputFields","sizeInputSchema","sizeInputDataProcessor","textAreaFields","textAreaSchema","textAreaDataProcessor","urlInputFields","urlInputSchema","urlInputDataProcessor","customEditorFields","customEditorFieldsOld","customEditorSchema","customEditorDataProcessor","htmlPanelFields","htmlPanelSchema","imageToolsFields","imageToolsSchema","collectionFields","collectionSchema","collectionDataProcessor","createLabelFields","tableFields","tableSchema","createItemsField","itemSchema$2","sErr","passValue","panelSchema","panelFields","tabFields","tabPanelFields","tabPanelSchema","dialogToggleMenuItemSchema","dialogToggleMenuItemDataProcessor","baseButtonFields","dialogButtonFields","normalButtonFields","menuButtonFields","dialogButtonSchema","dialogButtonFields$1","dialogButtonSchema$1","dialogSchema","tabpanel","createDialog","getAllObjects","isNamedItem","dataProcessors","togglemenuitem","getDataProcessor","getNamedItems","createDataValidator","namedItems","urlDialogButtonSchema","urlDialogSchema","createUrlDialog","extract$1","internalDialog","dataValidator","DialogManager","openUrl","redial","value$3","isSet","toValidValues","renderBodyPanel","memForm","formValue","vals","factory$i","tabButtonBehaviours","TabButton","schema$v","tabsPart","barDetail","tabSpec","dismissTab$1","tabbar","changeTab$1","clickToDismiss","tabClass","parts$f","factory$j","tabbarBehaviours","selectedClass","tab","Tabbar","factory$k","tabviewBehaviours","Tabview","schema$w","barPart","tabs","viewPart","parts$g","factory$l","tabValue","tabview","tabWithValue","tabData","onChangeTab","changeTabBy","section","byPred","tabSectionBehaviours","selectFirst","onDismissTab","getViewItems","showTab","tabKey","getTabIfNotActive","optTab","TabSection","measureHeights","allTabs","tabviewComp","getMaxHeight","heights","getMaxTabviewHeight","dialogBody","dialogChrome","updateTabviewHeight","maxTabHeight","smartTabHeight","extraEvents","maxTabHeightOpt","requestAnimationFrame","oldHeight","naiveTabHeight","SendDataToSectionChannel","SendDataToViewChannel","renderTabPanel","storedValue","updateDataWithForm","formData","validData","currentData","setDataOnForm","oldTab","tabMode","_viewItems","oldName","tsection","dialogChannel","titleChannel","bodyChannel","footerChannel","bodySendMessageChannel","renderBody","ariaAttrs","incoming","_comp","isTabPanel","ariaAttributes","renderInlineBody","contentId","renderModalBody","bodySpec","renderIframeBody","initCommonEvents","fireApiEvent","_event","onUnblock","onBlock","initUrlDialog","getInstanceApi","withSpec","_c","currentDialog","initDialog","currentDialogInit","onTabChange","newTabName","oldTabName","SilverDialogEvents","makeButton","lookup$2","footerButtons","buttonName","memButton","_data","buttonGroups","makeGroup","startButtons","endButtons","renderFooter","initSpec","lookupByName","renderInlineFooter","renderModalFooter","footer","getCompByName","form_1","getFormWrapper","footerState","validateData","dialogState","getDialogApi","doRedial","menuItemStates","withRoot","valueComp","representedValues","menuItemCurrentState","setData","prevData","instanceApi","mergedData","newInternalData","bodyState","tabSection","dialogInit","renderClose","renderTitle","renderDragHandle","renderInlineHeader","titleId","renderModalHeader","pTitle","pHandle","draghandle","pClose","draggable","isTouch$4","getEventExtras","lazyDialog","closeWindow","blockEvent","bs","renderModalDialog","dialogEvents","extraStyles","mapMenuButtons","mapItems","extractCellsToObject","menuButton","innerAcc","renderDialog","storagedMenuButtons","objOfCells","dialogSize","modalAccess","getForm","outerForm","global$g","getUrlDialogApi","sendMessage","SUPPORTED_MESSAGE_ACTIONS","isSupportedMessage","mceAction","isCustomMessage","handleMessage","insertContent","renderUrlDialog","iframeUri","base_uri","href","iframeDomain","protocol","host","port","messageHandlerUnbinder","isSameOrigin","onMessage","unbinder","iframeEle","iframeWin","postMessage","renderInlineDialog","_b","dialogLabelId","dialogContentId","memHeader","memBody","memFooter","isTouch$5","hiddenHeader","defaultHeader","pUntitled","pBodyMessage","pFooter","pFooterGroup","renderDialog$1","headerOverride","partSpecs","setup$c","closeDialog","alertDialog","memFooterClose","footerCloseButton","setup$d","confirmDialog","memFooterYes","footerNo","footerYesButton","validateData$1","inlineAdditionalBehaviours","win$1","topBounds","setup$e","isStickyToolbar$1","openInlineDialog","openModalDialog","openModalUrlDialog","internalInitialData","config$1","inlineDialog","refreshDocking","dialogUi","inlineDialogComp","confirm","alert","WindowManager","Theme","windowMgr","getWindowManagerImpl","getNotificationManagerImpl"],"mappings":"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","file":"theme.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n(function (domGlobals) {\n    'use strict';\n\n    var noop = function () {\n    };\n    var noarg = function (f) {\n      return function () {\n        return f();\n      };\n    };\n    var compose = function (fa, fb) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return fa(fb.apply(null, args));\n      };\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var identity = function (x) {\n      return x;\n    };\n    function curry(fn) {\n      var initialArgs = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        initialArgs[_i - 1] = arguments[_i];\n      }\n      return function () {\n        var restArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          restArgs[_i] = arguments[_i];\n        }\n        var all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    var not = function (f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return !f.apply(null, args);\n      };\n    };\n    var die = function (msg) {\n      return function () {\n        throw new Error(msg);\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n    var __assign = function () {\n      __assign = Object.assign || function __assign(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s)\n            if (Object.prototype.hasOwnProperty.call(s, p))\n              t[p] = s[p];\n        }\n        return t;\n      };\n      return __assign.apply(this, arguments);\n    };\n    function __rest(s, e) {\n      var t = {};\n      for (var p in s)\n        if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n          t[p] = s[p];\n      if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n            t[p[i]] = s[p[i]];\n        }\n      return t;\n    }\n    function __spreadArrays() {\n      for (var s = 0, i = 0, il = arguments.length; i < il; i++)\n        s += arguments[i].length;\n      for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n      return r;\n    }\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) {\n        Object.freeze(me);\n      }\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var value = function (o) {\n      var is = function (v) {\n        return o === v;\n      };\n      var or = function (opt) {\n        return value(o);\n      };\n      var orThunk = function (f) {\n        return value(o);\n      };\n      var map = function (f) {\n        return value(f(o));\n      };\n      var mapError = function (f) {\n        return value(o);\n      };\n      var each = function (f) {\n        f(o);\n      };\n      var bind = function (f) {\n        return f(o);\n      };\n      var fold = function (_, onValue) {\n        return onValue(o);\n      };\n      var exists = function (f) {\n        return f(o);\n      };\n      var forall = function (f) {\n        return f(o);\n      };\n      var toOption = function () {\n        return Option.some(o);\n      };\n      return {\n        is: is,\n        isValue: always,\n        isError: never,\n        getOr: constant(o),\n        getOrThunk: constant(o),\n        getOrDie: constant(o),\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: each,\n        bind: bind,\n        exists: exists,\n        forall: forall,\n        toOption: toOption\n      };\n    };\n    var error = function (message) {\n      var getOrThunk = function (f) {\n        return f();\n      };\n      var getOrDie = function () {\n        return die(String(message))();\n      };\n      var or = function (opt) {\n        return opt;\n      };\n      var orThunk = function (f) {\n        return f();\n      };\n      var map = function (f) {\n        return error(message);\n      };\n      var mapError = function (f) {\n        return error(f(message));\n      };\n      var bind = function (f) {\n        return error(message);\n      };\n      var fold = function (onError, _) {\n        return onError(message);\n      };\n      return {\n        is: never,\n        isValue: never,\n        isError: always,\n        getOr: identity,\n        getOrThunk: getOrThunk,\n        getOrDie: getOrDie,\n        or: or,\n        orThunk: orThunk,\n        fold: fold,\n        map: map,\n        mapError: mapError,\n        each: noop,\n        bind: bind,\n        exists: never,\n        forall: always,\n        toOption: Option.none\n      };\n    };\n    var fromOption = function (opt, err) {\n      return opt.fold(function () {\n        return error(err);\n      }, value);\n    };\n    var Result = {\n      value: value,\n      error: error,\n      fromOption: fromOption\n    };\n\n    var typeOf = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n    var isString = isType('string');\n    var isObject = isType('object');\n    var isArray = isType('array');\n    var isBoolean = isType('boolean');\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n    var isArrayOf = function (value, pred) {\n      if (isArray(value)) {\n        for (var i = 0, len = value.length; i < len; ++i) {\n          if (pred(value[i]) !== true) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    var nativeSlice = Array.prototype.slice;\n    var nativeIndexOf = Array.prototype.indexOf;\n    var nativePush = Array.prototype.push;\n    var rawIndexOf = function (ts, t) {\n      return nativeIndexOf.call(ts, t);\n    };\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Option.none() : Option.some(r);\n    };\n    var contains = function (xs, x) {\n      return rawIndexOf(xs, x) > -1;\n    };\n    var exists = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    var range = function (num, f) {\n      var r = [];\n      for (var i = 0; i < num; i++) {\n        r.push(f(i));\n      }\n      return r;\n    };\n    var chunk = function (array, size) {\n      var r = [];\n      for (var i = 0; i < array.length; i += size) {\n        var s = nativeSlice.call(array, i, i + size);\n        r.push(s);\n      }\n      return r;\n    };\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var eachr = function (xs, f) {\n      for (var i = xs.length - 1; i >= 0; i--) {\n        var x = xs[i];\n        f(x, i);\n      }\n    };\n    var partition = function (xs, pred) {\n      var pass = [];\n      var fail = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        var arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass: pass,\n        fail: fail\n      };\n    };\n    var filter = function (xs, pred) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    var foldr = function (xs, f, acc) {\n      eachr(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        if (pred(x, i)) {\n          return Option.some(i);\n        }\n      }\n      return Option.none();\n    };\n    var flatten = function (xs) {\n      var r = [];\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    var bind = function (xs, f) {\n      var output = map(xs, f);\n      return flatten(output);\n    };\n    var forall = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        var x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    var reverse = function (xs) {\n      var r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    var difference = function (a1, a2) {\n      return filter(a1, function (x) {\n        return !contains(a2, x);\n      });\n    };\n    var pure = function (x) {\n      return [x];\n    };\n    var sort = function (xs, comparator) {\n      var copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    var head = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n    };\n    var last = function (xs) {\n      return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n    };\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return nativeSlice.call(x);\n    };\n\n    var keys = Object.keys;\n    var hasOwnProperty = Object.hasOwnProperty;\n    var each$1 = function (obj, f) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        f(x, i);\n      }\n    };\n    var map$1 = function (obj, f) {\n      return tupleMap(obj, function (x, i) {\n        return {\n          k: i,\n          v: f(x, i)\n        };\n      });\n    };\n    var tupleMap = function (obj, f) {\n      var r = {};\n      each$1(obj, function (x, i) {\n        var tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    var mapToArray = function (obj, f) {\n      var r = [];\n      each$1(obj, function (value, name) {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    var find$1 = function (obj, pred) {\n      var props = keys(obj);\n      for (var k = 0, len = props.length; k < len; k++) {\n        var i = props[k];\n        var x = obj[i];\n        if (pred(x, i, obj)) {\n          return Option.some(x);\n        }\n      }\n      return Option.none();\n    };\n    var values = function (obj) {\n      return mapToArray(obj, function (v) {\n        return v;\n      });\n    };\n    var get = function (obj, key) {\n      return has(obj, key) ? Option.from(obj[key]) : Option.none();\n    };\n    var has = function (obj, key) {\n      return hasOwnProperty.call(obj, key);\n    };\n\n    var generate = function (cases) {\n      if (!isArray(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      var constructors = [];\n      var adt = {};\n      each(cases, function (acase, count) {\n        var keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        var key = keys$1[0];\n        var value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = function () {\n          var argLength = arguments.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          var args = new Array(argLength);\n          for (var i = 0; i < args.length; i++) {\n            args[i] = arguments[i];\n          }\n          var match = function (branches) {\n            var branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            var allReqd = forall(constructors, function (reqKey) {\n              return contains(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: function () {\n              if (arguments.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n              }\n              var target = arguments[count];\n              return target.apply(null, args);\n            },\n            match: match,\n            log: function (label) {\n              domGlobals.console.log(label, {\n                constructors: constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    var Adt = { generate: generate };\n\n    var hasOwnProperty$1 = Object.prototype.hasOwnProperty;\n    var shallow = function (old, nu) {\n      return nu;\n    };\n    var deep = function (old, nu) {\n      var bothObjects = isObject(old) && isObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    var baseMerge = function (merger) {\n      return function () {\n        var objects = new Array(arguments.length);\n        for (var i = 0; i < objects.length; i++) {\n          objects[i] = arguments[i];\n        }\n        if (objects.length === 0) {\n          throw new Error('Can\\'t merge zero objects');\n        }\n        var ret = {};\n        for (var j = 0; j < objects.length; j++) {\n          var curObject = objects[j];\n          for (var key in curObject) {\n            if (hasOwnProperty$1.call(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    var deepMerge = baseMerge(deep);\n    var merge = baseMerge(shallow);\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    var adt = Adt.generate([\n      { strict: [] },\n      { defaultedThunk: ['fallbackThunk'] },\n      { asOption: [] },\n      { asDefaultedOptionThunk: ['fallbackThunk'] },\n      { mergeWithThunk: ['baseThunk'] }\n    ]);\n    var defaulted = function (fallback) {\n      return adt.defaultedThunk(constant(fallback));\n    };\n    var mergeWith = function (base) {\n      return adt.mergeWithThunk(constant(base));\n    };\n    var strict = adt.strict;\n    var asOption = adt.asOption;\n    var defaultedThunk = adt.defaultedThunk;\n    var mergeWithThunk = adt.mergeWithThunk;\n\n    var exclude = function (obj, fields) {\n      var r = {};\n      each$1(obj, function (v, k) {\n        if (!contains(fields, k)) {\n          r[k] = v;\n        }\n      });\n      return r;\n    };\n\n    var readOpt = function (key) {\n      return function (obj) {\n        return has(obj, key) ? Option.from(obj[key]) : Option.none();\n      };\n    };\n    var readOr = function (key, fallback) {\n      return function (obj) {\n        return has(obj, key) ? obj[key] : fallback;\n      };\n    };\n    var readOptFrom = function (obj, key) {\n      return readOpt(key)(obj);\n    };\n    var hasKey = function (obj, key) {\n      return has(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    };\n\n    var wrap = function (key, value) {\n      var r = {};\n      r[key] = value;\n      return r;\n    };\n    var wrapAll = function (keyvalues) {\n      var r = {};\n      each(keyvalues, function (kv) {\n        r[kv.key] = kv.value;\n      });\n      return r;\n    };\n\n    var comparison = Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    var partition$1 = function (results) {\n      var errors = [];\n      var values = [];\n      each(results, function (result) {\n        result.fold(function (err) {\n          errors.push(err);\n        }, function (value) {\n          values.push(value);\n        });\n      });\n      return {\n        errors: errors,\n        values: values\n      };\n    };\n\n    var exclude$1 = function (obj, fields) {\n      return exclude(obj, fields);\n    };\n    var readOpt$1 = function (key) {\n      return readOpt(key);\n    };\n    var readOr$1 = function (key, fallback) {\n      return readOr(key, fallback);\n    };\n    var readOptFrom$1 = function (obj, key) {\n      return readOptFrom(obj, key);\n    };\n    var wrap$1 = function (key, value) {\n      return wrap(key, value);\n    };\n    var wrapAll$1 = function (keyvalues) {\n      return wrapAll(keyvalues);\n    };\n    var mergeValues = function (values, base) {\n      return values.length === 0 ? Result.value(base) : Result.value(deepMerge(base, merge.apply(undefined, values)));\n    };\n    var mergeErrors = function (errors) {\n      return Result.error(flatten(errors));\n    };\n    var consolidate = function (objs, base) {\n      var partitions = partition$1(objs);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : mergeValues(partitions.values, base);\n    };\n    var hasKey$1 = function (obj, key) {\n      return hasKey(obj, key);\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    var fold = function (res, onError, onValue) {\n      return res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    };\n    var partition$2 = function (results) {\n      var values = [];\n      var errors = [];\n      each(results, function (obj) {\n        fold(obj, function (err) {\n          return errors.push(err);\n        }, function (val) {\n          return values.push(val);\n        });\n      });\n      return {\n        values: values,\n        errors: errors\n      };\n    };\n    var mapError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    var map$2 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    var bind$1 = function (res, f) {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    var bindError = function (res, f) {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    var svalue = function (v) {\n      return {\n        stype: SimpleResultType.Value,\n        svalue: v\n      };\n    };\n    var serror = function (e) {\n      return {\n        stype: SimpleResultType.Error,\n        serror: e\n      };\n    };\n    var toResult = function (res) {\n      return fold(res, Result.error, Result.value);\n    };\n    var fromResult = function (res) {\n      return res.fold(serror, svalue);\n    };\n    var SimpleResult = {\n      fromResult: fromResult,\n      toResult: toResult,\n      svalue: svalue,\n      partition: partition$2,\n      serror: serror,\n      bind: bind$1,\n      bindError: bindError,\n      map: map$2,\n      mapError: mapError,\n      fold: fold\n    };\n\n    var mergeValues$1 = function (values, base) {\n      return values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge.apply(undefined, values))) : SimpleResult.svalue(base);\n    };\n    var mergeErrors$1 = function (errors) {\n      return compose(SimpleResult.serror, flatten)(errors);\n    };\n    var consolidateObj = function (objects, base) {\n      var partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors$1(partition.errors) : mergeValues$1(partition.values, base);\n    };\n    var consolidateArr = function (objects) {\n      var partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors$1(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    var ResultCombine = {\n      consolidateObj: consolidateObj,\n      consolidateArr: consolidateArr\n    };\n\n    var typeAdt = Adt.generate([\n      {\n        setOf: [\n          'validator',\n          'valueType'\n        ]\n      },\n      { arrOf: ['valueType'] },\n      { objOf: ['fields'] },\n      { itemOf: ['validator'] },\n      {\n        choiceOf: [\n          'key',\n          'branches'\n        ]\n      },\n      { thunk: ['description'] },\n      {\n        func: [\n          'args',\n          'outputSchema'\n        ]\n      }\n    ]);\n    var fieldAdt = Adt.generate([\n      {\n        field: [\n          'name',\n          'presence',\n          'type'\n        ]\n      },\n      { state: ['name'] }\n    ]);\n\n    var formatObj = function (input) {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    var formatErrors = function (errors) {\n      var es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: function () {\n            return '... (only showing first ten failures)';\n          }\n        }]) : errors;\n      return map(es, function (e) {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    var nu = function (path, getErrorInfo) {\n      return SimpleResult.serror([{\n          path: path,\n          getErrorInfo: getErrorInfo\n        }]);\n    };\n    var missingStrict = function (path, key, obj) {\n      return nu(path, function () {\n        return 'Could not find valid *strict* value for \"' + key + '\" in ' + formatObj(obj);\n      });\n    };\n    var missingKey = function (path, key) {\n      return nu(path, function () {\n        return 'Choice schema did not contain choice key: \"' + key + '\"';\n      });\n    };\n    var missingBranch = function (path, branches, branch) {\n      return nu(path, function () {\n        return 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches);\n      });\n    };\n    var unsupportedFields = function (path, unsupported) {\n      return nu(path, function () {\n        return 'There are unsupported fields: [' + unsupported.join(', ') + '] specified';\n      });\n    };\n    var custom = function (path, err) {\n      return nu(path, function () {\n        return err;\n      });\n    };\n\n    var adt$1 = Adt.generate([\n      {\n        field: [\n          'key',\n          'okey',\n          'presence',\n          'prop'\n        ]\n      },\n      {\n        state: [\n          'okey',\n          'instantiator'\n        ]\n      }\n    ]);\n    var strictAccess = function (path, obj, key) {\n      return readOptFrom(obj, key).fold(function () {\n        return missingStrict(path, key, obj);\n      }, SimpleResult.svalue);\n    };\n    var fallbackAccess = function (obj, key, fallbackThunk) {\n      var v = readOptFrom(obj, key).fold(function () {\n        return fallbackThunk(obj);\n      }, identity);\n      return SimpleResult.svalue(v);\n    };\n    var optionAccess = function (obj, key) {\n      return SimpleResult.svalue(readOptFrom(obj, key));\n    };\n    var optionDefaultedAccess = function (obj, key, fallback) {\n      var opt = readOptFrom(obj, key).map(function (val) {\n        return val === true ? fallback(obj) : val;\n      });\n      return SimpleResult.svalue(opt);\n    };\n    var cExtractOne = function (path, obj, field, strength) {\n      return field.fold(function (key, okey, presence, prop) {\n        var bundle = function (av) {\n          var result = prop.extract(path.concat([key]), strength, av);\n          return SimpleResult.map(result, function (res) {\n            return wrap(okey, strength(res));\n          });\n        };\n        var bundleAsOption = function (optValue) {\n          return optValue.fold(function () {\n            var outcome = wrap(okey, strength(Option.none()));\n            return SimpleResult.svalue(outcome);\n          }, function (ov) {\n            var result = prop.extract(path.concat([key]), strength, ov);\n            return SimpleResult.map(result, function (res) {\n              return wrap(okey, strength(Option.some(res)));\n            });\n          });\n        };\n        return function () {\n          return presence.fold(function () {\n            return SimpleResult.bind(strictAccess(path, obj, key), bundle);\n          }, function (fallbackThunk) {\n            return SimpleResult.bind(fallbackAccess(obj, key, fallbackThunk), bundle);\n          }, function () {\n            return SimpleResult.bind(optionAccess(obj, key), bundleAsOption);\n          }, function (fallbackThunk) {\n            return SimpleResult.bind(optionDefaultedAccess(obj, key, fallbackThunk), bundleAsOption);\n          }, function (baseThunk) {\n            var base = baseThunk(obj);\n            var result = SimpleResult.map(fallbackAccess(obj, key, constant({})), function (v) {\n              return deepMerge(base, v);\n            });\n            return SimpleResult.bind(result, bundle);\n          });\n        }();\n      }, function (okey, instantiator) {\n        var state = instantiator(obj);\n        return SimpleResult.svalue(wrap(okey, strength(state)));\n      });\n    };\n    var cExtract = function (path, obj, fields, strength) {\n      var results = map(fields, function (field) {\n        return cExtractOne(path, obj, field, strength);\n      });\n      return ResultCombine.consolidateObj(results, {});\n    };\n    var valueThunk = function (getDelegate) {\n      var extract = function (path, strength, val) {\n        return getDelegate().extract(path, strength, val);\n      };\n      var toString = function () {\n        return getDelegate().toString();\n      };\n      var toDsl = function () {\n        return getDelegate().toDsl();\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n    var value$1 = function (validator) {\n      var extract = function (path, strength, val) {\n        return SimpleResult.bindError(validator(val, strength), function (err) {\n          return custom(path, err);\n        });\n      };\n      var toString = function () {\n        return 'val';\n      };\n      var toDsl = function () {\n        return typeAdt.itemOf(validator);\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n    var getSetKeys = function (obj) {\n      var keys$1 = keys(obj);\n      return filter(keys$1, function (k) {\n        return hasKey$1(obj, k);\n      });\n    };\n    var objOfOnly = function (fields) {\n      var delegate = objOf(fields);\n      var fieldNames = foldr(fields, function (acc, f) {\n        return f.fold(function (key) {\n          return deepMerge(acc, wrap$1(key, true));\n        }, constant(acc));\n      }, {});\n      var extract = function (path, strength, o) {\n        var keys = isBoolean(o) ? [] : getSetKeys(o);\n        var extra = filter(keys, function (k) {\n          return !hasKey$1(fieldNames, k);\n        });\n        return extra.length === 0 ? delegate.extract(path, strength, o) : unsupportedFields(path, extra);\n      };\n      return {\n        extract: extract,\n        toString: delegate.toString,\n        toDsl: delegate.toDsl\n      };\n    };\n    var objOf = function (fields) {\n      var extract = function (path, strength, o) {\n        return cExtract(path, o, fields, strength);\n      };\n      var toString = function () {\n        var fieldStrings = map(fields, function (field) {\n          return field.fold(function (key, okey, presence, prop) {\n            return key + ' -> ' + prop.toString();\n          }, function (okey, instantiator) {\n            return 'state(' + okey + ')';\n          });\n        });\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      var toDsl = function () {\n        return typeAdt.objOf(map(fields, function (f) {\n          return f.fold(function (key, okey, presence, prop) {\n            return fieldAdt.field(key, presence, prop);\n          }, function (okey, instantiator) {\n            return fieldAdt.state(okey);\n          });\n        }));\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n    var arrOf = function (prop) {\n      var extract = function (path, strength, array) {\n        var results = map(array, function (a, i) {\n          return prop.extract(path.concat(['[' + i + ']']), strength, a);\n        });\n        return ResultCombine.consolidateArr(results);\n      };\n      var toString = function () {\n        return 'array(' + prop.toString() + ')';\n      };\n      var toDsl = function () {\n        return typeAdt.arrOf(prop);\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n    var setOf = function (validator, prop) {\n      var validateKeys = function (path, keys) {\n        return arrOf(value$1(validator)).extract(path, identity, keys);\n      };\n      var extract = function (path, strength, o) {\n        var keys$1 = keys(o);\n        var validatedKeys = validateKeys(path, keys$1);\n        return SimpleResult.bind(validatedKeys, function (validKeys) {\n          var schema = map(validKeys, function (vk) {\n            return adt$1.field(vk, vk, strict(), prop);\n          });\n          return objOf(schema).extract(path, strength, o);\n        });\n      };\n      var toString = function () {\n        return 'setOf(' + prop.toString() + ')';\n      };\n      var toDsl = function () {\n        return typeAdt.setOf(validator, prop);\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n    var anyValue = constant(value$1(SimpleResult.svalue));\n    var arrOfObj = compose(arrOf, objOf);\n    var state = adt$1.state;\n    var field = adt$1.field;\n\n    var chooseFrom = function (path, strength, input, branches, ch) {\n      var fields = readOptFrom$1(branches, ch);\n      return fields.fold(function () {\n        return missingBranch(path, branches, ch);\n      }, function (vp) {\n        return vp.extract(path.concat(['branch: ' + ch]), strength, input);\n      });\n    };\n    var choose = function (key, branches) {\n      var extract = function (path, strength, input) {\n        var choice = readOptFrom$1(input, key);\n        return choice.fold(function () {\n          return missingKey(path, key);\n        }, function (chosen) {\n          return chooseFrom(path, strength, input, branches, chosen);\n        });\n      };\n      var toString = function () {\n        return 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      };\n      var toDsl = function () {\n        return typeAdt.choiceOf(key, branches);\n      };\n      return {\n        extract: extract,\n        toString: toString,\n        toDsl: toDsl\n      };\n    };\n\n    var _anyValue = value$1(SimpleResult.svalue);\n    var arrOfObj$1 = function (objFields) {\n      return arrOfObj(objFields);\n    };\n    var arrOfVal = function () {\n      return arrOf(_anyValue);\n    };\n    var valueThunkOf = valueThunk;\n    var valueOf = function (validator) {\n      return value$1(function (v) {\n        return validator(v).fold(SimpleResult.serror, SimpleResult.svalue);\n      });\n    };\n    var setOf$1 = function (validator, prop) {\n      return setOf(function (v) {\n        return SimpleResult.fromResult(validator(v));\n      }, prop);\n    };\n    var extract = function (label, prop, strength, obj) {\n      var res = prop.extract([label], strength, obj);\n      return SimpleResult.mapError(res, function (errs) {\n        return {\n          input: obj,\n          errors: errs\n        };\n      });\n    };\n    var asRaw = function (label, prop, obj) {\n      return SimpleResult.toResult(extract(label, prop, identity, obj));\n    };\n    var getOrDie = function (extraction) {\n      return extraction.fold(function (errInfo) {\n        throw new Error(formatError(errInfo));\n      }, identity);\n    };\n    var asRawOrDie = function (label, prop, obj) {\n      return getOrDie(asRaw(label, prop, obj));\n    };\n    var formatError = function (errInfo) {\n      return 'Errors: \\n' + formatErrors(errInfo.errors) + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    var chooseProcessor = function (key, branches) {\n      return choose(key, branches);\n    };\n    var choose$1 = function (key, branches) {\n      return choose(key, map$1(branches, objOf));\n    };\n    var anyValue$1 = constant(_anyValue);\n    var typedValue = function (validator, expectedType) {\n      return value$1(function (a) {\n        var actualType = typeof a;\n        return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected type: ' + expectedType + ' but got: ' + actualType);\n      });\n    };\n    var number = typedValue(isNumber, 'number');\n    var string = typedValue(isString, 'string');\n    var boolean = typedValue(isBoolean, 'boolean');\n    var functionProcessor = typedValue(isFunction, 'function');\n    var isPostMessageable = function (val) {\n      var every = function (iter, callbackFn) {\n        var result = iter.next();\n        while (!result.done) {\n          if (!callbackFn(result.value)) {\n            return false;\n          }\n          result = iter.next();\n        }\n        return true;\n      };\n      if (Object(val) !== val) {\n        return true;\n      }\n      switch ({}.toString.call(val).slice(8, -1)) {\n      case 'Boolean':\n      case 'Number':\n      case 'String':\n      case 'Date':\n      case 'RegExp':\n      case 'Blob':\n      case 'FileList':\n      case 'ImageData':\n      case 'ImageBitmap':\n      case 'ArrayBuffer':\n        return true;\n      case 'Array':\n      case 'Object':\n        return Object.keys(val).every(function (prop) {\n          return isPostMessageable(val[prop]);\n        });\n      case 'Map':\n        return every(val.keys(), isPostMessageable) && every(val.values(), isPostMessageable);\n      case 'Set':\n        return every(val.keys(), isPostMessageable);\n      default:\n        return false;\n      }\n    };\n    var postMessageable = value$1(function (a) {\n      return isPostMessageable(a) ? SimpleResult.svalue(a) : SimpleResult.serror('Expected value to be acceptable for sending via postMessage');\n    });\n\n    var validateEnum = function (values) {\n      return valueOf(function (value) {\n        return contains(values, value) ? Result.value(value) : Result.error('Unsupported value: \"' + value + '\", choose one of \"' + values.join(', ') + '\".');\n      });\n    };\n    var strict$1 = function (key) {\n      return field(key, key, strict(), anyValue());\n    };\n    var strictOf = function (key, schema) {\n      return field(key, key, strict(), schema);\n    };\n    var strictNumber = function (key) {\n      return strictOf(key, number);\n    };\n    var strictString = function (key) {\n      return strictOf(key, string);\n    };\n    var strictStringEnum = function (key, values) {\n      return field(key, key, strict(), validateEnum(values));\n    };\n    var strictBoolean = function (key) {\n      return strictOf(key, boolean);\n    };\n    var strictFunction = function (key) {\n      return strictOf(key, functionProcessor);\n    };\n    var forbid = function (key, message) {\n      return field(key, key, asOption(), value$1(function (v) {\n        return SimpleResult.serror('The field: ' + key + ' is forbidden. ' + message);\n      }));\n    };\n    var strictObjOf = function (key, objSchema) {\n      return field(key, key, strict(), objOf(objSchema));\n    };\n    var strictArrayOfObj = function (key, objFields) {\n      return field(key, key, strict(), arrOfObj(objFields));\n    };\n    var strictArrayOf = function (key, schema) {\n      return field(key, key, strict(), arrOf(schema));\n    };\n    var option = function (key) {\n      return field(key, key, asOption(), anyValue());\n    };\n    var optionOf = function (key, schema) {\n      return field(key, key, asOption(), schema);\n    };\n    var optionNumber = function (key) {\n      return optionOf(key, number);\n    };\n    var optionString = function (key) {\n      return optionOf(key, string);\n    };\n    var optionFunction = function (key) {\n      return optionOf(key, functionProcessor);\n    };\n    var optionArrayOf = function (key, schema) {\n      return optionOf(key, arrOf(schema));\n    };\n    var optionObjOf = function (key, objSchema) {\n      return optionOf(key, objOf(objSchema));\n    };\n    var optionObjOfOnly = function (key, objSchema) {\n      return optionOf(key, objOfOnly(objSchema));\n    };\n    var defaulted$1 = function (key, fallback) {\n      return field(key, key, defaulted(fallback), anyValue());\n    };\n    var defaultedOf = function (key, fallback, schema) {\n      return field(key, key, defaulted(fallback), schema);\n    };\n    var defaultedNumber = function (key, fallback) {\n      return defaultedOf(key, fallback, number);\n    };\n    var defaultedString = function (key, fallback) {\n      return defaultedOf(key, fallback, string);\n    };\n    var defaultedStringEnum = function (key, fallback, values) {\n      return defaultedOf(key, fallback, validateEnum(values));\n    };\n    var defaultedBoolean = function (key, fallback) {\n      return defaultedOf(key, fallback, boolean);\n    };\n    var defaultedFunction = function (key, fallback) {\n      return defaultedOf(key, fallback, functionProcessor);\n    };\n    var defaultedPostMsg = function (key, fallback) {\n      return defaultedOf(key, fallback, postMessageable);\n    };\n    var defaultedArrayOf = function (key, fallback, schema) {\n      return defaultedOf(key, fallback, arrOf(schema));\n    };\n    var defaultedObjOf = function (key, fallback, objSchema) {\n      return defaultedOf(key, fallback, objOf(objSchema));\n    };\n    var state$1 = function (okey, instantiator) {\n      return state(okey, instantiator);\n    };\n\n    var Cell = function (initial) {\n      var value = initial;\n      var get = function () {\n        return value;\n      };\n      var set = function (v) {\n        value = v;\n      };\n      var clone = function () {\n        return Cell(get());\n      };\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        domGlobals.console.error('HTML does not have a single root node', html);\n        throw new Error('HTML must have a single root node');\n      }\n      return fromDom(div.childNodes[0]);\n    };\n    var fromTag = function (tag, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n    var fromText = function (text, scope) {\n      var doc = scope || domGlobals.document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n    var fromDom = function (node) {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: constant(node) };\n    };\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n    var Element = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_PRECEDING);\n    };\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, domGlobals.Node.DOCUMENT_POSITION_CONTAINED_BY);\n    };\n    var Node = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$1(group(1), group(2));\n    };\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown();\n      }\n      return find$2(versionRegexes, cleanedAgent);\n    };\n    var unknown = function () {\n      return nu$1(0, 0);\n    };\n    var nu$1 = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n    var Version = {\n      nu: nu$1,\n      detect: detect,\n      unknown: unknown\n    };\n\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$1 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$2,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    var windows = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n    var unknown$2 = function () {\n      return nu$3({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    var nu$3 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$3,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent, mediaMatch) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isMobile = os.isiOS() || os.isAndroid();\n      var isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      var isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      var isPhone = isiPhone || isMobile && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      var isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var checkRange = function (str, substr, start) {\n      if (substr === '') {\n        return true;\n      }\n      if (str.length < substr.length) {\n        return false;\n      }\n      var x = str.substr(start, start + substr.length);\n      return x === substr;\n    };\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var endsWith = function (str, suffix) {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    var trim = function (str) {\n      return str.replace(/^\\s+|\\s+$/g, '');\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n    var browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: function (uastring) {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chrome',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: function (uastring) {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    var oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: function (uastring) {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'OSX',\n        search: checkContains('os x'),\n        versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      }\n    ];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent, mediaMatch) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n    var PlatformDetection = { detect: detect$2 };\n\n    var mediaMatch = function (query) {\n      return domGlobals.window.matchMedia(query).matches;\n    };\n    var platform = Cell(PlatformDetection.detect(domGlobals.navigator.userAgent, mediaMatch));\n    var detect$3 = function () {\n      return platform.get();\n    };\n\n    var ATTRIBUTE = domGlobals.Node.ATTRIBUTE_NODE;\n    var CDATA_SECTION = domGlobals.Node.CDATA_SECTION_NODE;\n    var COMMENT = domGlobals.Node.COMMENT_NODE;\n    var DOCUMENT = domGlobals.Node.DOCUMENT_NODE;\n    var DOCUMENT_TYPE = domGlobals.Node.DOCUMENT_TYPE_NODE;\n    var DOCUMENT_FRAGMENT = domGlobals.Node.DOCUMENT_FRAGMENT_NODE;\n    var ELEMENT = domGlobals.Node.ELEMENT_NODE;\n    var TEXT = domGlobals.Node.TEXT_NODE;\n    var PROCESSING_INSTRUCTION = domGlobals.Node.PROCESSING_INSTRUCTION_NODE;\n    var ENTITY_REFERENCE = domGlobals.Node.ENTITY_REFERENCE_NODE;\n    var ENTITY = domGlobals.Node.ENTITY_NODE;\n    var NOTATION = domGlobals.Node.NOTATION_NODE;\n\n    var ELEMENT$1 = ELEMENT;\n    var DOCUMENT$1 = DOCUMENT;\n    var is = function (element, selector) {\n      var dom = element.dom();\n      if (dom.nodeType !== ELEMENT$1) {\n        return false;\n      } else {\n        var elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT$1 && dom.nodeType !== DOCUMENT$1 || dom.childElementCount === 0;\n    };\n    var all = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element.fromDom);\n    };\n    var one = function (selector, scope) {\n      var base = scope === undefined ? domGlobals.document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element.fromDom);\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom();\n      var d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n    var ieContains = function (e1, e2) {\n      return Node.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n    var browser = detect$3().browser;\n    var contains$2 = browser.isIE() ? ieContains : regularContains;\n\n    var isSource = function (component, simulatedEvent) {\n      return eq(component.element(), simulatedEvent.event().target());\n    };\n\n    var nu$4 = function (parts) {\n      if (!hasKey$1(parts, 'can') && !hasKey$1(parts, 'abort') && !hasKey$1(parts, 'run')) {\n        throw new Error('EventHandler defined by: ' + JSON.stringify(parts, null, 2) + ' does not have can, abort, or run!');\n      }\n      return asRawOrDie('Extracting event.handler', objOfOnly([\n        defaulted$1('can', constant(true)),\n        defaulted$1('abort', constant(false)),\n        defaulted$1('run', noop)\n      ]), parts);\n    };\n    var all$1 = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc && f(handler).apply(undefined, args);\n        }, true);\n      };\n    };\n    var any = function (handlers, f) {\n      return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        return foldl(handlers, function (acc, handler) {\n          return acc || f(handler).apply(undefined, args);\n        }, false);\n      };\n    };\n    var read = function (handler) {\n      return isFunction(handler) ? {\n        can: constant(true),\n        abort: constant(false),\n        run: handler\n      } : handler;\n    };\n    var fuse = function (handlers) {\n      var can = all$1(handlers, function (handler) {\n        return handler.can;\n      });\n      var abort = any(handlers, function (handler) {\n        return handler.abort;\n      });\n      var run = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        each(handlers, function (handler) {\n          handler.run.apply(undefined, args);\n        });\n      };\n      return nu$4({\n        can: can,\n        abort: abort,\n        run: run\n      });\n    };\n\n    var touchstart = constant('touchstart');\n    var touchmove = constant('touchmove');\n    var touchend = constant('touchend');\n    var mousedown = constant('mousedown');\n    var mousemove = constant('mousemove');\n    var mouseout = constant('mouseout');\n    var mouseup = constant('mouseup');\n    var mouseover = constant('mouseover');\n    var focusin = constant('focusin');\n    var focusout = constant('focusout');\n    var keydown = constant('keydown');\n    var keyup = constant('keyup');\n    var input = constant('input');\n    var change = constant('change');\n    var click = constant('click');\n    var transitionend = constant('transitionend');\n    var selectstart = constant('selectstart');\n\n    var alloy = { tap: constant('alloy.tap') };\n    var focus = constant('alloy.focus');\n    var postBlur = constant('alloy.blur.post');\n    var postPaste = constant('alloy.paste.post');\n    var receive = constant('alloy.receive');\n    var execute = constant('alloy.execute');\n    var focusItem = constant('alloy.focus.item');\n    var tap = alloy.tap;\n    var tapOrClick = detect$3().deviceType.isTouch() ? alloy.tap : click;\n    var longpress = constant('alloy.longpress');\n    var sandboxClose = constant('alloy.sandbox.close');\n    var typeaheadCancel = constant('alloy.typeahead.cancel');\n    var systemInit = constant('alloy.system.init');\n    var documentTouchmove = constant('alloy.system.touchmove');\n    var documentTouchend = constant('alloy.system.touchend');\n    var windowScroll = constant('alloy.system.scroll');\n    var windowResize = constant('alloy.system.resize');\n    var attachedToDom = constant('alloy.system.attached');\n    var detachedFromDom = constant('alloy.system.detached');\n    var dismissRequested = constant('alloy.system.dismissRequested');\n    var repositionRequested = constant('alloy.system.repositionRequested');\n    var focusShifted = constant('alloy.focusmanager.shifted');\n    var slotVisibility = constant('alloy.slotcontainer.visibility');\n    var changeTab = constant('alloy.change.tab');\n    var dismissTab = constant('alloy.dismiss.tab');\n    var highlight = constant('alloy.highlight');\n    var dehighlight = constant('alloy.dehighlight');\n\n    var emit = function (component, event) {\n      dispatchWith(component, component.element(), event, {});\n    };\n    var emitWith = function (component, event, properties) {\n      dispatchWith(component, component.element(), event, properties);\n    };\n    var emitExecute = function (component) {\n      emit(component, execute());\n    };\n    var dispatch = function (component, target, event) {\n      dispatchWith(component, target, event, {});\n    };\n    var dispatchWith = function (component, target, event, properties) {\n      var data = __assign({ target: target }, properties);\n      component.getSystem().triggerEvent(event, target, map$1(data, constant));\n    };\n    var dispatchEvent = function (component, target, event, simulatedEvent) {\n      component.getSystem().triggerEvent(event, target, simulatedEvent.event());\n    };\n\n    function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n    }\n\n    var Global = typeof domGlobals.window !== 'undefined' ? domGlobals.window : Function('return this;')();\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n    var isElement = isType$1(ELEMENT);\n    var isText = isType$1(TEXT);\n\n    var inBody = function (element) {\n      var dom = isText(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n    var body = cached(function () {\n      return getBody(Element.fromDom(domGlobals.document));\n    });\n    var getBody = function (doc) {\n      var b = doc.dom().body;\n      if (b === null || b === undefined) {\n        throw new Error('Body is not available yet');\n      }\n      return Element.fromDom(b);\n    };\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element.fromDom(element);\n        if (predicate(el)) {\n          return Option.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (s, test) {\n        return test(s);\n      };\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n    var descendant = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          var child_1 = Element.fromDom(node.childNodes[i]);\n          if (predicate(child_1)) {\n            return Option.some(child_1);\n          }\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Option.none();\n      };\n      return descend(scope.dom());\n    };\n\n    var closest$1 = function (target, transform, isRoot) {\n      var delegate = closest(target, function (elem) {\n        return transform(elem).isSome();\n      }, isRoot);\n      return delegate.bind(transform);\n    };\n\n    var derive = function (configs) {\n      return wrapAll$1(configs);\n    };\n    var abort = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$4({ abort: predicate })\n      };\n    };\n    var can = function (name, predicate) {\n      return {\n        key: name,\n        value: nu$4({ can: predicate })\n      };\n    };\n    var preventDefault = function (name) {\n      return {\n        key: name,\n        value: nu$4({\n          run: function (component, simulatedEvent) {\n            simulatedEvent.event().prevent();\n          }\n        })\n      };\n    };\n    var run = function (name, handler) {\n      return {\n        key: name,\n        value: nu$4({ run: handler })\n      };\n    };\n    var runActionExtra = function (name, action, extra) {\n      return {\n        key: name,\n        value: nu$4({\n          run: function (component) {\n            action.apply(undefined, [component].concat(extra));\n          }\n        })\n      };\n    };\n    var runOnName = function (name) {\n      return function (handler) {\n        return run(name, handler);\n      };\n    };\n    var runOnSourceName = function (name) {\n      return function (handler) {\n        return {\n          key: name,\n          value: nu$4({\n            run: function (component, simulatedEvent) {\n              if (isSource(component, simulatedEvent)) {\n                handler(component, simulatedEvent);\n              }\n            }\n          })\n        };\n      };\n    };\n    var redirectToUid = function (name, uid) {\n      return run(name, function (component, simulatedEvent) {\n        component.getSystem().getByUid(uid).each(function (redirectee) {\n          dispatchEvent(redirectee, redirectee.element(), name, simulatedEvent);\n        });\n      });\n    };\n    var redirectToPart = function (name, detail, partName) {\n      var uid = detail.partUids[partName];\n      return redirectToUid(name, uid);\n    };\n    var runWithTarget = function (name, f) {\n      return run(name, function (component, simulatedEvent) {\n        var ev = simulatedEvent.event();\n        var target = component.getSystem().getByDom(ev.target()).fold(function () {\n          var closest = closest$1(ev.target(), function (el) {\n            return component.getSystem().getByDom(el).toOption();\n          }, constant(false));\n          return closest.getOr(component);\n        }, function (c) {\n          return c;\n        });\n        f(component, target, simulatedEvent);\n      });\n    };\n    var cutter = function (name) {\n      return run(name, function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      });\n    };\n    var stopper = function (name) {\n      return run(name, function (component, simulatedEvent) {\n        simulatedEvent.stop();\n      });\n    };\n    var runOnSource = function (name, f) {\n      return runOnSourceName(name)(f);\n    };\n    var runOnAttached = runOnSourceName(attachedToDom());\n    var runOnDetached = runOnSourceName(detachedFromDom());\n    var runOnInit = runOnSourceName(systemInit());\n    var runOnExecute = runOnName(execute());\n\n    var Immutable = function () {\n      var fields = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n      return function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var sort$1 = function (arr) {\n      return arr.slice(0).sort();\n    };\n    var reqMessage = function (required, keys) {\n      throw new Error('All required keys (' + sort$1(required).join(', ') + ') were not specified. Specified keys were: ' + sort$1(keys).join(', ') + '.');\n    };\n    var unsuppMessage = function (unsupported) {\n      throw new Error('Unsupported keys for object: ' + sort$1(unsupported).join(', '));\n    };\n    var validateStrArr = function (label, array) {\n      if (!isArray(array)) {\n        throw new Error('The ' + label + ' fields must be an array. Was: ' + array + '.');\n      }\n      each(array, function (a) {\n        if (!isString(a)) {\n          throw new Error('The value ' + a + ' in the ' + label + ' fields was not a string.');\n        }\n      });\n    };\n    var checkDupes = function (everything) {\n      var sorted = sort$1(everything);\n      var dupe = find(sorted, function (s, i) {\n        return i < sorted.length - 1 && s === sorted[i + 1];\n      });\n      dupe.each(function (d) {\n        throw new Error('The field: ' + d + ' occurs more than once in the combined fields: [' + sorted.join(', ') + '].');\n      });\n    };\n\n    var MixedBag = function (required, optional) {\n      var everything = required.concat(optional);\n      if (everything.length === 0) {\n        throw new Error('You must specify at least one required or optional field.');\n      }\n      validateStrArr('required', required);\n      validateStrArr('optional', optional);\n      checkDupes(everything);\n      return function (obj) {\n        var keys$1 = keys(obj);\n        var allReqd = forall(required, function (req) {\n          return contains(keys$1, req);\n        });\n        if (!allReqd) {\n          reqMessage(required, keys$1);\n        }\n        var unsupported = filter(keys$1, function (key) {\n          return !contains(everything, key);\n        });\n        if (unsupported.length > 0) {\n          unsuppMessage(unsupported);\n        }\n        var r = {};\n        each(required, function (req) {\n          r[req] = constant(obj[req]);\n        });\n        each(optional, function (opt) {\n          r[opt] = constant(Object.prototype.hasOwnProperty.call(obj, opt) ? Option.some(obj[opt]) : Option.none());\n        });\n        return r;\n      };\n    };\n\n    var owner = function (element) {\n      return Element.fromDom(element.dom().ownerDocument);\n    };\n    var documentElement = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.documentElement);\n    };\n    var defaultView = function (element) {\n      return Element.fromDom(element.dom().ownerDocument.defaultView);\n    };\n    var parent = function (element) {\n      return Option.from(element.dom().parentNode).map(Element.fromDom);\n    };\n    var offsetParent = function (element) {\n      return Option.from(element.dom().offsetParent).map(Element.fromDom);\n    };\n    var nextSibling = function (element) {\n      return Option.from(element.dom().nextSibling).map(Element.fromDom);\n    };\n    var children = function (element) {\n      return map(element.dom().childNodes, Element.fromDom);\n    };\n    var child = function (element, index) {\n      var cs = element.dom().childNodes;\n      return Option.from(cs[index]).map(Element.fromDom);\n    };\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n    var spot = Immutable('element', 'offset');\n\n    var fromHtml$1 = function (html, scope) {\n      var doc = scope || domGlobals.document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n      return children(Element.fromDom(div));\n    };\n\n    var before = function (marker, element) {\n      var parent$1 = parent(marker);\n      parent$1.each(function (v) {\n        v.dom().insertBefore(element.dom(), marker.dom());\n      });\n    };\n    var after = function (marker, element) {\n      var sibling = nextSibling(marker);\n      sibling.fold(function () {\n        var parent$1 = parent(marker);\n        parent$1.each(function (v) {\n          append(v, element);\n        });\n      }, function (v) {\n        before(v, element);\n      });\n    };\n    var prepend = function (parent, element) {\n      var firstChild$1 = firstChild(parent);\n      firstChild$1.fold(function () {\n        append(parent, element);\n      }, function (v) {\n        parent.dom().insertBefore(element.dom(), v.dom());\n      });\n    };\n    var append = function (parent, element) {\n      parent.dom().appendChild(element.dom());\n    };\n    var appendAt = function (parent, element, index) {\n      child(parent, index).fold(function () {\n        append(parent, element);\n      }, function (v) {\n        before(v, element);\n      });\n    };\n\n    var before$1 = function (marker, elements) {\n      each(elements, function (x) {\n        before(marker, x);\n      });\n    };\n    var append$1 = function (parent, elements) {\n      each(elements, function (x) {\n        append(parent, x);\n      });\n    };\n\n    var empty = function (element) {\n      element.dom().textContent = '';\n      each(children(element), function (rogue) {\n        remove(rogue);\n      });\n    };\n    var remove = function (element) {\n      var dom = element.dom();\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    var unwrap = function (wrapper) {\n      var children$1 = children(wrapper);\n      if (children$1.length > 0) {\n        before$1(wrapper, children$1);\n      }\n      remove(wrapper);\n    };\n\n    var get$1 = function (element) {\n      return element.dom().innerHTML;\n    };\n    var set = function (element, content) {\n      var owner$1 = owner(element);\n      var docDom = owner$1.dom();\n      var fragment = Element.fromDom(docDom.createDocumentFragment());\n      var contentElements = fromHtml$1(content, docDom);\n      append$1(fragment, contentElements);\n      empty(element);\n      append(element, fragment);\n    };\n    var getOuter = function (element) {\n      var container = Element.fromTag('div');\n      var clone = Element.fromDom(element.dom().cloneNode(true));\n      append(container, clone);\n      return get$1(container);\n    };\n\n    var rawSet = function (dom, key, value) {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        domGlobals.console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    var set$1 = function (element, key, value) {\n      rawSet(element.dom(), key, value);\n    };\n    var setAll = function (element, attrs) {\n      var dom = element.dom();\n      each$1(attrs, function (v, k) {\n        rawSet(dom, k, v);\n      });\n    };\n    var get$2 = function (element, key) {\n      var v = element.dom().getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    var has$1 = function (element, key) {\n      var dom = element.dom();\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    var remove$1 = function (element, key) {\n      element.dom().removeAttribute(key);\n    };\n\n    var clone = function (original, isDeep) {\n      return Element.fromDom(original.dom().cloneNode(isDeep));\n    };\n    var shallow$1 = function (original) {\n      return clone(original, false);\n    };\n\n    var getHtml = function (element) {\n      var clone = shallow$1(element);\n      return getOuter(clone);\n    };\n\n    var element = function (elem) {\n      return getHtml(elem);\n    };\n\n    var isRecursive = function (component, originator, target) {\n      return eq(originator, component.element()) && !eq(originator, target);\n    };\n    var events = derive([can(focus(), function (component, simulatedEvent) {\n        var originator = simulatedEvent.event().originator();\n        var target = simulatedEvent.event().target();\n        if (isRecursive(component, originator, target)) {\n          domGlobals.console.warn(focus() + ' did not get interpreted by the desired target. ' + '\\nOriginator: ' + element(originator) + '\\nTarget: ' + element(target) + '\\nCheck the ' + focus() + ' event handlers');\n          return false;\n        } else {\n          return true;\n        }\n      })]);\n\n    var DefaultEvents = /*#__PURE__*/Object.freeze({\n        events: events\n    });\n\n    var unique = 0;\n    var generate$1 = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    var prefix = constant('alloy-id-');\n    var idAttr = constant('data-alloy-id');\n\n    var prefix$1 = prefix();\n    var idAttr$1 = idAttr();\n    var write = function (label, elem) {\n      var id = generate$1(prefix$1 + label);\n      writeOnly(elem, id);\n      return id;\n    };\n    var writeOnly = function (elem, uid) {\n      Object.defineProperty(elem.dom(), idAttr$1, {\n        value: uid,\n        writable: true\n      });\n    };\n    var read$1 = function (elem) {\n      var id = isElement(elem) ? elem.dom()[idAttr$1] : null;\n      return Option.from(id);\n    };\n    var generate$2 = function (prefix) {\n      return generate$1(prefix);\n    };\n\n    var make = identity;\n\n    var NoContextApi = function (getComp) {\n      var fail = function (event) {\n        return function () {\n          throw new Error('The component must be in a context to send: ' + event + '\\n' + element(getComp().element()) + ' is not in context.');\n        };\n      };\n      return {\n        debugInfo: constant('fake'),\n        triggerEvent: fail('triggerEvent'),\n        triggerFocus: fail('triggerFocus'),\n        triggerEscape: fail('triggerEscape'),\n        build: fail('build'),\n        addToWorld: fail('addToWorld'),\n        removeFromWorld: fail('removeFromWorld'),\n        addToGui: fail('addToGui'),\n        removeFromGui: fail('removeFromGui'),\n        getByUid: fail('getByUid'),\n        getByDom: fail('getByDom'),\n        broadcast: fail('broadcast'),\n        broadcastOn: fail('broadcastOn'),\n        broadcastEvent: fail('broadcastEvent'),\n        isConnected: constant(false)\n      };\n    };\n    var singleton = NoContextApi();\n\n    var markAsBehaviourApi = function (f, apiName, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: apiName,\n          parameters: cleanParameters(parameters.slice(0, 1).concat(parameters.slice(3)))\n        };\n      };\n      return f;\n    };\n    var cleanParameters = function (parameters) {\n      return map(parameters, function (p) {\n        return endsWith(p, '/*') ? p.substring(0, p.length - '/*'.length) : p;\n      });\n    };\n    var markAsExtraApi = function (f, extraName) {\n      var delegate = f.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: extraName,\n          parameters: cleanParameters(parameters)\n        };\n      };\n      return f;\n    };\n    var markAsSketchApi = function (f, apiFunction) {\n      var delegate = apiFunction.toString();\n      var endIndex = delegate.indexOf(')') + 1;\n      var openBracketIndex = delegate.indexOf('(');\n      var parameters = delegate.substring(openBracketIndex + 1, endIndex - 1).split(/,\\s*/);\n      f.toFunctionAnnotation = function () {\n        return {\n          name: 'OVERRIDE',\n          parameters: cleanParameters(parameters.slice(1))\n        };\n      };\n      return f;\n    };\n\n    var premadeTag = generate$1('alloy-premade');\n    var premade = function (comp) {\n      return wrap$1(premadeTag, comp);\n    };\n    var getPremade = function (spec) {\n      return readOptFrom$1(spec, premadeTag);\n    };\n    var makeApi = function (f) {\n      return markAsSketchApi(function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        return f.apply(undefined, [component.getApis()].concat([component].concat(rest)));\n      }, f);\n    };\n\n    var NoState = {\n      init: function () {\n        return nu$5({\n          readState: function () {\n            return 'No State required';\n          }\n        });\n      }\n    };\n    var nu$5 = function (spec) {\n      return spec;\n    };\n\n    var generateFrom = function (spec, all) {\n      var schema = map(all, function (a) {\n        return optionObjOf(a.name(), [\n          strict$1('config'),\n          defaulted$1('state', NoState)\n        ]);\n      });\n      var validated = asRaw('component.behaviours', objOf(schema), spec.behaviours).fold(function (errInfo) {\n        throw new Error(formatError(errInfo) + '\\nComplete spec:\\n' + JSON.stringify(spec, null, 2));\n      }, function (v) {\n        return v;\n      });\n      return {\n        list: all,\n        data: map$1(validated, function (optBlobThunk) {\n          var optBlob = optBlobThunk;\n          var output = optBlob.map(function (blob) {\n            return {\n              config: blob.config,\n              state: blob.state.init(blob.config)\n            };\n          });\n          return function () {\n            return output;\n          };\n        })\n      };\n    };\n    var getBehaviours = function (bData) {\n      return bData.list;\n    };\n    var getData = function (bData) {\n      return bData.data;\n    };\n\n    var byInnerKey = function (data, tuple) {\n      var r = {};\n      each$1(data, function (detail, key) {\n        each$1(detail, function (value, indexKey) {\n          var chain = readOr$1(indexKey, [])(r);\n          r[indexKey] = chain.concat([tuple(key, value)]);\n        });\n      });\n      return r;\n    };\n\n    var nu$6 = function (s) {\n      return {\n        classes: s.classes !== undefined ? s.classes : [],\n        attributes: s.attributes !== undefined ? s.attributes : {},\n        styles: s.styles !== undefined ? s.styles : {}\n      };\n    };\n    var merge$1 = function (defnA, mod) {\n      return __assign(__assign({}, defnA), {\n        attributes: __assign(__assign({}, defnA.attributes), mod.attributes),\n        styles: __assign(__assign({}, defnA.styles), mod.styles),\n        classes: defnA.classes.concat(mod.classes)\n      });\n    };\n\n    var combine = function (info, baseMod, behaviours, base) {\n      var modsByBehaviour = __assign({}, baseMod);\n      each(behaviours, function (behaviour) {\n        modsByBehaviour[behaviour.name()] = behaviour.exhibit(info, base);\n      });\n      var nameAndMod = function (name, modification) {\n        return {\n          name: name,\n          modification: modification\n        };\n      };\n      var byAspect = byInnerKey(modsByBehaviour, nameAndMod);\n      var combineObjects = function (objects) {\n        return foldr(objects, function (b, a) {\n          return __assign(__assign({}, a.modification), b);\n        }, {});\n      };\n      var combinedClasses = foldr(byAspect.classes, function (b, a) {\n        return a.modification.concat(b);\n      }, []);\n      var combinedAttributes = combineObjects(byAspect.attributes);\n      var combinedStyles = combineObjects(byAspect.styles);\n      return nu$6({\n        classes: combinedClasses,\n        attributes: combinedAttributes,\n        styles: combinedStyles\n      });\n    };\n\n    var sortKeys = function (label, keyName, array, order) {\n      var sliced = array.slice(0);\n      try {\n        var sorted = sliced.sort(function (a, b) {\n          var aKey = a[keyName]();\n          var bKey = b[keyName]();\n          var aIndex = order.indexOf(aKey);\n          var bIndex = order.indexOf(bKey);\n          if (aIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + aKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (bIndex === -1) {\n            throw new Error('The ordering for ' + label + ' does not have an entry for ' + bKey + '.\\nOrder specified: ' + JSON.stringify(order, null, 2));\n          }\n          if (aIndex < bIndex) {\n            return -1;\n          } else if (bIndex < aIndex) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n        return Result.value(sorted);\n      } catch (err) {\n        return Result.error([err]);\n      }\n    };\n\n    var uncurried = function (handler, purpose) {\n      return {\n        handler: handler,\n        purpose: constant(purpose)\n      };\n    };\n    var curried = function (handler, purpose) {\n      return {\n        cHandler: handler,\n        purpose: constant(purpose)\n      };\n    };\n    var curryArgs = function (descHandler, extraArgs) {\n      return curried(curry.apply(undefined, [descHandler.handler].concat(extraArgs)), descHandler.purpose());\n    };\n    var getCurried = function (descHandler) {\n      return descHandler.cHandler;\n    };\n\n    var behaviourTuple = function (name, handler) {\n      return {\n        name: constant(name),\n        handler: constant(handler)\n      };\n    };\n    var nameToHandlers = function (behaviours, info) {\n      var r = {};\n      each(behaviours, function (behaviour) {\n        r[behaviour.name()] = behaviour.handlers(info);\n      });\n      return r;\n    };\n    var groupByEvents = function (info, behaviours, base) {\n      var behaviourEvents = __assign(__assign({}, base), nameToHandlers(behaviours, info));\n      return byInnerKey(behaviourEvents, behaviourTuple);\n    };\n    var combine$1 = function (info, eventOrder, behaviours, base) {\n      var byEventName = groupByEvents(info, behaviours, base);\n      return combineGroups(byEventName, eventOrder);\n    };\n    var assemble = function (rawHandler) {\n      var handler = read(rawHandler);\n      return function (component, simulatedEvent) {\n        var rest = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n          rest[_i - 2] = arguments[_i];\n        }\n        var args = [\n          component,\n          simulatedEvent\n        ].concat(rest);\n        if (handler.abort.apply(undefined, args)) {\n          simulatedEvent.stop();\n        } else if (handler.can.apply(undefined, args)) {\n          handler.run.apply(undefined, args);\n        }\n      };\n    };\n    var missingOrderError = function (eventName, tuples) {\n      return Result.error(['The event (' + eventName + ') has more than one behaviour that listens to it.\\nWhen this occurs, you must ' + 'specify an event ordering for the behaviours in your spec (e.g. [ \"listing\", \"toggling\" ]).\\nThe behaviours that ' + 'can trigger it are: ' + JSON.stringify(map(tuples, function (c) {\n          return c.name();\n        }), null, 2)]);\n    };\n    var fuse$1 = function (tuples, eventOrder, eventName) {\n      var order = eventOrder[eventName];\n      if (!order) {\n        return missingOrderError(eventName, tuples);\n      } else {\n        return sortKeys('Event: ' + eventName, 'name', tuples, order).map(function (sortedTuples) {\n          var handlers = map(sortedTuples, function (tuple) {\n            return tuple.handler();\n          });\n          return fuse(handlers);\n        });\n      }\n    };\n    var combineGroups = function (byEventName, eventOrder) {\n      var r = mapToArray(byEventName, function (tuples, eventName) {\n        var combined = tuples.length === 1 ? Result.value(tuples[0].handler()) : fuse$1(tuples, eventOrder, eventName);\n        return combined.map(function (handler) {\n          var assembled = assemble(handler);\n          var purpose = tuples.length > 1 ? filter(eventOrder[eventName], function (o) {\n            return exists(tuples, function (t) {\n              return t.name() === o;\n            });\n          }).join(' > ') : tuples[0].name();\n          return wrap$1(eventName, uncurried(assembled, purpose));\n        });\n      });\n      return consolidate(r, {});\n    };\n\n    var toInfo = function (spec) {\n      return asRaw('custom.definition', objOf([\n        field('dom', 'dom', strict(), objOf([\n          strict$1('tag'),\n          defaulted$1('styles', {}),\n          defaulted$1('classes', []),\n          defaulted$1('attributes', {}),\n          option('value'),\n          option('innerHtml')\n        ])),\n        strict$1('components'),\n        strict$1('uid'),\n        defaulted$1('events', {}),\n        defaulted$1('apis', {}),\n        field('eventOrder', 'eventOrder', mergeWith({\n          'alloy.execute': [\n            'disabling',\n            'alloy.base.behaviour',\n            'toggling',\n            'typeaheadevents'\n          ],\n          'alloy.focus': [\n            'alloy.base.behaviour',\n            'focusing',\n            'keying'\n          ],\n          'alloy.system.init': [\n            'alloy.base.behaviour',\n            'disabling',\n            'toggling',\n            'representing'\n          ],\n          'input': [\n            'alloy.base.behaviour',\n            'representing',\n            'streaming',\n            'invalidating'\n          ],\n          'alloy.system.detached': [\n            'alloy.base.behaviour',\n            'representing',\n            'item-events',\n            'tooltipping'\n          ],\n          'mousedown': [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events'\n          ],\n          'mouseover': [\n            'item-type-events',\n            'tooltipping'\n          ]\n        }), anyValue$1()),\n        option('domModification')\n      ]), spec);\n    };\n    var toDefinition = function (detail) {\n      return __assign(__assign({}, detail.dom), {\n        uid: detail.uid,\n        domChildren: map(detail.components, function (comp) {\n          return comp.element();\n        })\n      });\n    };\n    var toModification = function (detail) {\n      return detail.domModification.fold(function () {\n        return nu$6({});\n      }, nu$6);\n    };\n    var toEvents = function (info) {\n      return info.events;\n    };\n\n    var read$2 = function (element, attr) {\n      var value = get$2(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    var add = function (element, attr, id) {\n      var old = read$2(element, attr);\n      var nu = old.concat([id]);\n      set$1(element, attr, nu.join(' '));\n      return true;\n    };\n    var remove$2 = function (element, attr, id) {\n      var nu = filter(read$2(element, attr), function (v) {\n        return v !== id;\n      });\n      if (nu.length > 0) {\n        set$1(element, attr, nu.join(' '));\n      } else {\n        remove$1(element, attr);\n      }\n      return false;\n    };\n\n    var supports = function (element) {\n      return element.dom().classList !== undefined;\n    };\n    var get$3 = function (element) {\n      return read$2(element, 'class');\n    };\n    var add$1 = function (element, clazz) {\n      return add(element, 'class', clazz);\n    };\n    var remove$3 = function (element, clazz) {\n      return remove$2(element, 'class', clazz);\n    };\n\n    var add$2 = function (element, clazz) {\n      if (supports(element)) {\n        element.dom().classList.add(clazz);\n      } else {\n        add$1(element, clazz);\n      }\n    };\n    var cleanClass = function (element) {\n      var classList = supports(element) ? element.dom().classList : get$3(element);\n      if (classList.length === 0) {\n        remove$1(element, 'class');\n      }\n    };\n    var remove$4 = function (element, clazz) {\n      if (supports(element)) {\n        var classList = element.dom().classList;\n        classList.remove(clazz);\n      } else {\n        remove$3(element, clazz);\n      }\n      cleanClass(element);\n    };\n    var has$2 = function (element, clazz) {\n      return supports(element) && element.dom().classList.contains(clazz);\n    };\n\n    var add$3 = function (element, classes) {\n      each(classes, function (x) {\n        add$2(element, x);\n      });\n    };\n    var remove$5 = function (element, classes) {\n      each(classes, function (x) {\n        remove$4(element, x);\n      });\n    };\n\n    var isSupported = function (dom) {\n      return dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n    };\n\n    var internalSet = function (dom, property, value) {\n      if (!isString(value)) {\n        domGlobals.console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    var internalRemove = function (dom, property) {\n      if (isSupported(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    var set$2 = function (element, property, value) {\n      var dom = element.dom();\n      internalSet(dom, property, value);\n    };\n    var setAll$1 = function (element, css) {\n      var dom = element.dom();\n      each$1(css, function (v, k) {\n        internalSet(dom, k, v);\n      });\n    };\n    var setOptions = function (element, css) {\n      var dom = element.dom();\n      each$1(css, function (v, k) {\n        v.fold(function () {\n          internalRemove(dom, k);\n        }, function (value) {\n          internalSet(dom, k, value);\n        });\n      });\n    };\n    var get$4 = function (element, property) {\n      var dom = element.dom();\n      var styles = domGlobals.window.getComputedStyle(dom);\n      var r = styles.getPropertyValue(property);\n      var v = r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n      return v === null ? undefined : v;\n    };\n    var getUnsafeProperty = function (dom, property) {\n      return isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n    };\n    var getRaw = function (element, property) {\n      var dom = element.dom();\n      var raw = getUnsafeProperty(dom, property);\n      return Option.from(raw).filter(function (r) {\n        return r.length > 0;\n      });\n    };\n    var isValidValue = function (tag, property, value) {\n      var element = Element.fromTag(tag);\n      set$2(element, property, value);\n      var style = getRaw(element, property);\n      return style.isSome();\n    };\n    var remove$6 = function (element, property) {\n      var dom = element.dom();\n      internalRemove(dom, property);\n      if (has$1(element, 'style') && trim(get$2(element, 'style')) === '') {\n        remove$1(element, 'style');\n      }\n    };\n    var reflow = function (e) {\n      return e.dom().offsetWidth;\n    };\n\n    var get$5 = function (element) {\n      return element.dom().value;\n    };\n    var set$3 = function (element, value) {\n      if (value === undefined) {\n        throw new Error('Value.set was undefined');\n      }\n      element.dom().value = value;\n    };\n\n    var renderToDom = function (definition) {\n      var subject = Element.fromTag(definition.tag);\n      setAll(subject, definition.attributes);\n      add$3(subject, definition.classes);\n      setAll$1(subject, definition.styles);\n      definition.innerHtml.each(function (html) {\n        return set(subject, html);\n      });\n      var children = definition.domChildren;\n      append$1(subject, children);\n      definition.value.each(function (value) {\n        set$3(subject, value);\n      });\n      if (!definition.uid) {\n        debugger;\n      }\n      writeOnly(subject, definition.uid);\n      return subject;\n    };\n\n    var getBehaviours$1 = function (spec) {\n      var behaviours = readOr$1('behaviours', {})(spec);\n      var keys$1 = filter(keys(behaviours), function (k) {\n        return behaviours[k] !== undefined;\n      });\n      return map(keys$1, function (k) {\n        return behaviours[k].me;\n      });\n    };\n    var generateFrom$1 = function (spec, all) {\n      return generateFrom(spec, all);\n    };\n    var generate$3 = function (spec) {\n      var all = getBehaviours$1(spec);\n      return generateFrom$1(spec, all);\n    };\n\n    var getDomDefinition = function (info, bList, bData) {\n      var definition = toDefinition(info);\n      var infoModification = toModification(info);\n      var baseModification = { 'alloy.base.modification': infoModification };\n      var modification = bList.length > 0 ? combine(bData, baseModification, bList, definition) : infoModification;\n      return merge$1(definition, modification);\n    };\n    var getEvents = function (info, bList, bData) {\n      var baseEvents = { 'alloy.base.behaviour': toEvents(info) };\n      return combine$1(bData, info.eventOrder, bList, baseEvents).getOrDie();\n    };\n    var build = function (spec) {\n      var getMe = function () {\n        return me;\n      };\n      var systemApi = Cell(singleton);\n      var info = getOrDie(toInfo(spec));\n      var bBlob = generate$3(spec);\n      var bList = getBehaviours(bBlob);\n      var bData = getData(bBlob);\n      var modDefinition = getDomDefinition(info, bList, bData);\n      var item = renderToDom(modDefinition);\n      var events = getEvents(info, bList, bData);\n      var subcomponents = Cell(info.components);\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(getMe));\n      };\n      var syncComponents = function () {\n        var children$1 = children(item);\n        var subs = bind(children$1, function (child) {\n          return systemApi.get().getByDom(child).fold(function () {\n            return [];\n          }, function (c) {\n            return [c];\n          });\n        });\n        subcomponents.set(subs);\n      };\n      var config = function (behaviour) {\n        var b = bData;\n        var f = isFunction(b[behaviour.name()]) ? b[behaviour.name()] : function () {\n          throw new Error('Could not find ' + behaviour.name() + ' in ' + JSON.stringify(spec, null, 2));\n        };\n        return f();\n      };\n      var hasConfigured = function (behaviour) {\n        return isFunction(bData[behaviour.name()]);\n      };\n      var getApis = function () {\n        return info.apis;\n      };\n      var readState = function (behaviourName) {\n        return bData[behaviourName]().map(function (b) {\n          return b.state.readState();\n        }).getOr('not enabled');\n      };\n      var me = {\n        getSystem: systemApi.get,\n        config: config,\n        hasConfigured: hasConfigured,\n        spec: constant(spec),\n        readState: readState,\n        getApis: getApis,\n        connect: connect,\n        disconnect: disconnect,\n        element: constant(item),\n        syncComponents: syncComponents,\n        components: subcomponents.get,\n        events: constant(events)\n      };\n      return me;\n    };\n\n    var buildSubcomponents = function (spec) {\n      var components = readOr$1('components', [])(spec);\n      return map(components, build$1);\n    };\n    var buildFromSpec = function (userSpec) {\n      var _a = make(userSpec), specEvents = _a.events, spec = __rest(_a, ['events']);\n      var components = buildSubcomponents(spec);\n      var completeSpec = __assign(__assign({}, spec), {\n        events: __assign(__assign({}, DefaultEvents), specEvents),\n        components: components\n      });\n      return Result.value(build(completeSpec));\n    };\n    var text = function (textContent) {\n      var element = Element.fromText(textContent);\n      return external({ element: element });\n    };\n    var external = function (spec) {\n      var extSpec = asRawOrDie('external.component', objOfOnly([\n        strict$1('element'),\n        option('uid')\n      ]), spec);\n      var systemApi = Cell(NoContextApi());\n      var connect = function (newApi) {\n        systemApi.set(newApi);\n      };\n      var disconnect = function () {\n        systemApi.set(NoContextApi(function () {\n          return me;\n        }));\n      };\n      extSpec.uid.each(function (uid) {\n        writeOnly(extSpec.element, uid);\n      });\n      var me = {\n        getSystem: systemApi.get,\n        config: Option.none,\n        hasConfigured: constant(false),\n        connect: connect,\n        disconnect: disconnect,\n        getApis: function () {\n          return {};\n        },\n        element: constant(extSpec.element),\n        spec: constant(spec),\n        readState: constant('No state'),\n        syncComponents: noop,\n        components: constant([]),\n        events: constant({})\n      };\n      return premade(me);\n    };\n    var uids = generate$2;\n    var build$1 = function (spec) {\n      return getPremade(spec).fold(function () {\n        var userSpecWithUid = spec.hasOwnProperty('uid') ? spec : __assign({ uid: uids('') }, spec);\n        return buildFromSpec(userSpecWithUid).getOrDie();\n      }, function (prebuilt) {\n        return prebuilt;\n      });\n    };\n    var premade$1 = premade;\n\n    function Dimension (name, getOffset) {\n      var set = function (element, h) {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        var dom = element.dom();\n        if (isSupported(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      var get = function (element) {\n        var r = getOffset(element);\n        if (r <= 0 || r === null) {\n          var css = get$4(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      var getOuter = get;\n      var aggregate = function (element, properties) {\n        return foldl(properties, function (acc, property) {\n          var val = get$4(element, property);\n          var value = val === undefined ? 0 : parseInt(val, 10);\n          return isNaN(value) ? acc : acc + value;\n        }, 0);\n      };\n      var max = function (element, value, properties) {\n        var cumulativeInclusions = aggregate(element, properties);\n        var absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set: set,\n        get: get,\n        getOuter: getOuter,\n        aggregate: aggregate,\n        max: max\n      };\n    }\n\n    var api = Dimension('height', function (element) {\n      var dom = element.dom();\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    var get$6 = function (element) {\n      return api.get(element);\n    };\n    var getOuter$1 = function (element) {\n      return api.getOuter(element);\n    };\n    var setMax = function (element, value) {\n      var inclusions = [\n        'margin-top',\n        'border-top-width',\n        'padding-top',\n        'padding-bottom',\n        'border-bottom-width',\n        'margin-bottom'\n      ];\n      var absMax = api.max(element, value, inclusions);\n      set$2(element, 'max-height', absMax + 'px');\n    };\n\n    var r = function (left, top) {\n      var translate = function (x, y) {\n        return r(left + x, top + y);\n      };\n      return {\n        left: constant(left),\n        top: constant(top),\n        translate: translate\n      };\n    };\n    var Position = r;\n\n    var boxPosition = function (dom) {\n      var box = dom.getBoundingClientRect();\n      return Position(box.left, box.top);\n    };\n    var firstDefinedOrZero = function (a, b) {\n      return a !== undefined ? a : b !== undefined ? b : 0;\n    };\n    var absolute = function (element) {\n      var doc = element.dom().ownerDocument;\n      var body = doc.body;\n      var win = doc.defaultView;\n      var html = doc.documentElement;\n      if (body === element.dom()) {\n        return Position(body.offsetLeft, body.offsetTop);\n      }\n      var scrollTop = firstDefinedOrZero(win.pageYOffset, html.scrollTop);\n      var scrollLeft = firstDefinedOrZero(win.pageXOffset, html.scrollLeft);\n      var clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      var clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    var viewport = function (element) {\n      var dom = element.dom();\n      var doc = dom.ownerDocument;\n      var body = doc.body;\n      if (body === dom) {\n        return Position(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return Position(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    var api$1 = Dimension('width', function (element) {\n      return element.dom().offsetWidth;\n    });\n    var set$4 = function (element, h) {\n      api$1.set(element, h);\n    };\n    var get$7 = function (element) {\n      return api$1.get(element);\n    };\n    var getOuter$2 = function (element) {\n      return api$1.getOuter(element);\n    };\n    var setMax$1 = function (element, value) {\n      var inclusions = [\n        'margin-left',\n        'border-left-width',\n        'padding-left',\n        'padding-right',\n        'border-right-width',\n        'margin-right'\n      ];\n      var absMax = api$1.max(element, value, inclusions);\n      set$2(element, 'max-width', absMax + 'px');\n    };\n\n    var isSafari = detect$3().browser.isSafari();\n    var get$8 = function (_DOC) {\n      var doc = _DOC !== undefined ? _DOC.dom() : domGlobals.document;\n      var x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      var y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return Position(x, y);\n    };\n\n    var bounds = function (x, y, width, height) {\n      return {\n        x: constant(x),\n        y: constant(y),\n        width: constant(width),\n        height: constant(height),\n        right: constant(x + width),\n        bottom: constant(y + height)\n      };\n    };\n    var getBounds = function (_win) {\n      var win = _win === undefined ? domGlobals.window : _win;\n      var visualViewport = win['visualViewport'];\n      if (visualViewport !== undefined) {\n        return bounds(visualViewport.pageLeft, visualViewport.pageTop, visualViewport.width, visualViewport.height);\n      } else {\n        var doc = Element.fromDom(win.document);\n        var html = win.document.documentElement;\n        var scroll = get$8(doc);\n        var width = html.clientWidth;\n        var height = html.clientHeight;\n        return bounds(scroll.left(), scroll.top(), width, height);\n      }\n    };\n\n    var walkUp = function (navigation, doc) {\n      var frame = navigation.view(doc);\n      return frame.fold(constant([]), function (f) {\n        var parent = navigation.owner(f);\n        var rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    var pathTo = function (element, navigation) {\n      var d = navigation.owner(element);\n      var paths = walkUp(navigation, d);\n      return Option.some(paths);\n    };\n\n    var view = function (doc) {\n      var element = doc.dom() === domGlobals.document ? Option.none() : Option.from(doc.dom().defaultView.frameElement);\n      return element.map(Element.fromDom);\n    };\n    var owner$1 = function (element) {\n      return owner(element);\n    };\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        view: view,\n        owner: owner$1\n    });\n\n    var find$3 = function (element) {\n      var doc = Element.fromDom(domGlobals.document);\n      var scroll = get$8(doc);\n      var path = pathTo(element, Navigation);\n      return path.fold(curry(absolute, element), function (frames) {\n        var offset = viewport(element);\n        var r = foldr(frames, function (b, a) {\n          var loc = viewport(a);\n          return {\n            left: b.left + loc.left(),\n            top: b.top + loc.top()\n          };\n        }, {\n          left: 0,\n          top: 0\n        });\n        return Position(r.left + offset.left() + scroll.left(), r.top + offset.top() + scroll.top());\n      });\n    };\n\n    var pointed = Immutable('point', 'width', 'height');\n    var rect = Immutable('x', 'y', 'width', 'height');\n    var bounds$1 = function (x, y, width, height) {\n      return {\n        x: constant(x),\n        y: constant(y),\n        width: constant(width),\n        height: constant(height),\n        right: constant(x + width),\n        bottom: constant(y + height)\n      };\n    };\n    var box = function (element) {\n      var xy = absolute(element);\n      var w = getOuter$2(element);\n      var h = getOuter$1(element);\n      return bounds$1(xy.left(), xy.top(), w, h);\n    };\n    var absolute$1 = function (element) {\n      var position = find$3(element);\n      var width = getOuter$2(element);\n      var height = getOuter$1(element);\n      return bounds$1(position.left(), position.top(), width, height);\n    };\n    var win = function () {\n      return getBounds(domGlobals.window);\n    };\n\n    var closest$2 = function (scope, predicate, isRoot) {\n      return closest(scope, predicate, isRoot).isSome();\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return ancestor(scope, function (e) {\n        return is(e, selector);\n      }, isRoot);\n    };\n    var descendant$1 = function (scope, selector) {\n      return one(selector, scope);\n    };\n    var closest$3 = function (scope, selector, isRoot) {\n      return ClosestOrAncestor(is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var find$4 = function (queryElem) {\n      var dependent = closest(queryElem, function (elem) {\n        if (!isElement(elem)) {\n          return false;\n        }\n        var id = get$2(elem, 'id');\n        return id !== undefined && id.indexOf('aria-owns') > -1;\n      });\n      return dependent.bind(function (dep) {\n        var id = get$2(dep, 'id');\n        var doc = owner(dep);\n        return descendant$1(doc, '[aria-owns=\"' + id + '\"]');\n      });\n    };\n    var manager = function () {\n      var ariaId = generate$1('aria-owns');\n      var link = function (elem) {\n        set$1(elem, 'aria-owns', ariaId);\n      };\n      var unlink = function (elem) {\n        remove$1(elem, 'aria-owns');\n      };\n      return {\n        id: constant(ariaId),\n        link: link,\n        unlink: unlink\n      };\n    };\n\n    var isAriaPartOf = function (component, queryElem) {\n      return find$4(queryElem).exists(function (owner) {\n        return isPartOf(component, owner);\n      });\n    };\n    var isPartOf = function (component, queryElem) {\n      return closest$2(queryElem, function (el) {\n        return eq(el, component.element());\n      }, constant(false)) || isAriaPartOf(component, queryElem);\n    };\n\n    var cat = function (arr) {\n      var r = [];\n      var push = function (x) {\n        r.push(x);\n      };\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    var sequence = function (arr) {\n      var r = [];\n      for (var i = 0; i < arr.length; i++) {\n        var x = arr[i];\n        if (x.isSome()) {\n          r.push(x.getOrDie());\n        } else {\n          return Option.none();\n        }\n      }\n      return Option.some(r);\n    };\n    var findMap = function (arr, f) {\n      for (var i = 0; i < arr.length; i++) {\n        var r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Option.none();\n    };\n    var lift2 = function (oa, ob, f) {\n      return oa.isSome() && ob.isSome() ? Option.some(f(oa.getOrDie(), ob.getOrDie())) : Option.none();\n    };\n\n    var unknown$3 = 'unknown';\n    var EventConfiguration;\n    (function (EventConfiguration) {\n      EventConfiguration[EventConfiguration['STOP'] = 0] = 'STOP';\n      EventConfiguration[EventConfiguration['NORMAL'] = 1] = 'NORMAL';\n      EventConfiguration[EventConfiguration['LOGGING'] = 2] = 'LOGGING';\n    }(EventConfiguration || (EventConfiguration = {})));\n    var eventConfig = Cell({});\n    var makeEventLogger = function (eventName, initialTarget) {\n      var sequence = [];\n      var startTime = new Date().getTime();\n      return {\n        logEventCut: function (name, target, purpose) {\n          sequence.push({\n            outcome: 'cut',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventStopped: function (name, target, purpose) {\n          sequence.push({\n            outcome: 'stopped',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logNoParent: function (name, target, purpose) {\n          sequence.push({\n            outcome: 'no-parent',\n            target: target,\n            purpose: purpose\n          });\n        },\n        logEventNoHandlers: function (name, target) {\n          sequence.push({\n            outcome: 'no-handlers-left',\n            target: target\n          });\n        },\n        logEventResponse: function (name, target, purpose) {\n          sequence.push({\n            outcome: 'response',\n            purpose: purpose,\n            target: target\n          });\n        },\n        write: function () {\n          var finishTime = new Date().getTime();\n          if (contains([\n              'mousemove',\n              'mouseover',\n              'mouseout',\n              systemInit()\n            ], eventName)) {\n            return;\n          }\n          domGlobals.console.log(eventName, {\n            event: eventName,\n            time: finishTime - startTime,\n            target: initialTarget.dom(),\n            sequence: map(sequence, function (s) {\n              if (!contains([\n                  'cut',\n                  'stopped',\n                  'response'\n                ], s.outcome)) {\n                return s.outcome;\n              } else {\n                return '{' + s.purpose + '} ' + s.outcome + ' at (' + element(s.target) + ')';\n              }\n            })\n          });\n        }\n      };\n    };\n    var processEvent = function (eventName, initialTarget, f) {\n      var status = readOptFrom$1(eventConfig.get(), eventName).orThunk(function () {\n        var patterns = keys(eventConfig.get());\n        return findMap(patterns, function (p) {\n          return eventName.indexOf(p) > -1 ? Option.some(eventConfig.get()[p]) : Option.none();\n        });\n      }).getOr(EventConfiguration.NORMAL);\n      switch (status) {\n      case EventConfiguration.NORMAL:\n        return f(noLogger());\n      case EventConfiguration.LOGGING: {\n          var logger = makeEventLogger(eventName, initialTarget);\n          var output = f(logger);\n          logger.write();\n          return output;\n        }\n      case EventConfiguration.STOP:\n        return true;\n      }\n    };\n    var path = [\n      'alloy/data/Fields',\n      'alloy/debugging/Debugging'\n    ];\n    var getTrace = function () {\n      var err = new Error();\n      if (err.stack !== undefined) {\n        var lines = err.stack.split('\\n');\n        return find(lines, function (line) {\n          return line.indexOf('alloy') > 0 && !exists(path, function (p) {\n            return line.indexOf(p) > -1;\n          });\n        }).getOr(unknown$3);\n      } else {\n        return unknown$3;\n      }\n    };\n    var ignoreEvent = {\n      logEventCut: noop,\n      logEventStopped: noop,\n      logNoParent: noop,\n      logEventNoHandlers: noop,\n      logEventResponse: noop,\n      write: noop\n    };\n    var monitorEvent = function (eventName, initialTarget, f) {\n      return processEvent(eventName, initialTarget, f);\n    };\n    var noLogger = constant(ignoreEvent);\n\n    var menuFields = constant([\n      strict$1('menu'),\n      strict$1('selectedMenu')\n    ]);\n    var itemFields = constant([\n      strict$1('item'),\n      strict$1('selectedItem')\n    ]);\n    var schema = constant(objOf(itemFields().concat(menuFields())));\n    var itemSchema = constant(objOf(itemFields()));\n\n    var _initSize = strictObjOf('initSize', [\n      strict$1('numColumns'),\n      strict$1('numRows')\n    ]);\n    var itemMarkers = function () {\n      return strictOf('markers', itemSchema());\n    };\n    var tieredMenuMarkers = function () {\n      return strictObjOf('markers', [strict$1('backgroundMenu')].concat(menuFields()).concat(itemFields()));\n    };\n    var markers = function (required) {\n      return strictObjOf('markers', map(required, strict$1));\n    };\n    var onPresenceHandler = function (label, fieldName, presence) {\n      var trace = getTrace();\n      return field(fieldName, fieldName, presence, valueOf(function (f) {\n        return Result.value(function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          return f.apply(undefined, args);\n        });\n      }));\n    };\n    var onHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, defaulted(noop));\n    };\n    var onKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, defaulted(Option.none));\n    };\n    var onStrictHandler = function (fieldName) {\n      return onPresenceHandler('onHandler', fieldName, strict());\n    };\n    var onStrictKeyboardHandler = function (fieldName) {\n      return onPresenceHandler('onKeyboardHandler', fieldName, strict());\n    };\n    var output = function (name, value) {\n      return state$1(name, constant(value));\n    };\n    var snapshot = function (name) {\n      return state$1(name, identity);\n    };\n    var initSize = constant(_initSize);\n\n    var nu$7 = Immutable('x', 'y', 'bubble', 'direction', 'label');\n\n    var adt$2 = Adt.generate([\n      { southeast: [] },\n      { southwest: [] },\n      { northeast: [] },\n      { northwest: [] },\n      { south: [] },\n      { north: [] },\n      { east: [] },\n      { west: [] }\n    ]);\n    var cata = function (subject, southeast, southwest, northeast, northwest, south, north, east, west) {\n      return subject.fold(southeast, southwest, northeast, northwest, south, north, east, west);\n    };\n    var cataVertical = function (subject, south, middle, north) {\n      return subject.fold(south, south, north, north, south, north, middle, middle);\n    };\n    var cataHorizontal = function (subject, east, middle, west) {\n      return subject.fold(east, west, east, west, middle, middle, east, west);\n    };\n    var southeast = adt$2.southeast;\n    var southwest = adt$2.southwest;\n    var northeast = adt$2.northeast;\n    var northwest = adt$2.northwest;\n    var south = adt$2.south;\n    var north = adt$2.north;\n    var east = adt$2.east;\n    var west = adt$2.west;\n\n    var eastX = function (anchor) {\n      return anchor.x();\n    };\n    var middleX = function (anchor, element) {\n      return anchor.x() + anchor.width() / 2 - element.width() / 2;\n    };\n    var westX = function (anchor, element) {\n      return anchor.x() + anchor.width() - element.width();\n    };\n    var northY = function (anchor, element) {\n      return anchor.y() - element.height();\n    };\n    var southY = function (anchor) {\n      return anchor.y() + anchor.height();\n    };\n    var centreY = function (anchor, element) {\n      return anchor.y() + anchor.height() / 2 - element.height() / 2;\n    };\n    var eastEdgeX = function (anchor) {\n      return anchor.x() + anchor.width();\n    };\n    var westEdgeX = function (anchor, element) {\n      return anchor.x() - element.width();\n    };\n    var southeast$1 = function (anchor, element, bubbles) {\n      return nu$7(eastX(anchor), southY(anchor), bubbles.southeast(), southeast(), 'layout-se');\n    };\n    var southwest$1 = function (anchor, element, bubbles) {\n      return nu$7(westX(anchor, element), southY(anchor), bubbles.southwest(), southwest(), 'layout-sw');\n    };\n    var northeast$1 = function (anchor, element, bubbles) {\n      return nu$7(eastX(anchor), northY(anchor, element), bubbles.northeast(), northeast(), 'layout-ne');\n    };\n    var northwest$1 = function (anchor, element, bubbles) {\n      return nu$7(westX(anchor, element), northY(anchor, element), bubbles.northwest(), northwest(), 'layout-nw');\n    };\n    var north$1 = function (anchor, element, bubbles) {\n      return nu$7(middleX(anchor, element), northY(anchor, element), bubbles.north(), north(), 'layout-n');\n    };\n    var south$1 = function (anchor, element, bubbles) {\n      return nu$7(middleX(anchor, element), southY(anchor), bubbles.south(), south(), 'layout-s');\n    };\n    var east$1 = function (anchor, element, bubbles) {\n      return nu$7(eastEdgeX(anchor), centreY(anchor, element), bubbles.east(), east(), 'layout-e');\n    };\n    var west$1 = function (anchor, element, bubbles) {\n      return nu$7(westEdgeX(anchor, element), centreY(anchor, element), bubbles.west(), west(), 'layout-w');\n    };\n    var all$2 = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1,\n        south$1,\n        north$1,\n        east$1,\n        west$1\n      ];\n    };\n    var allRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1,\n        south$1,\n        north$1,\n        east$1,\n        west$1\n      ];\n    };\n    var belowOrAbove = function () {\n      return [\n        southeast$1,\n        southwest$1,\n        northeast$1,\n        northwest$1,\n        south$1,\n        north$1\n      ];\n    };\n    var belowOrAboveRtl = function () {\n      return [\n        southwest$1,\n        southeast$1,\n        northwest$1,\n        northeast$1,\n        south$1,\n        north$1\n      ];\n    };\n\n    var executeEvent = function (bConfig, bState, executor) {\n      return runOnExecute(function (component) {\n        executor(component, bConfig, bState);\n      });\n    };\n    var loadEvent = function (bConfig, bState, f) {\n      return runOnInit(function (component, simulatedEvent) {\n        f(component, bConfig, bState);\n      });\n    };\n    var create = function (schema, name, active, apis, extra, state) {\n      var configSchema = objOfOnly(schema);\n      var schemaSchema = optionObjOf(name, [optionObjOfOnly('config', schema)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var createModes = function (modes, name, active, apis, extra, state) {\n      var configSchema = modes;\n      var schemaSchema = optionObjOf(name, [optionOf('config', modes)]);\n      return doCreate(configSchema, schemaSchema, name, active, apis, extra, state);\n    };\n    var wrapApi = function (bName, apiFunction, apiName) {\n      var f = function (component) {\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n          rest[_i - 1] = arguments[_i];\n        }\n        var args = [component].concat(rest);\n        return component.config({ name: constant(bName) }).fold(function () {\n          throw new Error('We could not find any behaviour configuration for: ' + bName + '. Using API: ' + apiName);\n        }, function (info) {\n          var rest = Array.prototype.slice.call(args, 1);\n          return apiFunction.apply(undefined, [\n            component,\n            info.config,\n            info.state\n          ].concat(rest));\n        });\n      };\n      return markAsBehaviourApi(f, apiName, apiFunction);\n    };\n    var revokeBehaviour = function (name) {\n      return {\n        key: name,\n        value: undefined\n      };\n    };\n    var doCreate = function (configSchema, schemaSchema, name, active, apis, extra, state) {\n      var getConfig = function (info) {\n        return hasKey$1(info, name) ? info[name]() : Option.none();\n      };\n      var wrappedApis = map$1(apis, function (apiF, apiName) {\n        return wrapApi(name, apiF, apiName);\n      });\n      var wrappedExtra = map$1(extra, function (extraF, extraName) {\n        return markAsExtraApi(extraF, extraName);\n      });\n      var me = __assign(__assign(__assign({}, wrappedExtra), wrappedApis), {\n        revoke: curry(revokeBehaviour, name),\n        config: function (spec) {\n          var prepared = asRawOrDie(name + '-config', configSchema, spec);\n          return {\n            key: name,\n            value: {\n              config: prepared,\n              me: me,\n              configAsRaw: cached(function () {\n                return asRawOrDie(name + '-config', configSchema, spec);\n              }),\n              initialConfig: spec,\n              state: state\n            }\n          };\n        },\n        schema: function () {\n          return schemaSchema;\n        },\n        exhibit: function (info, base) {\n          return getConfig(info).bind(function (behaviourInfo) {\n            return readOptFrom$1(active, 'exhibit').map(function (exhibitor) {\n              return exhibitor(base, behaviourInfo.config, behaviourInfo.state);\n            });\n          }).getOr(nu$6({}));\n        },\n        name: function () {\n          return name;\n        },\n        handlers: function (info) {\n          return getConfig(info).map(function (behaviourInfo) {\n            var getEvents = readOr$1('events', function (a, b) {\n              return {};\n            })(active);\n            return getEvents(behaviourInfo.config, behaviourInfo.state);\n          }).getOr({});\n        }\n      });\n      return me;\n    };\n\n    var derive$1 = function (capabilities) {\n      return wrapAll$1(capabilities);\n    };\n    var simpleSchema = objOfOnly([\n      strict$1('fields'),\n      strict$1('name'),\n      defaulted$1('active', {}),\n      defaulted$1('apis', {}),\n      defaulted$1('state', NoState),\n      defaulted$1('extra', {})\n    ]);\n    var create$1 = function (data) {\n      var value = asRawOrDie('Creating behaviour: ' + data.name, simpleSchema, data);\n      return create(value.fields, value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var modeSchema = objOfOnly([\n      strict$1('branchKey'),\n      strict$1('branches'),\n      strict$1('name'),\n      defaulted$1('active', {}),\n      defaulted$1('apis', {}),\n      defaulted$1('state', NoState),\n      defaulted$1('extra', {})\n    ]);\n    var createModes$1 = function (data) {\n      var value = asRawOrDie('Creating behaviour: ' + data.name, modeSchema, data);\n      return createModes(choose$1(value.branchKey, value.branches), value.name, value.active, value.apis, value.extra, value.state);\n    };\n    var revoke = constant(undefined);\n\n    var chooseChannels = function (channels, message) {\n      return message.universal() ? channels : filter(channels, function (ch) {\n        return contains(message.channels(), ch);\n      });\n    };\n    var events$1 = function (receiveConfig) {\n      return derive([run(receive(), function (component, message) {\n          var channelMap = receiveConfig.channels;\n          var channels = keys(channelMap);\n          var targetChannels = chooseChannels(channels, message);\n          each(targetChannels, function (ch) {\n            var channelInfo = channelMap[ch];\n            var channelSchema = channelInfo.schema;\n            var data = asRawOrDie('channel[' + ch + '] data\\nReceiver: ' + element(component.element()), channelSchema, message.data());\n            channelInfo.onReceive(component, data);\n          });\n        })]);\n    };\n\n    var ActiveReceiving = /*#__PURE__*/Object.freeze({\n        events: events$1\n    });\n\n    var ReceivingSchema = [strictOf('channels', setOf$1(Result.value, objOfOnly([\n        onStrictHandler('onReceive'),\n        defaulted$1('schema', anyValue$1())\n      ])))];\n\n    var Receiving = create$1({\n      fields: ReceivingSchema,\n      name: 'receiving',\n      active: ActiveReceiving\n    });\n\n    var exhibit = function (base, posConfig) {\n      return nu$6({\n        classes: [],\n        styles: posConfig.useFixed() ? {} : { position: 'relative' }\n      });\n    };\n\n    var ActivePosition = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit\n    });\n\n    var focus$1 = function (element) {\n      element.dom().focus();\n    };\n    var blur = function (element) {\n      element.dom().blur();\n    };\n    var hasFocus = function (element) {\n      var doc = owner(element).dom();\n      return element.dom() === doc.activeElement;\n    };\n    var active = function (_doc) {\n      var doc = _doc !== undefined ? _doc.dom() : domGlobals.document;\n      return Option.from(doc.activeElement).map(Element.fromDom);\n    };\n    var search = function (element) {\n      return active(owner(element)).filter(function (e) {\n        return element.dom().contains(e.dom());\n      });\n    };\n\n    var preserve = function (f, container) {\n      var ownerDoc = owner(container);\n      var refocus = active(ownerDoc).bind(function (focused) {\n        var hasFocus = function (elem) {\n          return eq(focused, elem);\n        };\n        return hasFocus(container) ? Option.some(container) : descendant(container, hasFocus);\n      });\n      var result = f(container);\n      refocus.each(function (oldFocus) {\n        active(ownerDoc).filter(function (newFocus) {\n          return eq(newFocus, oldFocus);\n        }).fold(function () {\n          focus$1(oldFocus);\n        }, noop);\n      });\n      return result;\n    };\n\n    var allAlignments = [\n      'valignCentre',\n      'alignLeft',\n      'alignRight',\n      'alignCentre',\n      'top',\n      'bottom',\n      'left',\n      'right'\n    ];\n    var nu$8 = function (width, yoffset, classes) {\n      var getClasses = function (prop) {\n        return readOptFrom$1(classes, prop).getOr([]);\n      };\n      var make = function (xDelta, yDelta, alignmentsOn) {\n        var alignmentsOff = difference(allAlignments, alignmentsOn);\n        return {\n          offset: function () {\n            return Position(xDelta, yDelta);\n          },\n          classesOn: function () {\n            return bind(alignmentsOn, getClasses);\n          },\n          classesOff: function () {\n            return bind(alignmentsOff, getClasses);\n          }\n        };\n      };\n      return {\n        southeast: function () {\n          return make(-width, yoffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        southwest: function () {\n          return make(width, yoffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        south: function () {\n          return make(-width / 2, yoffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        northeast: function () {\n          return make(-width, -yoffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        northwest: function () {\n          return make(width, -yoffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        north: function () {\n          return make(-width / 2, -yoffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        east: function () {\n          return make(width, -yoffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        },\n        west: function () {\n          return make(-width, -yoffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        innerNorthwest: function () {\n          return make(-width, yoffset, [\n            'top',\n            'alignRight'\n          ]);\n        },\n        innerNortheast: function () {\n          return make(width, yoffset, [\n            'top',\n            'alignLeft'\n          ]);\n        },\n        innerNorth: function () {\n          return make(-width / 2, yoffset, [\n            'top',\n            'alignCentre'\n          ]);\n        },\n        innerSouthwest: function () {\n          return make(-width, -yoffset, [\n            'bottom',\n            'alignRight'\n          ]);\n        },\n        innerSoutheast: function () {\n          return make(width, -yoffset, [\n            'bottom',\n            'alignLeft'\n          ]);\n        },\n        innerSouth: function () {\n          return make(-width / 2, -yoffset, [\n            'bottom',\n            'alignCentre'\n          ]);\n        },\n        innerWest: function () {\n          return make(width, -yoffset / 2, [\n            'valignCentre',\n            'right'\n          ]);\n        },\n        innerEast: function () {\n          return make(-width, -yoffset / 2, [\n            'valignCentre',\n            'left'\n          ]);\n        }\n      };\n    };\n    var fallback = function () {\n      return nu$8(0, 0, {});\n    };\n\n    var decision = MixedBag([\n      'x',\n      'y',\n      'width',\n      'height',\n      'maxHeight',\n      'maxWidth',\n      'direction',\n      'classes',\n      'label',\n      'candidateYforTest'\n    ], []);\n    var css = Immutable('position', 'left', 'top', 'right', 'bottom');\n\n    var adt$3 = Adt.generate([\n      { none: [] },\n      {\n        relative: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y',\n          'width',\n          'height'\n        ]\n      }\n    ]);\n    var positionWithDirection = function (posName, decision, x, y, width, height) {\n      var decisionX = decision.x() - x;\n      var decisionY = decision.y() - y;\n      var decisionWidth = decision.width();\n      var decisionHeight = decision.height();\n      var decisionRight = width - (decisionX + decisionWidth);\n      var decisionBottom = height - (decisionY + decisionHeight);\n      var left = Option.some(decisionX);\n      var top = Option.some(decisionY);\n      var right = Option.some(decisionRight);\n      var bottom = Option.some(decisionBottom);\n      var none = Option.none();\n      return cata(decision.direction(), function () {\n        return css(posName, left, top, none, none);\n      }, function () {\n        return css(posName, none, top, right, none);\n      }, function () {\n        return css(posName, left, none, none, bottom);\n      }, function () {\n        return css(posName, none, none, right, bottom);\n      }, function () {\n        return css(posName, left, top, none, none);\n      }, function () {\n        return css(posName, left, none, none, bottom);\n      }, function () {\n        return css(posName, left, top, none, none);\n      }, function () {\n        return css(posName, none, top, right, none);\n      });\n    };\n    var reposition = function (origin, decision) {\n      return origin.fold(function () {\n        return css('absolute', Option.some(decision.x()), Option.some(decision.y()), Option.none(), Option.none());\n      }, function (x, y, width, height) {\n        return positionWithDirection('absolute', decision, x, y, width, height);\n      }, function (x, y, width, height) {\n        return positionWithDirection('fixed', decision, x, y, width, height);\n      });\n    };\n    var toBox = function (origin, element) {\n      var rel = curry(find$3, element);\n      var position = origin.fold(rel, rel, function () {\n        var scroll = get$8();\n        return find$3(element).translate(-scroll.left(), -scroll.top());\n      });\n      var width = getOuter$2(element);\n      var height = getOuter$1(element);\n      return bounds$1(position.left(), position.top(), width, height);\n    };\n    var viewport$1 = function (origin, getBounds) {\n      return getBounds.fold(function () {\n        return origin.fold(win, win, bounds$1);\n      }, function (b) {\n        return origin.fold(b, b, function () {\n          var bounds = b();\n          var pos = translate(origin, bounds.x(), bounds.y());\n          return bounds$1(pos.left(), pos.top(), bounds.width(), bounds.height());\n        });\n      });\n    };\n    var translate = function (origin, x, y) {\n      var pos = Position(x, y);\n      var removeScroll = function () {\n        var outerScroll = get$8();\n        return pos.translate(-outerScroll.left(), -outerScroll.top());\n      };\n      return origin.fold(constant(pos), constant(pos), removeScroll);\n    };\n    var cata$1 = function (subject, onNone, onRelative, onFixed) {\n      return subject.fold(onNone, onRelative, onFixed);\n    };\n    var relative = adt$3.relative;\n    var fixed = adt$3.fixed;\n\n    var nu$9 = function (x) {\n      return x;\n    };\n\n    var onDirection = function (isLtr, isRtl) {\n      return function (element) {\n        return getDirection(element) === 'rtl' ? isRtl : isLtr;\n      };\n    };\n    var getDirection = function (element) {\n      return get$4(element, 'direction') === 'rtl' ? 'rtl' : 'ltr';\n    };\n\n    var schema$1 = function () {\n      return optionObjOf('layouts', [\n        strict$1('onLtr'),\n        strict$1('onRtl')\n      ]);\n    };\n    var get$9 = function (elem, info, defaultLtr, defaultRtl) {\n      var ltr = info.layouts.map(function (ls) {\n        return ls.onLtr(elem);\n      }).getOr(defaultLtr);\n      var rtl = info.layouts.map(function (ls) {\n        return ls.onRtl(elem);\n      }).getOr(defaultRtl);\n      var f = onDirection(ltr, rtl);\n      return f(elem);\n    };\n\n    var placement = function (component, anchorInfo, origin) {\n      var hotspot = anchorInfo.hotspot;\n      var anchorBox = toBox(origin, hotspot.element());\n      var layouts = get$9(component.element(), anchorInfo, belowOrAbove(), belowOrAboveRtl());\n      return Option.some(nu$9({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble.getOr(fallback()),\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Option.none()\n      }));\n    };\n    var HotspotAnchor = [\n      strict$1('hotspot'),\n      option('bubble'),\n      defaulted$1('overrides', {}),\n      schema$1(),\n      output('placement', placement)\n    ];\n\n    var placement$1 = function (component, anchorInfo, origin) {\n      var pos = translate(origin, anchorInfo.x, anchorInfo.y);\n      var anchorBox = bounds$1(pos.left(), pos.top(), anchorInfo.width, anchorInfo.height);\n      var layouts = get$9(component.element(), anchorInfo, all$2(), allRtl());\n      return Option.some(nu$9({\n        anchorBox: anchorBox,\n        bubble: anchorInfo.bubble,\n        overrides: anchorInfo.overrides,\n        layouts: layouts,\n        placer: Option.none()\n      }));\n    };\n    var MakeshiftAnchor = [\n      strict$1('x'),\n      strict$1('y'),\n      defaulted$1('height', 0),\n      defaulted$1('width', 0),\n      defaulted$1('bubble', fallback()),\n      defaulted$1('overrides', {}),\n      schema$1(),\n      output('placement', placement$1)\n    ];\n\n    var zeroWidth = function () {\n      return '\\uFEFF';\n    };\n\n    var create$2 = Immutable('start', 'soffset', 'finish', 'foffset');\n    var SimRange = { create: create$2 };\n\n    var adt$4 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    var cata$2 = function (subject, onBefore, onOn, onAfter) {\n      return subject.fold(onBefore, onOn, onAfter);\n    };\n    var getStart = function (situ) {\n      return situ.fold(identity, identity, identity);\n    };\n    var before$2 = adt$4.before;\n    var on = adt$4.on;\n    var after$1 = adt$4.after;\n    var Situ = {\n      before: before$2,\n      on: on,\n      after: after$1,\n      cata: cata$2,\n      getStart: getStart\n    };\n\n    var adt$5 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var exactFromRange = function (simRange) {\n      return adt$5.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n    };\n    var getStart$1 = function (selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return Element.fromDom(rng.startContainer);\n        },\n        relative: function (startSitu, finishSitu) {\n          return Situ.getStart(startSitu);\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return start;\n        }\n      });\n    };\n    var domRange = adt$5.domRange;\n    var relative$1 = adt$5.relative;\n    var exact = adt$5.exact;\n    var getWin = function (selection) {\n      var start = getStart$1(selection);\n      return defaultView(start);\n    };\n    var range$1 = SimRange.create;\n    var Selection = {\n      domRange: domRange,\n      relative: relative$1,\n      exact: exact,\n      exactFromRange: exactFromRange,\n      getWin: getWin,\n      range: range$1\n    };\n\n    var setStart = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setStartBefore(e.dom());\n      }, function (e, o) {\n        rng.setStart(e.dom(), o);\n      }, function (e) {\n        rng.setStartAfter(e.dom());\n      });\n    };\n    var setFinish = function (rng, situ) {\n      situ.fold(function (e) {\n        rng.setEndBefore(e.dom());\n      }, function (e, o) {\n        rng.setEnd(e.dom(), o);\n      }, function (e) {\n        rng.setEndAfter(e.dom());\n      });\n    };\n    var relativeToNative = function (win, startSitu, finishSitu) {\n      var range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    var exactToNative = function (win, start, soffset, finish, foffset) {\n      var rng = win.document.createRange();\n      rng.setStart(start.dom(), soffset);\n      rng.setEnd(finish.dom(), foffset);\n      return rng;\n    };\n    var toRect = function (rect) {\n      return {\n        left: constant(rect.left),\n        top: constant(rect.top),\n        right: constant(rect.right),\n        bottom: constant(rect.bottom),\n        width: constant(rect.width),\n        height: constant(rect.height)\n      };\n    };\n    var getFirstRect = function (rng) {\n      var rects = rng.getClientRects();\n      var rect = rects.length > 0 ? rects[0] : rng.getBoundingClientRect();\n      return rect.width > 0 || rect.height > 0 ? Option.some(rect).map(toRect) : Option.none();\n    };\n\n    var adt$6 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    var fromRange = function (win, type, range) {\n      return type(Element.fromDom(range.startContainer), range.startOffset, Element.fromDom(range.endContainer), range.endOffset);\n    };\n    var getRanges = function (win, selection) {\n      return selection.match({\n        domRange: function (rng) {\n          return {\n            ltr: constant(rng),\n            rtl: Option.none\n          };\n        },\n        relative: function (startSitu, finishSitu) {\n          return {\n            ltr: cached(function () {\n              return relativeToNative(win, startSitu, finishSitu);\n            }),\n            rtl: cached(function () {\n              return Option.some(relativeToNative(win, finishSitu, startSitu));\n            })\n          };\n        },\n        exact: function (start, soffset, finish, foffset) {\n          return {\n            ltr: cached(function () {\n              return exactToNative(win, start, soffset, finish, foffset);\n            }),\n            rtl: cached(function () {\n              return Option.some(exactToNative(win, finish, foffset, start, soffset));\n            })\n          };\n        }\n      });\n    };\n    var doDiagnose = function (win, ranges) {\n      var rng = ranges.ltr();\n      if (rng.collapsed) {\n        var reversed = ranges.rtl().filter(function (rev) {\n          return rev.collapsed === false;\n        });\n        return reversed.map(function (rev) {\n          return adt$6.rtl(Element.fromDom(rev.endContainer), rev.endOffset, Element.fromDom(rev.startContainer), rev.startOffset);\n        }).getOrThunk(function () {\n          return fromRange(win, adt$6.ltr, rng);\n        });\n      } else {\n        return fromRange(win, adt$6.ltr, rng);\n      }\n    };\n    var diagnose = function (win, selection) {\n      var ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    var asLtrRange = function (win, selection) {\n      var diagnosis = diagnose(win, selection);\n      return diagnosis.match({\n        ltr: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(start.dom(), soffset);\n          rng.setEnd(finish.dom(), foffset);\n          return rng;\n        },\n        rtl: function (start, soffset, finish, foffset) {\n          var rng = win.document.createRange();\n          rng.setStart(finish.dom(), foffset);\n          rng.setEnd(start.dom(), soffset);\n          return rng;\n        }\n      });\n    };\n\n    var searchForPoint = function (rectForOffset, x, y, maxX, length) {\n      if (length === 0) {\n        return 0;\n      } else if (x === maxX) {\n        return length - 1;\n      }\n      var xDelta = maxX;\n      for (var i = 1; i < length; i++) {\n        var rect = rectForOffset(i);\n        var curDeltaX = Math.abs(x - rect.left);\n        if (y <= rect.bottom) {\n          if (y < rect.top || curDeltaX > xDelta) {\n            return i - 1;\n          } else {\n            xDelta = curDeltaX;\n          }\n        }\n      }\n      return 0;\n    };\n    var inRect = function (rect, x, y) {\n      return x >= rect.left && x <= rect.right && y >= rect.top && y <= rect.bottom;\n    };\n\n    function NodeValue (is, name) {\n      var get = function (element) {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      var getOption = function (element) {\n        return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n      };\n      var set = function (element, value) {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom().nodeValue = value;\n      };\n      return {\n        get: get,\n        getOption: getOption,\n        set: set\n      };\n    }\n\n    var api$2 = NodeValue(isText, 'text');\n    var get$a = function (element) {\n      return api$2.get(element);\n    };\n    var getOption = function (element) {\n      return api$2.getOption(element);\n    };\n\n    var locateOffset = function (doc, textnode, x, y, rect) {\n      var rangeForOffset = function (o) {\n        var r = doc.dom().createRange();\n        r.setStart(textnode.dom(), o);\n        r.collapse(true);\n        return r;\n      };\n      var rectForOffset = function (o) {\n        var r = rangeForOffset(o);\n        return r.getBoundingClientRect();\n      };\n      var length = get$a(textnode).length;\n      var offset = searchForPoint(rectForOffset, x, y, rect.right, length);\n      return rangeForOffset(offset);\n    };\n    var locate = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rects = r.getClientRects();\n      var foundRect = findMap(rects, function (rect) {\n        return inRect(rect, x, y) ? Option.some(rect) : Option.none();\n      });\n      return foundRect.map(function (rect) {\n        return locateOffset(doc, node, x, y, rect);\n      });\n    };\n\n    var searchInChildren = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      var nodes = children(node);\n      return findMap(nodes, function (n) {\n        r.selectNode(n.dom());\n        return inRect(r.getBoundingClientRect(), x, y) ? locateNode(doc, n, x, y) : Option.none();\n      });\n    };\n    var locateNode = function (doc, node, x, y) {\n      return isText(node) ? locate(doc, node, x, y) : searchInChildren(doc, node, x, y);\n    };\n    var locate$1 = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locateNode(doc, node, boundedX, boundedY);\n    };\n\n    var getEnd = function (element) {\n      return name(element) === 'img' ? 1 : getOption(element).fold(function () {\n        return children(element).length;\n      }, function (v) {\n        return v.length;\n      });\n    };\n    var NBSP = '\\xA0';\n    var isTextNodeWithCursorPosition = function (el) {\n      return getOption(el).filter(function (text) {\n        return text.trim().length !== 0 || text.indexOf(NBSP) > -1;\n      }).isSome();\n    };\n    var elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    var isCursorPosition = function (elem) {\n      var hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains(elementsWithCursorPosition, name(elem));\n    };\n\n    var first = function (element) {\n      return descendant(element, isCursorPosition);\n    };\n    var last$1 = function (element) {\n      return descendantRtl(element, isCursorPosition);\n    };\n    var descendantRtl = function (scope, predicate) {\n      var descend = function (element) {\n        var children$1 = children(element);\n        for (var i = children$1.length - 1; i >= 0; i--) {\n          var child = children$1[i];\n          if (predicate(child)) {\n            return Option.some(child);\n          }\n          var res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Option.none();\n      };\n      return descend(scope);\n    };\n\n    var COLLAPSE_TO_LEFT = true;\n    var COLLAPSE_TO_RIGHT = false;\n    var getCollapseDirection = function (rect, x) {\n      return x - rect.left < rect.right - x ? COLLAPSE_TO_LEFT : COLLAPSE_TO_RIGHT;\n    };\n    var createCollapsedNode = function (doc, target, collapseDirection) {\n      var r = doc.dom().createRange();\n      r.selectNode(target.dom());\n      r.collapse(collapseDirection);\n      return r;\n    };\n    var locateInElement = function (doc, node, x) {\n      var cursorRange = doc.dom().createRange();\n      cursorRange.selectNode(node.dom());\n      var rect = cursorRange.getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      var f = collapseDirection === COLLAPSE_TO_LEFT ? first : last$1;\n      return f(node).map(function (target) {\n        return createCollapsedNode(doc, target, collapseDirection);\n      });\n    };\n    var locateInEmpty = function (doc, node, x) {\n      var rect = node.dom().getBoundingClientRect();\n      var collapseDirection = getCollapseDirection(rect, x);\n      return Option.some(createCollapsedNode(doc, node, collapseDirection));\n    };\n    var search$1 = function (doc, node, x) {\n      var f = children(node).length === 0 ? locateInEmpty : locateInElement;\n      return f(doc, node, x);\n    };\n\n    var caretPositionFromPoint = function (doc, x, y) {\n      return Option.from(doc.dom().caretPositionFromPoint(x, y)).bind(function (pos) {\n        if (pos.offsetNode === null) {\n          return Option.none();\n        }\n        var r = doc.dom().createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Option.some(r);\n      });\n    };\n    var caretRangeFromPoint = function (doc, x, y) {\n      return Option.from(doc.dom().caretRangeFromPoint(x, y));\n    };\n    var searchTextNodes = function (doc, node, x, y) {\n      var r = doc.dom().createRange();\n      r.selectNode(node.dom());\n      var rect = r.getBoundingClientRect();\n      var boundedX = Math.max(rect.left, Math.min(rect.right, x));\n      var boundedY = Math.max(rect.top, Math.min(rect.bottom, y));\n      return locate$1(doc, node, boundedX, boundedY);\n    };\n    var searchFromPoint = function (doc, x, y) {\n      return Element.fromPoint(doc, x, y).bind(function (elem) {\n        var fallback = function () {\n          return search$1(doc, elem, x);\n        };\n        return children(elem).length === 0 ? fallback() : searchTextNodes(doc, elem, x, y).orThunk(fallback);\n      });\n    };\n    var availableSearch = document.caretPositionFromPoint ? caretPositionFromPoint : document.caretRangeFromPoint ? caretRangeFromPoint : searchFromPoint;\n\n    var descendants = function (scope, selector) {\n      return all(selector, scope);\n    };\n\n    var makeRange = function (start, soffset, finish, foffset) {\n      var doc = owner(start);\n      var rng = doc.dom().createRange();\n      rng.setStart(start.dom(), soffset);\n      rng.setEnd(finish.dom(), foffset);\n      return rng;\n    };\n    var after$2 = function (start, soffset, finish, foffset) {\n      var r = makeRange(start, soffset, finish, foffset);\n      var same = eq(start, finish) && soffset === foffset;\n      return r.collapsed && !same;\n    };\n\n    var readRange = function (selection) {\n      if (selection.rangeCount > 0) {\n        var firstRng = selection.getRangeAt(0);\n        var lastRng = selection.getRangeAt(selection.rangeCount - 1);\n        return Option.some(SimRange.create(Element.fromDom(firstRng.startContainer), firstRng.startOffset, Element.fromDom(lastRng.endContainer), lastRng.endOffset));\n      } else {\n        return Option.none();\n      }\n    };\n    var doGetExact = function (selection) {\n      var anchor = Element.fromDom(selection.anchorNode);\n      var focus = Element.fromDom(selection.focusNode);\n      return after$2(anchor, selection.anchorOffset, focus, selection.focusOffset) ? Option.some(SimRange.create(anchor, selection.anchorOffset, focus, selection.focusOffset)) : readRange(selection);\n    };\n    var getExact = function (win) {\n      return Option.from(win.getSelection()).filter(function (sel) {\n        return sel.rangeCount > 0;\n      }).bind(doGetExact);\n    };\n    var getFirstRect$1 = function (win, selection) {\n      var rng = asLtrRange(win, selection);\n      return getFirstRect(rng);\n    };\n\n    var point = Immutable('element', 'offset');\n    var descendOnce = function (element, offset) {\n      var children$1 = children(element);\n      if (children$1.length === 0) {\n        return point(element, offset);\n      } else if (offset < children$1.length) {\n        return point(children$1[offset], 0);\n      } else {\n        var last = children$1[children$1.length - 1];\n        var len = isText(last) ? get$a(last).length : children(last).length;\n        return point(last, len);\n      }\n    };\n\n    var adt$7 = Adt.generate([\n      { screen: ['point'] },\n      {\n        absolute: [\n          'point',\n          'scrollLeft',\n          'scrollTop'\n        ]\n      }\n    ]);\n    var toFixed = function (pos) {\n      return pos.fold(function (point) {\n        return point;\n      }, function (point, scrollLeft, scrollTop) {\n        return point.translate(-scrollLeft, -scrollTop);\n      });\n    };\n    var toAbsolute = function (pos) {\n      return pos.fold(function (point) {\n        return point;\n      }, function (point, scrollLeft, scrollTop) {\n        return point;\n      });\n    };\n    var sum = function (points) {\n      return foldl(points, function (b, a) {\n        return b.translate(a.left(), a.top());\n      }, Position(0, 0));\n    };\n    var sumAsFixed = function (positions) {\n      var points = map(positions, toFixed);\n      return sum(points);\n    };\n    var sumAsAbsolute = function (positions) {\n      var points = map(positions, toAbsolute);\n      return sum(points);\n    };\n    var screen = adt$7.screen;\n    var absolute$2 = adt$7.absolute;\n\n    var getOffset = function (component, origin, anchorInfo) {\n      var win = defaultView(anchorInfo.root).dom();\n      var hasSameOwner = function (frame) {\n        var frameOwner = owner(frame);\n        var compOwner = owner(component.element());\n        return eq(frameOwner, compOwner);\n      };\n      return Option.from(win.frameElement).map(Element.fromDom).filter(hasSameOwner).map(absolute);\n    };\n    var getRootPoint = function (component, origin, anchorInfo) {\n      var doc = owner(component.element());\n      var outerScroll = get$8(doc);\n      var offset = getOffset(component, origin, anchorInfo).getOr(outerScroll);\n      return absolute$2(offset, outerScroll.left(), outerScroll.top());\n    };\n\n    var capRect = function (left, top, width, height) {\n      var newLeft = left, newTop = top, newWidth = width, newHeight = height;\n      if (left < 0) {\n        newLeft = 0;\n        newWidth = width + left;\n      }\n      if (top < 0) {\n        newTop = 0;\n        newHeight = height + top;\n      }\n      var point = screen(Position(newLeft, newTop));\n      return Option.some(pointed(point, newWidth, newHeight));\n    };\n    var calcNewAnchor = function (optBox, rootPoint, anchorInfo, origin, elem) {\n      return optBox.map(function (box) {\n        var points = [\n          rootPoint,\n          box.point()\n        ];\n        var topLeft = cata$1(origin, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsAbsolute(points);\n        }, function () {\n          return sumAsFixed(points);\n        });\n        var anchorBox = rect(topLeft.left(), topLeft.top(), box.width(), box.height());\n        var layoutsLtr = function () {\n          return anchorInfo.showAbove ? [\n            northeast$1,\n            northwest$1,\n            southeast$1,\n            southwest$1,\n            north$1,\n            south$1\n          ] : [\n            southeast$1,\n            southwest$1,\n            northeast$1,\n            northwest$1,\n            south$1,\n            south$1\n          ];\n        };\n        var layoutsRtl = function () {\n          return anchorInfo.showAbove ? [\n            northwest$1,\n            northeast$1,\n            southwest$1,\n            southeast$1,\n            north$1,\n            south$1\n          ] : [\n            southwest$1,\n            southeast$1,\n            northwest$1,\n            northeast$1,\n            south$1,\n            north$1\n          ];\n        };\n        var layouts = get$9(elem, anchorInfo, layoutsLtr(), layoutsRtl());\n        return nu$9({\n          anchorBox: anchorBox,\n          bubble: anchorInfo.bubble.getOr(fallback()),\n          overrides: anchorInfo.overrides,\n          layouts: layouts,\n          placer: Option.none()\n        });\n      });\n    };\n    var ContentAnchorCommon = {\n      capRect: capRect,\n      calcNewAnchor: calcNewAnchor\n    };\n\n    var point$1 = Immutable('element', 'offset');\n    var descendOnce$1 = function (element, offset) {\n      return isText(element) ? point$1(element, offset) : descendOnce(element, offset);\n    };\n    var getAnchorSelection = function (win, anchorInfo) {\n      var getSelection = anchorInfo.getSelection.getOrThunk(function () {\n        return function () {\n          return getExact(win);\n        };\n      });\n      return getSelection().map(function (sel) {\n        var modStart = descendOnce$1(sel.start(), sel.soffset());\n        var modFinish = descendOnce$1(sel.finish(), sel.foffset());\n        return Selection.range(modStart.element(), modStart.offset(), modFinish.element(), modFinish.offset());\n      });\n    };\n    var placement$2 = function (component, anchorInfo, origin) {\n      var win = defaultView(anchorInfo.root).dom();\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      var selectionBox = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        var optRect = getFirstRect$1(win, Selection.exactFromRange(sel)).orThunk(function () {\n          var x = Element.fromText(zeroWidth());\n          before(sel.start(), x);\n          return getFirstRect$1(win, Selection.exact(x, 0, x, 1)).map(function (rect) {\n            remove(x);\n            return rect;\n          });\n        });\n        return optRect.bind(function (rawRect) {\n          return ContentAnchorCommon.capRect(rawRect.left(), rawRect.top(), rawRect.width(), rawRect.height());\n        });\n      });\n      var targetElement = getAnchorSelection(win, anchorInfo).bind(function (sel) {\n        return isElement(sel.start()) ? Option.some(sel.start()) : parent(sel.start());\n      });\n      var elem = targetElement.getOr(component.element());\n      return ContentAnchorCommon.calcNewAnchor(selectionBox, rootPoint, anchorInfo, origin, elem);\n    };\n    var SelectionAnchor = [\n      option('getSelection'),\n      strict$1('root'),\n      option('bubble'),\n      schema$1(),\n      defaulted$1('overrides', {}),\n      defaulted$1('showAbove', false),\n      output('placement', placement$2)\n    ];\n\n    var placement$3 = function (component, anchorInfo, origin) {\n      var rootPoint = getRootPoint(component, origin, anchorInfo);\n      return anchorInfo.node.bind(function (target) {\n        var rect = target.dom().getBoundingClientRect();\n        var nodeBox = ContentAnchorCommon.capRect(rect.left, rect.top, rect.width, rect.height);\n        var elem = anchorInfo.node.getOr(component.element());\n        return ContentAnchorCommon.calcNewAnchor(nodeBox, rootPoint, anchorInfo, origin, elem);\n      });\n    };\n    var NodeAnchor = [\n      strict$1('node'),\n      strict$1('root'),\n      option('bubble'),\n      schema$1(),\n      defaulted$1('overrides', {}),\n      defaulted$1('showAbove', false),\n      output('placement', placement$3)\n    ];\n\n    var eastX$1 = function (anchor) {\n      return anchor.x() + anchor.width();\n    };\n    var westX$1 = function (anchor, element) {\n      return anchor.x() - element.width();\n    };\n    var northY$1 = function (anchor, element) {\n      return anchor.y() - element.height() + anchor.height();\n    };\n    var southY$1 = function (anchor) {\n      return anchor.y();\n    };\n    var southeast$2 = function (anchor, element, bubbles) {\n      return nu$7(eastX$1(anchor), southY$1(anchor), bubbles.southeast(), southeast(), 'link-layout-se');\n    };\n    var southwest$2 = function (anchor, element, bubbles) {\n      return nu$7(westX$1(anchor, element), southY$1(anchor), bubbles.southwest(), southwest(), 'link-layout-sw');\n    };\n    var northeast$2 = function (anchor, element, bubbles) {\n      return nu$7(eastX$1(anchor), northY$1(anchor, element), bubbles.northeast(), northeast(), 'link-layout-ne');\n    };\n    var northwest$2 = function (anchor, element, bubbles) {\n      return nu$7(westX$1(anchor, element), northY$1(anchor, element), bubbles.northwest(), northwest(), 'link-layout-nw');\n    };\n    var all$3 = function () {\n      return [\n        southeast$2,\n        southwest$2,\n        northeast$2,\n        northwest$2\n      ];\n    };\n    var allRtl$1 = function () {\n      return [\n        southwest$2,\n        southeast$2,\n        northwest$2,\n        northeast$2\n      ];\n    };\n\n    var placement$4 = function (component, submenuInfo, origin) {\n      var anchorBox = toBox(origin, submenuInfo.item.element());\n      var layouts = get$9(component.element(), submenuInfo, all$3(), allRtl$1());\n      return Option.some(nu$9({\n        anchorBox: anchorBox,\n        bubble: fallback(),\n        overrides: submenuInfo.overrides,\n        layouts: layouts,\n        placer: Option.none()\n      }));\n    };\n    var SubmenuAnchor = [\n      strict$1('item'),\n      schema$1(),\n      defaulted$1('overrides', {}),\n      output('placement', placement$4)\n    ];\n\n    var AnchorSchema = choose$1('anchor', {\n      selection: SelectionAnchor,\n      node: NodeAnchor,\n      hotspot: HotspotAnchor,\n      submenu: SubmenuAnchor,\n      makeshift: MakeshiftAnchor\n    });\n\n    var anchor = Immutable('anchorBox', 'origin');\n    var box$1 = function (anchorBox, origin) {\n      return anchor(anchorBox, origin);\n    };\n\n    var cycleBy = function (value, delta, min, max) {\n      var r = value + delta;\n      if (r > max) {\n        return min;\n      } else {\n        return r < min ? max : r;\n      }\n    };\n    var cap = function (value, min, max) {\n      if (value <= min) {\n        return min;\n      } else {\n        return value >= max ? max : value;\n      }\n    };\n\n    var adt$8 = Adt.generate([\n      { fit: ['reposition'] },\n      {\n        nofit: [\n          'reposition',\n          'deltaW',\n          'deltaH'\n        ]\n      }\n    ]);\n    var calcReposition = function (newX, newY, width, height, bounds) {\n      var boundsX = bounds.x();\n      var boundsY = bounds.y();\n      var boundsWidth = bounds.width();\n      var boundsHeight = bounds.height();\n      var xInBounds = newX >= boundsX;\n      var yInBounds = newY >= boundsY;\n      var originInBounds = xInBounds && yInBounds;\n      var xFit = newX + width <= boundsX + boundsWidth;\n      var yFit = newY + height <= boundsY + boundsHeight;\n      var sizeInBounds = xFit && yFit;\n      var deltaW = Math.abs(Math.min(width, xInBounds ? boundsX + boundsWidth - newX : boundsX - (newX + width)));\n      var deltaH = Math.abs(Math.min(height, yInBounds ? boundsY + boundsHeight - newY : boundsY - (newY + height)));\n      var limitX = cap(newX, bounds.x(), bounds.right());\n      var limitY = cap(newY, bounds.y(), bounds.bottom());\n      return {\n        originInBounds: originInBounds,\n        sizeInBounds: sizeInBounds,\n        limitX: limitX,\n        limitY: limitY,\n        deltaW: deltaW,\n        deltaH: deltaH\n      };\n    };\n    var attempt = function (candidate, width, height, bounds) {\n      var candidateX = candidate.x();\n      var candidateY = candidate.y();\n      var bubbleLeft = candidate.bubble().offset().left();\n      var bubbleTop = candidate.bubble().offset().top();\n      var boundsY = bounds.y();\n      var boundsBottom = bounds.bottom();\n      var boundsX = bounds.x();\n      var boundsRight = bounds.right();\n      var newX = candidateX + bubbleLeft;\n      var newY = candidateY + bubbleTop;\n      var _a = calcReposition(newX, newY, width, height, bounds), originInBounds = _a.originInBounds, sizeInBounds = _a.sizeInBounds, limitX = _a.limitX, limitY = _a.limitY, deltaW = _a.deltaW, deltaH = _a.deltaH;\n      var upAvailable = constant(limitY + deltaH - boundsY);\n      var downAvailable = constant(boundsBottom - limitY);\n      var maxHeight = cataVertical(candidate.direction(), downAvailable, downAvailable, upAvailable);\n      var westAvailable = constant(limitX + deltaW - boundsX);\n      var eastAvailable = constant(boundsRight - limitX);\n      var maxWidth = cataHorizontal(candidate.direction(), eastAvailable, eastAvailable, westAvailable);\n      var reposition = decision({\n        x: limitX,\n        y: limitY,\n        width: deltaW,\n        height: deltaH,\n        maxHeight: maxHeight,\n        maxWidth: maxWidth,\n        direction: candidate.direction(),\n        classes: {\n          on: candidate.bubble().classesOn(),\n          off: candidate.bubble().classesOff()\n        },\n        label: candidate.label(),\n        candidateYforTest: newY\n      });\n      return originInBounds && sizeInBounds ? adt$8.fit(reposition) : adt$8.nofit(reposition, deltaW, deltaH);\n    };\n    var attempts = function (candidates, anchorBox, elementBox, bubbles, bounds) {\n      var panelWidth = elementBox.width();\n      var panelHeight = elementBox.height();\n      var attemptBestFit = function (layout, reposition, deltaW, deltaH) {\n        var next = layout(anchorBox, elementBox, bubbles);\n        var attemptLayout = attempt(next, panelWidth, panelHeight, bounds);\n        return attemptLayout.fold(adt$8.fit, function (newReposition, newDeltaW, newDeltaH) {\n          var improved = newDeltaH > deltaH || newDeltaW > deltaW;\n          return improved ? adt$8.nofit(newReposition, newDeltaW, newDeltaH) : adt$8.nofit(reposition, deltaW, deltaH);\n        });\n      };\n      var abc = foldl(candidates, function (b, a) {\n        var bestNext = curry(attemptBestFit, a);\n        return b.fold(adt$8.fit, bestNext);\n      }, adt$8.nofit(decision({\n        x: anchorBox.x(),\n        y: anchorBox.y(),\n        width: elementBox.width(),\n        height: elementBox.height(),\n        maxHeight: elementBox.height(),\n        maxWidth: elementBox.width(),\n        direction: southeast(),\n        classes: {\n          on: [],\n          off: []\n        },\n        label: 'none',\n        candidateYforTest: anchorBox.y()\n      }), -1, -1));\n      return abc.fold(identity, identity);\n    };\n\n    var elementSize = function (p) {\n      return {\n        width: constant(getOuter$2(p)),\n        height: constant(getOuter$1(p))\n      };\n    };\n    var layout = function (anchorBox, element, bubbles, options) {\n      remove$6(element, 'max-height');\n      remove$6(element, 'max-width');\n      var elementBox = elementSize(element);\n      return attempts(options.preference(), anchorBox, elementBox, bubbles, options.bounds());\n    };\n    var setClasses = function (element, decision) {\n      var classInfo = decision.classes();\n      remove$5(element, classInfo.off);\n      add$3(element, classInfo.on);\n    };\n    var setHeight = function (element, decision, options) {\n      var maxHeightFunction = options.maxHeightFunction();\n      maxHeightFunction(element, decision.maxHeight());\n    };\n    var setWidth = function (element, decision, options) {\n      var maxWidthFunction = options.maxWidthFunction();\n      maxWidthFunction(element, decision.maxWidth());\n    };\n    var position = function (element, decision, options) {\n      var addPx = function (num) {\n        return num + 'px';\n      };\n      var newPosition = reposition(options.origin(), decision);\n      setOptions(element, {\n        position: Option.some(newPosition.position()),\n        left: newPosition.left().map(addPx),\n        top: newPosition.top().map(addPx),\n        right: newPosition.right().map(addPx),\n        bottom: newPosition.bottom().map(addPx)\n      });\n    };\n\n    var setMaxHeight = function (element, maxHeight) {\n      setMax(element, Math.floor(maxHeight));\n    };\n    var anchored = constant(function (element, available) {\n      setMaxHeight(element, available);\n      setAll$1(element, {\n        'overflow-x': 'hidden',\n        'overflow-y': 'auto'\n      });\n    });\n    var expandable = constant(function (element, available) {\n      setMaxHeight(element, available);\n    });\n\n    var reparteeOptions = MixedBag([\n      'bounds',\n      'origin',\n      'preference',\n      'maxHeightFunction',\n      'maxWidthFunction'\n    ], []);\n    var defaultOr = function (options, key, dephault) {\n      return options[key] === undefined ? dephault : options[key];\n    };\n    var simple = function (anchor, element, bubble, layouts, getBounds, overrideOptions) {\n      var maxHeightFunction = defaultOr(overrideOptions, 'maxHeightFunction', anchored());\n      var maxWidthFunction = defaultOr(overrideOptions, 'maxWidthFunction', noop);\n      var anchorBox = anchor.anchorBox();\n      var origin = anchor.origin();\n      var options = reparteeOptions({\n        bounds: viewport$1(origin, getBounds),\n        origin: origin,\n        preference: layouts,\n        maxHeightFunction: maxHeightFunction,\n        maxWidthFunction: maxWidthFunction\n      });\n      go(anchorBox, element, bubble, options);\n    };\n    var go = function (anchorBox, element, bubble, options) {\n      var decision = layout(anchorBox, element, bubble, options);\n      position(element, decision, options);\n      setClasses(element, decision);\n      setHeight(element, decision, options);\n      setWidth(element, decision, options);\n    };\n\n    var getFixedOrigin = function () {\n      var html = domGlobals.document.documentElement;\n      return fixed(0, 0, html.clientWidth, html.clientHeight);\n    };\n    var getRelativeOrigin = function (component) {\n      var position = absolute(component.element());\n      var bounds = component.element().dom().getBoundingClientRect();\n      return relative(position.left(), position.top(), bounds.width, bounds.height);\n    };\n    var place = function (component, origin, anchoring, getBounds, placee) {\n      var anchor = box$1(anchoring.anchorBox, origin);\n      simple(anchor, placee.element(), anchoring.bubble, anchoring.layouts, getBounds, anchoring.overrides);\n    };\n    var position$1 = function (component, posConfig, posState, anchor, placee) {\n      positionWithin(component, posConfig, posState, anchor, placee, Option.none());\n    };\n    var positionWithin = function (component, posConfig, posState, anchor, placee, boxElement) {\n      var boundsBox = boxElement.map(box);\n      return positionWithinBounds(component, posConfig, posState, anchor, placee, boundsBox);\n    };\n    var positionWithinBounds = function (component, posConfig, posState, anchor, placee, bounds) {\n      var anchorage = asRawOrDie('positioning anchor.info', AnchorSchema, anchor);\n      preserve(function () {\n        set$2(placee.element(), 'position', 'fixed');\n        var oldVisibility = getRaw(placee.element(), 'visibility');\n        set$2(placee.element(), 'visibility', 'hidden');\n        var origin = posConfig.useFixed() ? getFixedOrigin() : getRelativeOrigin(component);\n        var placer = anchorage.placement;\n        var getBounds = bounds.map(constant).or(posConfig.getBounds);\n        placer(component, anchorage, origin).each(function (anchoring) {\n          var doPlace = anchoring.placer.getOr(place);\n          doPlace(component, origin, anchoring, getBounds, placee);\n        });\n        oldVisibility.fold(function () {\n          remove$6(placee.element(), 'visibility');\n        }, function (vis) {\n          set$2(placee.element(), 'visibility', vis);\n        });\n        if (getRaw(placee.element(), 'left').isNone() && getRaw(placee.element(), 'top').isNone() && getRaw(placee.element(), 'right').isNone() && getRaw(placee.element(), 'bottom').isNone() && getRaw(placee.element(), 'position').is('fixed')) {\n          remove$6(placee.element(), 'position');\n        }\n      }, placee.element());\n    };\n    var getMode = function (component, pConfig, pState) {\n      return pConfig.useFixed() ? 'fixed' : 'absolute';\n    };\n\n    var PositionApis = /*#__PURE__*/Object.freeze({\n        position: position$1,\n        positionWithin: positionWithin,\n        positionWithinBounds: positionWithinBounds,\n        getMode: getMode\n    });\n\n    var PositionSchema = [\n      defaulted$1('useFixed', never),\n      option('getBounds')\n    ];\n\n    var Positioning = create$1({\n      fields: PositionSchema,\n      name: 'positioning',\n      active: ActivePosition,\n      apis: PositionApis\n    });\n\n    var fireDetaching = function (component) {\n      emit(component, detachedFromDom());\n      var children = component.components();\n      each(children, fireDetaching);\n    };\n    var fireAttaching = function (component) {\n      var children = component.components();\n      each(children, fireAttaching);\n      emit(component, attachedToDom());\n    };\n    var attach = function (parent, child) {\n      append(parent.element(), child.element());\n    };\n    var detachChildren = function (component) {\n      each(component.components(), function (childComp) {\n        return remove(childComp.element());\n      });\n      empty(component.element());\n      component.syncComponents();\n    };\n    var replaceChildren = function (component, newChildren) {\n      var subs = component.components();\n      detachChildren(component);\n      var deleted = difference(subs, newChildren);\n      each(deleted, function (comp) {\n        fireDetaching(comp);\n        component.getSystem().removeFromWorld(comp);\n      });\n      each(newChildren, function (childComp) {\n        if (!childComp.getSystem().isConnected()) {\n          component.getSystem().addToWorld(childComp);\n          attach(component, childComp);\n          if (inBody(component.element())) {\n            fireAttaching(childComp);\n          }\n        } else {\n          attach(component, childComp);\n        }\n        component.syncComponents();\n      });\n    };\n\n    var attach$1 = function (parent, child) {\n      attachWith(parent, child, append);\n    };\n    var attachWith = function (parent, child, insertion) {\n      parent.getSystem().addToWorld(child);\n      insertion(parent.element(), child.element());\n      if (inBody(parent.element())) {\n        fireAttaching(child);\n      }\n      parent.syncComponents();\n    };\n    var doDetach = function (component) {\n      fireDetaching(component);\n      remove(component.element());\n      component.getSystem().removeFromWorld(component);\n    };\n    var detach = function (component) {\n      var parent$1 = parent(component.element()).bind(function (p) {\n        return component.getSystem().getByDom(p).toOption();\n      });\n      doDetach(component);\n      parent$1.each(function (p) {\n        p.syncComponents();\n      });\n    };\n    var detachChildren$1 = function (component) {\n      var subs = component.components();\n      each(subs, doDetach);\n      empty(component.element());\n      component.syncComponents();\n    };\n    var attachSystem = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, append);\n    };\n    var attachSystemAfter = function (element, guiSystem) {\n      attachSystemWith(element, guiSystem, after);\n    };\n    var attachSystemWith = function (element, guiSystem, inserter) {\n      inserter(element, guiSystem.element());\n      var children$1 = children(guiSystem.element());\n      each(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireAttaching);\n      });\n    };\n    var detachSystem = function (guiSystem) {\n      var children$1 = children(guiSystem.element());\n      each(children$1, function (child) {\n        guiSystem.getByDom(child).each(fireDetaching);\n      });\n      remove(guiSystem.element());\n    };\n\n    var rebuild = function (sandbox, sConfig, sState, data) {\n      sState.get().each(function (data) {\n        detachChildren$1(sandbox);\n      });\n      var point = sConfig.getAttachPoint(sandbox);\n      attach$1(point, sandbox);\n      var built = sandbox.getSystem().build(data);\n      attach$1(sandbox, built);\n      sState.set(built);\n      return built;\n    };\n    var open = function (sandbox, sConfig, sState, data) {\n      var newState = rebuild(sandbox, sConfig, sState, data);\n      sConfig.onOpen(sandbox, newState);\n      return newState;\n    };\n    var setContent = function (sandbox, sConfig, sState, data) {\n      return sState.get().map(function () {\n        return rebuild(sandbox, sConfig, sState, data);\n      });\n    };\n    var openWhileCloaked = function (sandbox, sConfig, sState, data, transaction) {\n      cloak(sandbox, sConfig);\n      open(sandbox, sConfig, sState, data);\n      transaction();\n      decloak(sandbox, sConfig);\n    };\n    var close = function (sandbox, sConfig, sState) {\n      sState.get().each(function (data) {\n        detachChildren$1(sandbox);\n        detach(sandbox);\n        sConfig.onClose(sandbox, data);\n        sState.clear();\n      });\n    };\n    var isOpen = function (sandbox, sConfig, sState) {\n      return sState.isOpen();\n    };\n    var isPartOf$1 = function (sandbox, sConfig, sState, queryElem) {\n      return isOpen(sandbox, sConfig, sState) && sState.get().exists(function (data) {\n        return sConfig.isPartOf(sandbox, data, queryElem);\n      });\n    };\n    var getState = function (sandbox, sConfig, sState) {\n      return sState.get();\n    };\n    var store = function (sandbox, cssKey, attr, newValue) {\n      getRaw(sandbox.element(), cssKey).fold(function () {\n        remove$1(sandbox.element(), attr);\n      }, function (v) {\n        set$1(sandbox.element(), attr, v);\n      });\n      set$2(sandbox.element(), cssKey, newValue);\n    };\n    var restore = function (sandbox, cssKey, attr) {\n      if (has$1(sandbox.element(), attr)) {\n        var oldValue = get$2(sandbox.element(), attr);\n        set$2(sandbox.element(), cssKey, oldValue);\n      } else {\n        remove$6(sandbox.element(), cssKey);\n      }\n    };\n    var cloak = function (sandbox, sConfig, sState) {\n      var sink = sConfig.getAttachPoint(sandbox);\n      set$2(sandbox.element(), 'position', Positioning.getMode(sink));\n      store(sandbox, 'visibility', sConfig.cloakVisibilityAttr, 'hidden');\n    };\n    var hasPosition = function (element) {\n      return exists([\n        'top',\n        'left',\n        'right',\n        'bottom'\n      ], function (pos) {\n        return getRaw(element, pos).isSome();\n      });\n    };\n    var decloak = function (sandbox, sConfig, sState) {\n      if (!hasPosition(sandbox.element())) {\n        remove$6(sandbox.element(), 'position');\n      }\n      restore(sandbox, 'visibility', sConfig.cloakVisibilityAttr);\n    };\n\n    var SandboxApis = /*#__PURE__*/Object.freeze({\n        cloak: cloak,\n        decloak: decloak,\n        open: open,\n        openWhileCloaked: openWhileCloaked,\n        close: close,\n        isOpen: isOpen,\n        isPartOf: isPartOf$1,\n        getState: getState,\n        setContent: setContent\n    });\n\n    var events$2 = function (sandboxConfig, sandboxState) {\n      return derive([run(sandboxClose(), function (sandbox, simulatedEvent) {\n          close(sandbox, sandboxConfig, sandboxState);\n        })]);\n    };\n\n    var ActiveSandbox = /*#__PURE__*/Object.freeze({\n        events: events$2\n    });\n\n    var SandboxSchema = [\n      onHandler('onOpen'),\n      onHandler('onClose'),\n      strict$1('isPartOf'),\n      strict$1('getAttachPoint'),\n      defaulted$1('cloakVisibilityAttr', 'data-precloak-visibility')\n    ];\n\n    var init = function () {\n      var contents = Cell(Option.none());\n      var readState = constant('not-implemented');\n      var isOpen = function () {\n        return contents.get().isSome();\n      };\n      var set = function (c) {\n        contents.set(Option.some(c));\n      };\n      var get = function (c) {\n        return contents.get();\n      };\n      var clear = function () {\n        contents.set(Option.none());\n      };\n      return nu$5({\n        readState: readState,\n        isOpen: isOpen,\n        clear: clear,\n        set: set,\n        get: get\n      });\n    };\n\n    var SandboxState = /*#__PURE__*/Object.freeze({\n        init: init\n    });\n\n    var Sandboxing = create$1({\n      fields: SandboxSchema,\n      name: 'sandboxing',\n      active: ActiveSandbox,\n      apis: SandboxApis,\n      state: SandboxState\n    });\n\n    var dismissPopups = constant('dismiss.popups');\n    var repositionPopups = constant('reposition.popups');\n    var mouseReleased = constant('mouse.released');\n\n    var schema$2 = objOfOnly([\n      defaulted$1('isExtraPart', constant(false)),\n      optionObjOf('fireEventInstead', [defaulted$1('event', dismissRequested())])\n    ]);\n    var receivingChannel = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie('Dismissal', schema$2, rawSpec);\n      return _a = {}, _a[dismissPopups()] = {\n        schema: objOfOnly([strict$1('target')]),\n        onReceive: function (sandbox, data) {\n          if (Sandboxing.isOpen(sandbox)) {\n            var isPart = Sandboxing.isPartOf(sandbox, data.target) || detail.isExtraPart(sandbox, data.target);\n            if (!isPart) {\n              detail.fireEventInstead.fold(function () {\n                return Sandboxing.close(sandbox);\n              }, function (fe) {\n                return emit(sandbox, fe.event);\n              });\n            }\n          }\n        }\n      }, _a;\n    };\n\n    var schema$3 = objOfOnly([\n      defaulted$1('isExtraPart', constant(false)),\n      optionObjOf('fireEventInstead', [defaulted$1('event', repositionRequested())]),\n      strictFunction('doReposition')\n    ]);\n    var receivingChannel$1 = function (rawSpec) {\n      var _a;\n      var detail = asRawOrDie('Reposition', schema$3, rawSpec);\n      return _a = {}, _a[repositionPopups()] = {\n        onReceive: function (sandbox) {\n          if (Sandboxing.isOpen(sandbox)) {\n            detail.fireEventInstead.fold(function () {\n              return detail.doReposition(sandbox);\n            }, function (fe) {\n              return emit(sandbox, fe.event);\n            });\n          }\n        }\n      }, _a;\n    };\n\n    var onLoad = function (component, repConfig, repState) {\n      repConfig.store.manager.onLoad(component, repConfig, repState);\n    };\n    var onUnload = function (component, repConfig, repState) {\n      repConfig.store.manager.onUnload(component, repConfig, repState);\n    };\n    var setValue = function (component, repConfig, repState, data) {\n      repConfig.store.manager.setValue(component, repConfig, repState, data);\n    };\n    var getValue = function (component, repConfig, repState) {\n      return repConfig.store.manager.getValue(component, repConfig, repState);\n    };\n    var getState$1 = function (component, repConfig, repState) {\n      return repState;\n    };\n\n    var RepresentApis = /*#__PURE__*/Object.freeze({\n        onLoad: onLoad,\n        onUnload: onUnload,\n        setValue: setValue,\n        getValue: getValue,\n        getState: getState$1\n    });\n\n    var events$3 = function (repConfig, repState) {\n      var es = repConfig.resetOnDom ? [\n        runOnAttached(function (comp, se) {\n          onLoad(comp, repConfig, repState);\n        }),\n        runOnDetached(function (comp, se) {\n          onUnload(comp, repConfig, repState);\n        })\n      ] : [loadEvent(repConfig, repState, onLoad)];\n      return derive(es);\n    };\n\n    var ActiveRepresenting = /*#__PURE__*/Object.freeze({\n        events: events$3\n    });\n\n    var memory = function () {\n      var data = Cell(null);\n      var readState = function () {\n        return {\n          mode: 'memory',\n          value: data.get()\n        };\n      };\n      var isNotSet = function () {\n        return data.get() === null;\n      };\n      var clear = function () {\n        data.set(null);\n      };\n      return nu$5({\n        set: data.set,\n        get: data.get,\n        isNotSet: isNotSet,\n        clear: clear,\n        readState: readState\n      });\n    };\n    var manual = function () {\n      var readState = function () {\n      };\n      return nu$5({ readState: readState });\n    };\n    var dataset = function () {\n      var dataByValue = Cell({});\n      var dataByText = Cell({});\n      var readState = function () {\n        return {\n          mode: 'dataset',\n          dataByValue: dataByValue.get(),\n          dataByText: dataByText.get()\n        };\n      };\n      var clear = function () {\n        dataByValue.set({});\n        dataByText.set({});\n      };\n      var lookup = function (itemString) {\n        return readOptFrom$1(dataByValue.get(), itemString).orThunk(function () {\n          return readOptFrom$1(dataByText.get(), itemString);\n        });\n      };\n      var update = function (items) {\n        var currentDataByValue = dataByValue.get();\n        var currentDataByText = dataByText.get();\n        var newDataByValue = {};\n        var newDataByText = {};\n        each(items, function (item) {\n          newDataByValue[item.value] = item;\n          readOptFrom$1(item, 'meta').each(function (meta) {\n            readOptFrom$1(meta, 'text').each(function (text) {\n              newDataByText[text] = item;\n            });\n          });\n        });\n        dataByValue.set(__assign(__assign({}, currentDataByValue), newDataByValue));\n        dataByText.set(__assign(__assign({}, currentDataByText), newDataByText));\n      };\n      return nu$5({\n        readState: readState,\n        lookup: lookup,\n        update: update,\n        clear: clear\n      });\n    };\n    var init$1 = function (spec) {\n      return spec.store.manager.state(spec);\n    };\n\n    var RepresentState = /*#__PURE__*/Object.freeze({\n        memory: memory,\n        dataset: dataset,\n        manual: manual,\n        init: init$1\n    });\n\n    var setValue$1 = function (component, repConfig, repState, data) {\n      var store = repConfig.store;\n      repState.update([data]);\n      store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$1 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      var key = store.getDataKey(component);\n      return repState.lookup(key).fold(function () {\n        return store.getFallbackEntry(key);\n      }, function (data) {\n        return data;\n      });\n    };\n    var onLoad$1 = function (component, repConfig, repState) {\n      var store = repConfig.store;\n      store.initialValue.each(function (data) {\n        setValue$1(component, repConfig, repState, data);\n      });\n    };\n    var onUnload$1 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var DatasetStore = [\n      option('initialValue'),\n      strict$1('getFallbackEntry'),\n      strict$1('getDataKey'),\n      strict$1('setValue'),\n      output('manager', {\n        setValue: setValue$1,\n        getValue: getValue$1,\n        onLoad: onLoad$1,\n        onUnload: onUnload$1,\n        state: dataset\n      })\n    ];\n\n    var getValue$2 = function (component, repConfig, repState) {\n      return repConfig.store.getValue(component);\n    };\n    var setValue$2 = function (component, repConfig, repState, data) {\n      repConfig.store.setValue(component, data);\n      repConfig.onSetValue(component, data);\n    };\n    var onLoad$2 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (data) {\n        repConfig.store.setValue(component, data);\n      });\n    };\n    var ManualStore = [\n      strict$1('getValue'),\n      defaulted$1('setValue', noop),\n      option('initialValue'),\n      output('manager', {\n        setValue: setValue$2,\n        getValue: getValue$2,\n        onLoad: onLoad$2,\n        onUnload: noop,\n        state: NoState.init\n      })\n    ];\n\n    var setValue$3 = function (component, repConfig, repState, data) {\n      repState.set(data);\n      repConfig.onSetValue(component, data);\n    };\n    var getValue$3 = function (component, repConfig, repState) {\n      return repState.get();\n    };\n    var onLoad$3 = function (component, repConfig, repState) {\n      repConfig.store.initialValue.each(function (initVal) {\n        if (repState.isNotSet()) {\n          repState.set(initVal);\n        }\n      });\n    };\n    var onUnload$2 = function (component, repConfig, repState) {\n      repState.clear();\n    };\n    var MemoryStore = [\n      option('initialValue'),\n      output('manager', {\n        setValue: setValue$3,\n        getValue: getValue$3,\n        onLoad: onLoad$3,\n        onUnload: onUnload$2,\n        state: memory\n      })\n    ];\n\n    var RepresentSchema = [\n      defaultedOf('store', { mode: 'memory' }, choose$1('mode', {\n        memory: MemoryStore,\n        manual: ManualStore,\n        dataset: DatasetStore\n      })),\n      onHandler('onSetValue'),\n      defaulted$1('resetOnDom', false)\n    ];\n\n    var Representing = create$1({\n      fields: RepresentSchema,\n      name: 'representing',\n      active: ActiveRepresenting,\n      apis: RepresentApis,\n      extra: {\n        setValueFrom: function (component, source) {\n          var value = Representing.getValue(source);\n          Representing.setValue(component, value);\n        }\n      },\n      state: RepresentState\n    });\n\n    var field$1 = function (name, forbidden) {\n      return defaultedObjOf(name, {}, map(forbidden, function (f) {\n        return forbid(f.name(), 'Cannot configure ' + f.name() + ' for ' + name);\n      }).concat([state$1('dump', identity)]));\n    };\n    var get$b = function (data) {\n      return data.dump;\n    };\n    var augment = function (data, original) {\n      return __assign(__assign({}, data.dump), derive$1(original));\n    };\n    var SketchBehaviours = {\n      field: field$1,\n      augment: augment,\n      get: get$b\n    };\n\n    var _placeholder = 'placeholder';\n    var adt$9 = Adt.generate([\n      {\n        single: [\n          'required',\n          'valueThunk'\n        ]\n      },\n      {\n        multiple: [\n          'required',\n          'valueThunks'\n        ]\n      }\n    ]);\n    var subPlaceholder = function (owner, detail, compSpec, placeholders) {\n      if (owner.exists(function (o) {\n          return o !== compSpec.owner;\n        })) {\n        return adt$9.single(true, constant(compSpec));\n      }\n      return readOptFrom$1(placeholders, compSpec.name).fold(function () {\n        throw new Error('Unknown placeholder component: ' + compSpec.name + '\\nKnown: [' + keys(placeholders) + ']\\nNamespace: ' + owner.getOr('none') + '\\nSpec: ' + JSON.stringify(compSpec, null, 2));\n      }, function (newSpec) {\n        return newSpec.replace();\n      });\n    };\n    var scan = function (owner, detail, compSpec, placeholders) {\n      if (compSpec.uiType === _placeholder) {\n        return subPlaceholder(owner, detail, compSpec, placeholders);\n      } else {\n        return adt$9.single(false, constant(compSpec));\n      }\n    };\n    var substitute = function (owner, detail, compSpec, placeholders) {\n      var base = scan(owner, detail, compSpec, placeholders);\n      return base.fold(function (req, valueThunk) {\n        var value = valueThunk(detail, compSpec.config, compSpec.validated);\n        var childSpecs = readOptFrom$1(value, 'components').getOr([]);\n        var substituted = bind(childSpecs, function (c) {\n          return substitute(owner, detail, c, placeholders);\n        });\n        return [__assign(__assign({}, value), { components: substituted })];\n      }, function (req, valuesThunk) {\n        var values = valuesThunk(detail, compSpec.config, compSpec.validated);\n        var preprocessor = compSpec.validated.preprocess.getOr(identity);\n        return preprocessor(values);\n      });\n    };\n    var substituteAll = function (owner, detail, components, placeholders) {\n      return bind(components, function (c) {\n        return substitute(owner, detail, c, placeholders);\n      });\n    };\n    var oneReplace = function (label, replacements) {\n      var called = false;\n      var used = function () {\n        return called;\n      };\n      var replace = function () {\n        if (called === true) {\n          throw new Error('Trying to use the same placeholder more than once: ' + label);\n        }\n        called = true;\n        return replacements;\n      };\n      var required = function () {\n        return replacements.fold(function (req, _) {\n          return req;\n        }, function (req, _) {\n          return req;\n        });\n      };\n      return {\n        name: constant(label),\n        required: required,\n        used: used,\n        replace: replace\n      };\n    };\n    var substitutePlaces = function (owner, detail, components, placeholders) {\n      var ps = map$1(placeholders, function (ph, name) {\n        return oneReplace(name, ph);\n      });\n      var outcome = substituteAll(owner, detail, components, ps);\n      each$1(ps, function (p) {\n        if (p.used() === false && p.required()) {\n          throw new Error('Placeholder: ' + p.name() + ' was not found in components list\\nNamespace: ' + owner.getOr('none') + '\\nComponents: ' + JSON.stringify(detail.components, null, 2));\n        }\n      });\n      return outcome;\n    };\n    var single = adt$9.single;\n    var multiple = adt$9.multiple;\n    var placeholder = constant(_placeholder);\n\n    var adt$a = Adt.generate([\n      { required: ['data'] },\n      { external: ['data'] },\n      { optional: ['data'] },\n      { group: ['data'] }\n    ]);\n    var fFactory = defaulted$1('factory', { sketch: identity });\n    var fSchema = defaulted$1('schema', []);\n    var fName = strict$1('name');\n    var fPname = field('pname', 'pname', defaultedThunk(function (typeSpec) {\n      return '<alloy.' + generate$1(typeSpec.name) + '>';\n    }), anyValue$1());\n    var fGroupSchema = state$1('schema', function () {\n      return [option('preprocess')];\n    });\n    var fDefaults = defaulted$1('defaults', constant({}));\n    var fOverrides = defaulted$1('overrides', constant({}));\n    var requiredSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var externalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fDefaults,\n      fOverrides\n    ]);\n    var optionalSpec = objOf([\n      fFactory,\n      fSchema,\n      fName,\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var groupSpec = objOf([\n      fFactory,\n      fGroupSchema,\n      fName,\n      strict$1('unit'),\n      fPname,\n      fDefaults,\n      fOverrides\n    ]);\n    var asNamedPart = function (part) {\n      return part.fold(Option.some, Option.none, Option.some, Option.some);\n    };\n    var name$1 = function (part) {\n      var get = function (data) {\n        return data.name;\n      };\n      return part.fold(get, get, get, get);\n    };\n    var asCommon = function (part) {\n      return part.fold(identity, identity, identity, identity);\n    };\n    var convert = function (adtConstructor, partSchema) {\n      return function (spec) {\n        var data = asRawOrDie('Converting part type', partSchema, spec);\n        return adtConstructor(data);\n      };\n    };\n    var required = convert(adt$a.required, requiredSpec);\n    var external$1 = convert(adt$a.external, externalSpec);\n    var optional = convert(adt$a.optional, optionalSpec);\n    var group = convert(adt$a.group, groupSpec);\n    var original = constant('entirety');\n\n    var PartType = /*#__PURE__*/Object.freeze({\n        required: required,\n        external: external$1,\n        optional: optional,\n        group: group,\n        asNamedPart: asNamedPart,\n        name: name$1,\n        asCommon: asCommon,\n        original: original\n    });\n\n    var combine$2 = function (detail, data, partSpec, partValidated) {\n      return deepMerge(data.defaults(detail, partSpec, partValidated), partSpec, { uid: detail.partUids[data.name] }, data.overrides(detail, partSpec, partValidated));\n    };\n    var subs = function (owner, detail, parts) {\n      var internals = {};\n      var externals = {};\n      each(parts, function (part) {\n        part.fold(function (data) {\n          internals[data.pname] = single(true, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine$2(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          var partSpec = detail.parts[data.name];\n          externals[data.name] = constant(data.factory.sketch(combine$2(detail, data, partSpec[original()]), partSpec));\n        }, function (data) {\n          internals[data.pname] = single(false, function (detail, partSpec, partValidated) {\n            return data.factory.sketch(combine$2(detail, data, partSpec, partValidated));\n          });\n        }, function (data) {\n          internals[data.pname] = multiple(true, function (detail, _partSpec, _partValidated) {\n            var units = detail[data.name];\n            return map(units, function (u) {\n              return data.factory.sketch(deepMerge(data.defaults(detail, u, _partValidated), u, data.overrides(detail, u)));\n            });\n          });\n        });\n      });\n      return {\n        internals: constant(internals),\n        externals: constant(externals)\n      };\n    };\n\n    var generate$4 = function (owner, parts) {\n      var r = {};\n      each(parts, function (part) {\n        asNamedPart(part).each(function (np) {\n          var g = doGenerateOne(owner, np.pname);\n          r[np.name] = function (config) {\n            var validated = asRawOrDie('Part: ' + np.name + ' in ' + owner, objOf(np.schema), config);\n            return __assign(__assign({}, g), {\n              config: config,\n              validated: validated\n            });\n          };\n        });\n      });\n      return r;\n    };\n    var doGenerateOne = function (owner, pname) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname\n      };\n    };\n    var generateOne = function (owner, pname, config) {\n      return {\n        uiType: placeholder(),\n        owner: owner,\n        name: pname,\n        config: config,\n        validated: {}\n      };\n    };\n    var schemas = function (parts) {\n      return bind(parts, function (part) {\n        return part.fold(Option.none, Option.some, Option.none, Option.none).map(function (data) {\n          return strictObjOf(data.name, data.schema.concat([snapshot(original())]));\n        }).toArray();\n      });\n    };\n    var names = function (parts) {\n      return map(parts, name$1);\n    };\n    var substitutes = function (owner, detail, parts) {\n      return subs(owner, detail, parts);\n    };\n    var components = function (owner, detail, internals) {\n      return substitutePlaces(Option.some(owner), detail, detail.components, internals);\n    };\n    var getPart = function (component, detail, partKey) {\n      var uid = detail.partUids[partKey];\n      return component.getSystem().getByUid(uid).toOption();\n    };\n    var getPartOrDie = function (component, detail, partKey) {\n      return getPart(component, detail, partKey).getOrDie('Could not find part: ' + partKey);\n    };\n    var getParts = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each(partKeys, function (pk) {\n        r[pk] = constant(system.getByUid(uids[pk]));\n      });\n      return r;\n    };\n    var getAllParts = function (component, detail) {\n      var system = component.getSystem();\n      return map$1(detail.partUids, function (pUid, k) {\n        return constant(system.getByUid(pUid));\n      });\n    };\n    var getAllPartNames = function (detail) {\n      return keys(detail.partUids);\n    };\n    var getPartsOrDie = function (component, detail, partKeys) {\n      var r = {};\n      var uids = detail.partUids;\n      var system = component.getSystem();\n      each(partKeys, function (pk) {\n        r[pk] = constant(system.getByUid(uids[pk]).getOrDie());\n      });\n      return r;\n    };\n    var defaultUids = function (baseUid, partTypes) {\n      var partNames = names(partTypes);\n      return wrapAll$1(map(partNames, function (pn) {\n        return {\n          key: pn,\n          value: baseUid + '-' + pn\n        };\n      }));\n    };\n    var defaultUidsSchema = function (partTypes) {\n      return field('partUids', 'partUids', mergeWithThunk(function (spec) {\n        return defaultUids(spec.uid, partTypes);\n      }), anyValue$1());\n    };\n\n    var AlloyParts = /*#__PURE__*/Object.freeze({\n        generate: generate$4,\n        generateOne: generateOne,\n        schemas: schemas,\n        names: names,\n        substitutes: substitutes,\n        components: components,\n        defaultUids: defaultUids,\n        defaultUidsSchema: defaultUidsSchema,\n        getAllParts: getAllParts,\n        getAllPartNames: getAllPartNames,\n        getPart: getPart,\n        getPartOrDie: getPartOrDie,\n        getParts: getParts,\n        getPartsOrDie: getPartsOrDie\n    });\n\n    var base = function (partSchemas, partUidsSchemas) {\n      var ps = partSchemas.length > 0 ? [strictObjOf('parts', partSchemas)] : [];\n      return ps.concat([\n        strict$1('uid'),\n        defaulted$1('dom', {}),\n        defaulted$1('components', []),\n        snapshot('originalSpec'),\n        defaulted$1('debug.sketcher', {})\n      ]).concat(partUidsSchemas);\n    };\n    var asRawOrDie$1 = function (label, schema, spec, partSchemas, partUidsSchemas) {\n      var baseS = base(partSchemas, partUidsSchemas);\n      return asRawOrDie(label + ' [SpecSchema]', objOfOnly(baseS.concat(schema)), spec);\n    };\n\n    var single$1 = function (owner, schema, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var detail = asRawOrDie$1(owner, schema, specWithUid, [], []);\n      return factory(detail, specWithUid);\n    };\n    var composite = function (owner, schema, partTypes, factory, spec) {\n      var specWithUid = supplyUid(spec);\n      var partSchemas = schemas(partTypes);\n      var partUidsSchema = defaultUidsSchema(partTypes);\n      var detail = asRawOrDie$1(owner, schema, specWithUid, partSchemas, [partUidsSchema]);\n      var subs = substitutes(owner, detail, partTypes);\n      var components$1 = components(owner, detail, subs.internals());\n      return factory(detail, components$1, specWithUid, subs.externals());\n    };\n    var supplyUid = function (spec) {\n      return spec.hasOwnProperty('uid') ? spec : __assign(__assign({}, spec), { uid: generate$2('uid') });\n    };\n\n    function isSketchSpec(spec) {\n      return spec.uid !== undefined;\n    }\n    var singleSchema = objOfOnly([\n      strict$1('name'),\n      strict$1('factory'),\n      strict$1('configFields'),\n      defaulted$1('apis', {}),\n      defaulted$1('extraApis', {})\n    ]);\n    var compositeSchema = objOfOnly([\n      strict$1('name'),\n      strict$1('factory'),\n      strict$1('configFields'),\n      strict$1('partFields'),\n      defaulted$1('apis', {}),\n      defaulted$1('extraApis', {})\n    ]);\n    var single$2 = function (rawConfig) {\n      var config = asRawOrDie('Sketcher for ' + rawConfig.name, singleSchema, rawConfig);\n      var sketch = function (spec) {\n        return single$1(config.name, config.configFields, config.factory, spec);\n      };\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: constant(config.name),\n        partFields: constant([]),\n        configFields: constant(config.configFields),\n        sketch: sketch\n      }, apis), extraApis);\n    };\n    var composite$1 = function (rawConfig) {\n      var config = asRawOrDie('Sketcher for ' + rawConfig.name, compositeSchema, rawConfig);\n      var sketch = function (spec) {\n        return composite(config.name, config.configFields, config.partFields, config.factory, spec);\n      };\n      var parts = generate$4(config.name, config.partFields);\n      var apis = map$1(config.apis, makeApi);\n      var extraApis = map$1(config.extraApis, function (f, k) {\n        return markAsExtraApi(f, k);\n      });\n      return __assign(__assign({\n        name: constant(config.name),\n        partFields: constant(config.partFields),\n        configFields: constant(config.configFields),\n        sketch: sketch,\n        parts: constant(parts)\n      }, apis), extraApis);\n    };\n\n    var inside = function (target) {\n      return name(target) === 'input' && get$2(target, 'type') !== 'radio' || name(target) === 'textarea';\n    };\n\n    var getCurrent = function (component, composeConfig, composeState) {\n      return composeConfig.find(component);\n    };\n\n    var ComposeApis = /*#__PURE__*/Object.freeze({\n        getCurrent: getCurrent\n    });\n\n    var ComposeSchema = [strict$1('find')];\n\n    var Composing = create$1({\n      fields: ComposeSchema,\n      name: 'composing',\n      apis: ComposeApis\n    });\n\n    var dehighlightAllExcept = function (component, hConfig, hState, skip) {\n      var highlighted = descendants(component.element(), '.' + hConfig.highlightClass);\n      each(highlighted, function (h) {\n        if (!exists(skip, function (skipComp) {\n            return skipComp.element() === h;\n          })) {\n          remove$4(h, hConfig.highlightClass);\n          component.getSystem().getByDom(h).each(function (target) {\n            hConfig.onDehighlight(component, target);\n            emit(target, dehighlight());\n          });\n        }\n      });\n    };\n    var dehighlightAll = function (component, hConfig, hState) {\n      return dehighlightAllExcept(component, hConfig, hState, []);\n    };\n    var dehighlight$1 = function (component, hConfig, hState, target) {\n      if (isHighlighted(component, hConfig, hState, target)) {\n        remove$4(target.element(), hConfig.highlightClass);\n        hConfig.onDehighlight(component, target);\n        emit(target, dehighlight());\n      }\n    };\n    var highlight$1 = function (component, hConfig, hState, target) {\n      dehighlightAllExcept(component, hConfig, hState, [target]);\n      if (!isHighlighted(component, hConfig, hState, target)) {\n        add$2(target.element(), hConfig.highlightClass);\n        hConfig.onHighlight(component, target);\n        emit(target, highlight());\n      }\n    };\n    var highlightFirst = function (component, hConfig, hState) {\n      getFirst(component, hConfig).each(function (firstComp) {\n        highlight$1(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightLast = function (component, hConfig, hState) {\n      getLast(component, hConfig).each(function (lastComp) {\n        highlight$1(component, hConfig, hState, lastComp);\n      });\n    };\n    var highlightAt = function (component, hConfig, hState, index) {\n      getByIndex(component, hConfig, hState, index).fold(function (err) {\n        throw new Error(err);\n      }, function (firstComp) {\n        highlight$1(component, hConfig, hState, firstComp);\n      });\n    };\n    var highlightBy = function (component, hConfig, hState, predicate) {\n      var candidates = getCandidates(component, hConfig);\n      var targetComp = find(candidates, predicate);\n      targetComp.each(function (c) {\n        highlight$1(component, hConfig, hState, c);\n      });\n    };\n    var isHighlighted = function (component, hConfig, hState, queryTarget) {\n      return has$2(queryTarget.element(), hConfig.highlightClass);\n    };\n    var getHighlighted = function (component, hConfig, hState) {\n      return descendant$1(component.element(), '.' + hConfig.highlightClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOption();\n      });\n    };\n    var getByIndex = function (component, hConfig, hState, index) {\n      var items = descendants(component.element(), '.' + hConfig.itemClass);\n      return Option.from(items[index]).fold(function () {\n        return Result.error('No element found with index ' + index);\n      }, component.getSystem().getByDom);\n    };\n    var getFirst = function (component, hConfig, hState) {\n      return descendant$1(component.element(), '.' + hConfig.itemClass).bind(function (e) {\n        return component.getSystem().getByDom(e).toOption();\n      });\n    };\n    var getLast = function (component, hConfig, hState) {\n      var items = descendants(component.element(), '.' + hConfig.itemClass);\n      var last = items.length > 0 ? Option.some(items[items.length - 1]) : Option.none();\n      return last.bind(function (c) {\n        return component.getSystem().getByDom(c).toOption();\n      });\n    };\n    var getDelta = function (component, hConfig, hState, delta) {\n      var items = descendants(component.element(), '.' + hConfig.itemClass);\n      var current = findIndex(items, function (item) {\n        return has$2(item, hConfig.highlightClass);\n      });\n      return current.bind(function (selected) {\n        var dest = cycleBy(selected, delta, 0, items.length - 1);\n        return component.getSystem().getByDom(items[dest]).toOption();\n      });\n    };\n    var getPrevious = function (component, hConfig, hState) {\n      return getDelta(component, hConfig, hState, -1);\n    };\n    var getNext = function (component, hConfig, hState) {\n      return getDelta(component, hConfig, hState, +1);\n    };\n    var getCandidates = function (component, hConfig, hState) {\n      var items = descendants(component.element(), '.' + hConfig.itemClass);\n      return cat(map(items, function (i) {\n        return component.getSystem().getByDom(i).toOption();\n      }));\n    };\n\n    var HighlightApis = /*#__PURE__*/Object.freeze({\n        dehighlightAll: dehighlightAll,\n        dehighlight: dehighlight$1,\n        highlight: highlight$1,\n        highlightFirst: highlightFirst,\n        highlightLast: highlightLast,\n        highlightAt: highlightAt,\n        highlightBy: highlightBy,\n        isHighlighted: isHighlighted,\n        getHighlighted: getHighlighted,\n        getFirst: getFirst,\n        getLast: getLast,\n        getPrevious: getPrevious,\n        getNext: getNext,\n        getCandidates: getCandidates\n    });\n\n    var HighlightSchema = [\n      strict$1('highlightClass'),\n      strict$1('itemClass'),\n      onHandler('onHighlight'),\n      onHandler('onDehighlight')\n    ];\n\n    var Highlighting = create$1({\n      fields: HighlightSchema,\n      name: 'highlighting',\n      apis: HighlightApis\n    });\n\n    var BACKSPACE = function () {\n      return [8];\n    };\n    var TAB = function () {\n      return [9];\n    };\n    var ENTER = function () {\n      return [13];\n    };\n    var ESCAPE = function () {\n      return [27];\n    };\n    var SPACE = function () {\n      return [32];\n    };\n    var LEFT = function () {\n      return [37];\n    };\n    var UP = function () {\n      return [38];\n    };\n    var RIGHT = function () {\n      return [39];\n    };\n    var DOWN = function () {\n      return [40];\n    };\n\n    var cyclePrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      var after = reverse(values.slice(index + 1));\n      return find(before.concat(after), predicate);\n    };\n    var tryPrev = function (values, index, predicate) {\n      var before = reverse(values.slice(0, index));\n      return find(before, predicate);\n    };\n    var cycleNext = function (values, index, predicate) {\n      var before = values.slice(0, index);\n      var after = values.slice(index + 1);\n      return find(after.concat(before), predicate);\n    };\n    var tryNext = function (values, index, predicate) {\n      var after = values.slice(index + 1);\n      return find(after, predicate);\n    };\n\n    var inSet = function (keys) {\n      return function (event) {\n        var raw = event.raw();\n        return contains(keys, raw.which);\n      };\n    };\n    var and = function (preds) {\n      return function (event) {\n        return forall(preds, function (pred) {\n          return pred(event);\n        });\n      };\n    };\n    var isShift = function (event) {\n      var raw = event.raw();\n      return raw.shiftKey === true;\n    };\n    var isControl = function (event) {\n      var raw = event.raw();\n      return raw.ctrlKey === true;\n    };\n    var isNotShift = not(isShift);\n\n    var rule = function (matches, action) {\n      return {\n        matches: matches,\n        classification: action\n      };\n    };\n    var choose$2 = function (transitions, event) {\n      var transition = find(transitions, function (t) {\n        return t.matches(event);\n      });\n      return transition.map(function (t) {\n        return t.classification;\n      });\n    };\n\n    var reportFocusShifting = function (component, prevFocus, newFocus) {\n      var noChange = prevFocus.exists(function (p) {\n        return newFocus.exists(function (n) {\n          return eq(n, p);\n        });\n      });\n      if (!noChange) {\n        emitWith(component, focusShifted(), {\n          prevFocus: prevFocus,\n          newFocus: newFocus\n        });\n      }\n    };\n    var dom = function () {\n      var get = function (component) {\n        return search(component.element());\n      };\n      var set = function (component, focusee) {\n        var prevFocus = get(component);\n        component.getSystem().triggerFocus(focusee, component.element());\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n    var highlights = function () {\n      var get = function (component) {\n        return Highlighting.getHighlighted(component).map(function (item) {\n          return item.element();\n        });\n      };\n      var set = function (component, element) {\n        var prevFocus = get(component);\n        component.getSystem().getByDom(element).fold(noop, function (item) {\n          Highlighting.highlight(component, item);\n        });\n        var newFocus = get(component);\n        reportFocusShifting(component, prevFocus, newFocus);\n      };\n      return {\n        get: get,\n        set: set\n      };\n    };\n\n    var FocusInsideModes;\n    (function (FocusInsideModes) {\n      FocusInsideModes['OnFocusMode'] = 'onFocus';\n      FocusInsideModes['OnEnterOrSpaceMode'] = 'onEnterOrSpace';\n      FocusInsideModes['OnApiMode'] = 'onApi';\n    }(FocusInsideModes || (FocusInsideModes = {})));\n\n    var typical = function (infoSchema, stateInit, getKeydownRules, getKeyupRules, optFocusIn) {\n      var schema = function () {\n        return infoSchema.concat([\n          defaulted$1('focusManager', dom()),\n          defaultedOf('focusInside', 'onFocus', valueOf(function (val) {\n            return contains([\n              'onFocus',\n              'onEnterOrSpace',\n              'onApi'\n            ], val) ? Result.value(val) : Result.error('Invalid value for focusInside');\n          })),\n          output('handler', me),\n          output('state', stateInit),\n          output('sendFocusIn', optFocusIn)\n        ]);\n      };\n      var processKey = function (component, simulatedEvent, getRules, keyingConfig, keyingState) {\n        var rules = getRules(component, simulatedEvent, keyingConfig, keyingState);\n        return choose$2(rules, simulatedEvent.event()).bind(function (rule) {\n          return rule(component, simulatedEvent, keyingConfig, keyingState);\n        });\n      };\n      var toEvents = function (keyingConfig, keyingState) {\n        var onFocusHandler = keyingConfig.focusInside !== FocusInsideModes.OnFocusMode ? Option.none() : optFocusIn(keyingConfig).map(function (focusIn) {\n          return run(focus(), function (component, simulatedEvent) {\n            focusIn(component, keyingConfig, keyingState);\n            simulatedEvent.stop();\n          });\n        });\n        var tryGoInsideComponent = function (component, simulatedEvent) {\n          var isEnterOrSpace = inSet(SPACE().concat(ENTER()))(simulatedEvent.event());\n          if (keyingConfig.focusInside === FocusInsideModes.OnEnterOrSpaceMode && isEnterOrSpace && isSource(component, simulatedEvent)) {\n            optFocusIn(keyingConfig).each(function (focusIn) {\n              focusIn(component, keyingConfig, keyingState);\n              simulatedEvent.stop();\n            });\n          }\n        };\n        return derive(onFocusHandler.toArray().concat([\n          run(keydown(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeydownRules, keyingConfig, keyingState).fold(function () {\n              tryGoInsideComponent(component, simulatedEvent);\n            }, function (_) {\n              simulatedEvent.stop();\n            });\n          }),\n          run(keyup(), function (component, simulatedEvent) {\n            processKey(component, simulatedEvent, getKeyupRules, keyingConfig, keyingState).each(function (_) {\n              simulatedEvent.stop();\n            });\n          })\n        ]));\n      };\n      var me = {\n        schema: schema,\n        processKey: processKey,\n        toEvents: toEvents\n      };\n      return me;\n    };\n\n    var create$3 = function (cyclicField) {\n      var schema = [\n        option('onEscape'),\n        option('onEnter'),\n        defaulted$1('selector', '[data-alloy-tabstop=\"true\"]:not(:disabled)'),\n        defaulted$1('firstTabstop', 0),\n        defaulted$1('useTabstopAt', constant(true)),\n        option('visibilitySelector')\n      ].concat([cyclicField]);\n      var isVisible = function (tabbingConfig, element) {\n        var target = tabbingConfig.visibilitySelector.bind(function (sel) {\n          return closest$3(element, sel);\n        }).getOr(element);\n        return get$6(target) > 0;\n      };\n      var findInitial = function (component, tabbingConfig) {\n        var tabstops = descendants(component.element(), tabbingConfig.selector);\n        var visibles = filter(tabstops, function (elem) {\n          return isVisible(tabbingConfig, elem);\n        });\n        return Option.from(visibles[tabbingConfig.firstTabstop]);\n      };\n      var findCurrent = function (component, tabbingConfig) {\n        return tabbingConfig.focusManager.get(component).bind(function (elem) {\n          return closest$3(elem, tabbingConfig.selector);\n        });\n      };\n      var isTabstop = function (tabbingConfig, element) {\n        return isVisible(tabbingConfig, element) && tabbingConfig.useTabstopAt(element);\n      };\n      var focusIn = function (component, tabbingConfig) {\n        findInitial(component, tabbingConfig).each(function (target) {\n          tabbingConfig.focusManager.set(component, target);\n        });\n      };\n      var goFromTabstop = function (component, tabstops, stopIndex, tabbingConfig, cycle) {\n        return cycle(tabstops, stopIndex, function (elem) {\n          return isTabstop(tabbingConfig, elem);\n        }).fold(function () {\n          return tabbingConfig.cyclic ? Option.some(true) : Option.none();\n        }, function (target) {\n          tabbingConfig.focusManager.set(component, target);\n          return Option.some(true);\n        });\n      };\n      var go = function (component, simulatedEvent, tabbingConfig, cycle) {\n        var tabstops = descendants(component.element(), tabbingConfig.selector);\n        return findCurrent(component, tabbingConfig).bind(function (tabstop) {\n          var optStopIndex = findIndex(tabstops, curry(eq, tabstop));\n          return optStopIndex.bind(function (stopIndex) {\n            return goFromTabstop(component, tabstops, stopIndex, tabbingConfig, cycle);\n          });\n        });\n      };\n      var goBackwards = function (component, simulatedEvent, tabbingConfig, tabbingState) {\n        var navigate = tabbingConfig.cyclic ? cyclePrev : tryPrev;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var goForwards = function (component, simulatedEvent, tabbingConfig, tabbingState) {\n        var navigate = tabbingConfig.cyclic ? cycleNext : tryNext;\n        return go(component, simulatedEvent, tabbingConfig, navigate);\n      };\n      var execute = function (component, simulatedEvent, tabbingConfig, tabbingState) {\n        return tabbingConfig.onEnter.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var exit = function (component, simulatedEvent, tabbingConfig, tabbingState) {\n        return tabbingConfig.onEscape.bind(function (f) {\n          return f(component, simulatedEvent);\n        });\n      };\n      var getKeydownRules = constant([\n        rule(and([\n          isShift,\n          inSet(TAB())\n        ]), goBackwards),\n        rule(inSet(TAB()), goForwards),\n        rule(inSet(ESCAPE()), exit),\n        rule(and([\n          isNotShift,\n          inSet(ENTER())\n        ]), execute)\n      ]);\n      var getKeyupRules = constant([]);\n      return typical(schema, NoState.init, getKeydownRules, getKeyupRules, function () {\n        return Option.some(focusIn);\n      });\n    };\n\n    var AcyclicType = create$3(state$1('cyclic', constant(false)));\n\n    var CyclicType = create$3(state$1('cyclic', constant(true)));\n\n    var doDefaultExecute = function (component, simulatedEvent, focused) {\n      dispatch(component, focused, execute());\n      return Option.some(true);\n    };\n    var defaultExecute = function (component, simulatedEvent, focused) {\n      return inside(focused) && inSet(SPACE())(simulatedEvent.event()) ? Option.none() : doDefaultExecute(component, simulatedEvent, focused);\n    };\n    var stopEventForFirefox = function (component, simulatedEvent) {\n      return Option.some(true);\n    };\n\n    var schema$4 = [\n      defaulted$1('execute', defaultExecute),\n      defaulted$1('useSpace', false),\n      defaulted$1('useEnter', true),\n      defaulted$1('useControlEnter', false),\n      defaulted$1('useDown', false)\n    ];\n    var execute$1 = function (component, simulatedEvent, executeConfig) {\n      return executeConfig.execute(component, simulatedEvent, component.element());\n    };\n    var getKeydownRules = function (component, simulatedEvent, executeConfig, executeState) {\n      var spaceExec = executeConfig.useSpace && !inside(component.element()) ? SPACE() : [];\n      var enterExec = executeConfig.useEnter ? ENTER() : [];\n      var downExec = executeConfig.useDown ? DOWN() : [];\n      var execKeys = spaceExec.concat(enterExec).concat(downExec);\n      return [rule(inSet(execKeys), execute$1)].concat(executeConfig.useControlEnter ? [rule(and([\n          isControl,\n          inSet(ENTER())\n        ]), execute$1)] : []);\n    };\n    var getKeyupRules = function (component, simulatedEvent, executeConfig, executeState) {\n      return executeConfig.useSpace && !inside(component.element()) ? [rule(inSet(SPACE()), stopEventForFirefox)] : [];\n    };\n    var ExecutionType = typical(schema$4, NoState.init, getKeydownRules, getKeyupRules, function () {\n      return Option.none();\n    });\n\n    var flatgrid = function (spec) {\n      var dimensions = Cell(Option.none());\n      var setGridSize = function (numRows, numColumns) {\n        dimensions.set(Option.some({\n          numRows: constant(numRows),\n          numColumns: constant(numColumns)\n        }));\n      };\n      var getNumRows = function () {\n        return dimensions.get().map(function (d) {\n          return d.numRows();\n        });\n      };\n      var getNumColumns = function () {\n        return dimensions.get().map(function (d) {\n          return d.numColumns();\n        });\n      };\n      return nu$5({\n        readState: function () {\n          return dimensions.get().map(function (d) {\n            return {\n              numRows: d.numRows(),\n              numColumns: d.numColumns()\n            };\n          }).getOr({\n            numRows: '?',\n            numColumns: '?'\n          });\n        },\n        setGridSize: setGridSize,\n        getNumRows: getNumRows,\n        getNumColumns: getNumColumns\n      });\n    };\n    var init$2 = function (spec) {\n      return spec.state(spec);\n    };\n\n    var KeyingState = /*#__PURE__*/Object.freeze({\n        flatgrid: flatgrid,\n        init: init$2\n    });\n\n    var useH = function (movement) {\n      return function (component, simulatedEvent, config, state) {\n        var move = movement(component.element());\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var west$2 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveLeft, moveRight);\n      return useH(movement);\n    };\n    var east$2 = function (moveLeft, moveRight) {\n      var movement = onDirection(moveRight, moveLeft);\n      return useH(movement);\n    };\n    var useV = function (move) {\n      return function (component, simulatedEvent, config, state) {\n        return use(move, component, simulatedEvent, config, state);\n      };\n    };\n    var use = function (move, component, simulatedEvent, config, state) {\n      var outcome = config.focusManager.get(component).bind(function (focused) {\n        return move(component.element(), focused, config, state);\n      });\n      return outcome.map(function (newFocus) {\n        config.focusManager.set(component, newFocus);\n        return true;\n      });\n    };\n    var north$2 = useV;\n    var south$2 = useV;\n    var move = useV;\n\n    var isHidden = function (dom) {\n      return dom.offsetWidth <= 0 && dom.offsetHeight <= 0;\n    };\n    var isVisible = function (element) {\n      var dom = element.dom();\n      return !isHidden(dom);\n    };\n\n    var indexInfo = MixedBag([\n      'index',\n      'candidates'\n    ], []);\n    var locate$2 = function (candidates, predicate) {\n      return findIndex(candidates, predicate).map(function (index) {\n        return indexInfo({\n          index: index,\n          candidates: candidates\n        });\n      });\n    };\n\n    var locateVisible = function (container, current, selector) {\n      var predicate = curry(eq, current);\n      var candidates = descendants(container, selector);\n      var visible = filter(candidates, isVisible);\n      return locate$2(visible, predicate);\n    };\n    var findIndex$1 = function (elements, target) {\n      return findIndex(elements, function (elem) {\n        return eq(target, elem);\n      });\n    };\n\n    var withGrid = function (values, index, numCols, f) {\n      var oldRow = Math.floor(index / numCols);\n      var oldColumn = index % numCols;\n      return f(oldRow, oldColumn).bind(function (address) {\n        var newIndex = address.row() * numCols + address.column();\n        return newIndex >= 0 && newIndex < values.length ? Option.some(values[newIndex]) : Option.none();\n      });\n    };\n    var cycleHorizontal = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var onLastRow = oldRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - oldRow * numCols : numCols;\n        var newColumn = cycleBy(oldColumn, delta, 0, colsInRow - 1);\n        return Option.some({\n          row: constant(oldRow),\n          column: constant(newColumn)\n        });\n      });\n    };\n    var cycleVertical = function (values, index, numRows, numCols, delta) {\n      return withGrid(values, index, numCols, function (oldRow, oldColumn) {\n        var newRow = cycleBy(oldRow, delta, 0, numRows - 1);\n        var onLastRow = newRow === numRows - 1;\n        var colsInRow = onLastRow ? values.length - newRow * numCols : numCols;\n        var newCol = cap(oldColumn, 0, colsInRow - 1);\n        return Option.some({\n          row: constant(newRow),\n          column: constant(newCol)\n        });\n      });\n    };\n    var cycleRight = function (values, index, numRows, numCols) {\n      return cycleHorizontal(values, index, numRows, numCols, +1);\n    };\n    var cycleLeft = function (values, index, numRows, numCols) {\n      return cycleHorizontal(values, index, numRows, numCols, -1);\n    };\n    var cycleUp = function (values, index, numRows, numCols) {\n      return cycleVertical(values, index, numRows, numCols, -1);\n    };\n    var cycleDown = function (values, index, numRows, numCols) {\n      return cycleVertical(values, index, numRows, numCols, +1);\n    };\n\n    var schema$5 = [\n      strict$1('selector'),\n      defaulted$1('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted$1('captureTab', false),\n      initSize()\n    ];\n    var focusIn = function (component, gridConfig, gridState) {\n      descendant$1(component.element(), gridConfig.selector).each(function (first) {\n        gridConfig.focusManager.set(component, first);\n      });\n    };\n    var findCurrent = function (component, gridConfig) {\n      return gridConfig.focusManager.get(component).bind(function (elem) {\n        return closest$3(elem, gridConfig.selector);\n      });\n    };\n    var execute$2 = function (component, simulatedEvent, gridConfig, gridState) {\n      return findCurrent(component, gridConfig).bind(function (focused) {\n        return gridConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var doMove = function (cycle) {\n      return function (element, focused, gridConfig, gridState) {\n        return locateVisible(element, focused, gridConfig.selector).bind(function (identified) {\n          return cycle(identified.candidates(), identified.index(), gridState.getNumRows().getOr(gridConfig.initSize.numRows), gridState.getNumColumns().getOr(gridConfig.initSize.numColumns));\n        });\n      };\n    };\n    var handleTab = function (component, simulatedEvent, gridConfig, gridState) {\n      return gridConfig.captureTab ? Option.some(true) : Option.none();\n    };\n    var doEscape = function (component, simulatedEvent, gridConfig, gridState) {\n      return gridConfig.onEscape(component, simulatedEvent);\n    };\n    var moveLeft = doMove(cycleLeft);\n    var moveRight = doMove(cycleRight);\n    var moveNorth = doMove(cycleUp);\n    var moveSouth = doMove(cycleDown);\n    var getKeydownRules$1 = constant([\n      rule(inSet(LEFT()), west$2(moveLeft, moveRight)),\n      rule(inSet(RIGHT()), east$2(moveLeft, moveRight)),\n      rule(inSet(UP()), north$2(moveNorth)),\n      rule(inSet(DOWN()), south$2(moveSouth)),\n      rule(and([\n        isShift,\n        inSet(TAB())\n      ]), handleTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB())\n      ]), handleTab),\n      rule(inSet(ESCAPE()), doEscape),\n      rule(inSet(SPACE().concat(ENTER())), execute$2)\n    ]);\n    var getKeyupRules$1 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n    var FlatgridType = typical(schema$5, flatgrid, getKeydownRules$1, getKeyupRules$1, function () {\n      return Option.some(focusIn);\n    });\n\n    var horizontal = function (container, selector, current, delta) {\n      var isDisabledButton = function (candidate) {\n        return name(candidate) === 'button' && get$2(candidate, 'disabled') === 'disabled';\n      };\n      var tryCycle = function (initial, index, candidates) {\n        var newIndex = cycleBy(index, delta, 0, candidates.length - 1);\n        if (newIndex === initial) {\n          return Option.none();\n        } else {\n          return isDisabledButton(candidates[newIndex]) ? tryCycle(initial, newIndex, candidates) : Option.from(candidates[newIndex]);\n        }\n      };\n      return locateVisible(container, current, selector).bind(function (identified) {\n        var index = identified.index();\n        var candidates = identified.candidates();\n        return tryCycle(index, index, candidates);\n      });\n    };\n\n    var schema$6 = [\n      strict$1('selector'),\n      defaulted$1('getInitial', Option.none),\n      defaulted$1('execute', defaultExecute),\n      onKeyboardHandler('onEscape'),\n      defaulted$1('executeOnMove', false),\n      defaulted$1('allowVertical', true)\n    ];\n    var findCurrent$1 = function (component, flowConfig) {\n      return flowConfig.focusManager.get(component).bind(function (elem) {\n        return closest$3(elem, flowConfig.selector);\n      });\n    };\n    var execute$3 = function (component, simulatedEvent, flowConfig) {\n      return findCurrent$1(component, flowConfig).bind(function (focused) {\n        return flowConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$1 = function (component, flowConfig) {\n      flowConfig.getInitial(component).orThunk(function () {\n        return descendant$1(component.element(), flowConfig.selector);\n      }).each(function (first) {\n        flowConfig.focusManager.set(component, first);\n      });\n    };\n    var moveLeft$1 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveRight$1 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var doMove$1 = function (movement) {\n      return function (component, simulatedEvent, flowConfig) {\n        return movement(component, simulatedEvent, flowConfig).bind(function () {\n          return flowConfig.executeOnMove ? execute$3(component, simulatedEvent, flowConfig) : Option.some(true);\n        });\n      };\n    };\n    var doEscape$1 = function (component, simulatedEvent, flowConfig, _flowState) {\n      return flowConfig.onEscape(component, simulatedEvent);\n    };\n    var getKeydownRules$2 = function (_component, _se, flowConfig, _flowState) {\n      var westMovers = LEFT().concat(flowConfig.allowVertical ? UP() : []);\n      var eastMovers = RIGHT().concat(flowConfig.allowVertical ? DOWN() : []);\n      return [\n        rule(inSet(westMovers), doMove$1(west$2(moveLeft$1, moveRight$1))),\n        rule(inSet(eastMovers), doMove$1(east$2(moveLeft$1, moveRight$1))),\n        rule(inSet(ENTER()), execute$3),\n        rule(inSet(SPACE()), execute$3),\n        rule(inSet(ESCAPE()), doEscape$1)\n      ];\n    };\n    var getKeyupRules$2 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n    var FlowType = typical(schema$6, NoState.init, getKeydownRules$2, getKeyupRules$2, function () {\n      return Option.some(focusIn$1);\n    });\n\n    var outcome = MixedBag([\n      'rowIndex',\n      'columnIndex',\n      'cell'\n    ], []);\n    var toCell = function (matrix, rowIndex, columnIndex) {\n      return Option.from(matrix[rowIndex]).bind(function (row) {\n        return Option.from(row[columnIndex]).map(function (cell) {\n          return outcome({\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cell: cell\n          });\n        });\n      });\n    };\n    var cycleHorizontal$1 = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cycleBy(startCol, deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var cycleVertical$1 = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cycleBy(startRow, deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = cap(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var moveHorizontal = function (matrix, rowIndex, startCol, deltaCol) {\n      var row = matrix[rowIndex];\n      var colsInRow = row.length;\n      var newColIndex = cap(startCol + deltaCol, 0, colsInRow - 1);\n      return toCell(matrix, rowIndex, newColIndex);\n    };\n    var moveVertical = function (matrix, colIndex, startRow, deltaRow) {\n      var nextRowIndex = cap(startRow + deltaRow, 0, matrix.length - 1);\n      var colsInNextRow = matrix[nextRowIndex].length;\n      var nextColIndex = cap(colIndex, 0, colsInNextRow - 1);\n      return toCell(matrix, nextRowIndex, nextColIndex);\n    };\n    var cycleRight$1 = function (matrix, startRow, startCol) {\n      return cycleHorizontal$1(matrix, startRow, startCol, +1);\n    };\n    var cycleLeft$1 = function (matrix, startRow, startCol) {\n      return cycleHorizontal$1(matrix, startRow, startCol, -1);\n    };\n    var cycleUp$1 = function (matrix, startRow, startCol) {\n      return cycleVertical$1(matrix, startCol, startRow, -1);\n    };\n    var cycleDown$1 = function (matrix, startRow, startCol) {\n      return cycleVertical$1(matrix, startCol, startRow, +1);\n    };\n    var moveLeft$2 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, -1);\n    };\n    var moveRight$2 = function (matrix, startRow, startCol) {\n      return moveHorizontal(matrix, startRow, startCol, +1);\n    };\n    var moveUp = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, -1);\n    };\n    var moveDown = function (matrix, startRow, startCol) {\n      return moveVertical(matrix, startCol, startRow, +1);\n    };\n\n    var schema$7 = [\n      strictObjOf('selectors', [\n        strict$1('row'),\n        strict$1('cell')\n      ]),\n      defaulted$1('cycles', true),\n      defaulted$1('previousSelector', Option.none),\n      defaulted$1('execute', defaultExecute)\n    ];\n    var focusIn$2 = function (component, matrixConfig) {\n      var focused = matrixConfig.previousSelector(component).orThunk(function () {\n        var selectors = matrixConfig.selectors;\n        return descendant$1(component.element(), selectors.cell);\n      });\n      focused.each(function (cell) {\n        matrixConfig.focusManager.set(component, cell);\n      });\n    };\n    var execute$4 = function (component, simulatedEvent, matrixConfig) {\n      return search(component.element()).bind(function (focused) {\n        return matrixConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var toMatrix = function (rows, matrixConfig) {\n      return map(rows, function (row) {\n        return descendants(row, matrixConfig.selectors.cell);\n      });\n    };\n    var doMove$2 = function (ifCycle, ifMove) {\n      return function (element, focused, matrixConfig) {\n        var move = matrixConfig.cycles ? ifCycle : ifMove;\n        return closest$3(focused, matrixConfig.selectors.row).bind(function (inRow) {\n          var cellsInRow = descendants(inRow, matrixConfig.selectors.cell);\n          return findIndex$1(cellsInRow, focused).bind(function (colIndex) {\n            var allRows = descendants(element, matrixConfig.selectors.row);\n            return findIndex$1(allRows, inRow).bind(function (rowIndex) {\n              var matrix = toMatrix(allRows, matrixConfig);\n              return move(matrix, rowIndex, colIndex).map(function (next) {\n                return next.cell();\n              });\n            });\n          });\n        });\n      };\n    };\n    var moveLeft$3 = doMove$2(cycleLeft$1, moveLeft$2);\n    var moveRight$3 = doMove$2(cycleRight$1, moveRight$2);\n    var moveNorth$1 = doMove$2(cycleUp$1, moveUp);\n    var moveSouth$1 = doMove$2(cycleDown$1, moveDown);\n    var getKeydownRules$3 = constant([\n      rule(inSet(LEFT()), west$2(moveLeft$3, moveRight$3)),\n      rule(inSet(RIGHT()), east$2(moveLeft$3, moveRight$3)),\n      rule(inSet(UP()), north$2(moveNorth$1)),\n      rule(inSet(DOWN()), south$2(moveSouth$1)),\n      rule(inSet(SPACE().concat(ENTER())), execute$4)\n    ]);\n    var getKeyupRules$3 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n    var MatrixType = typical(schema$7, NoState.init, getKeydownRules$3, getKeyupRules$3, function () {\n      return Option.some(focusIn$2);\n    });\n\n    var schema$8 = [\n      strict$1('selector'),\n      defaulted$1('execute', defaultExecute),\n      defaulted$1('moveOnTab', false)\n    ];\n    var execute$5 = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.focusManager.get(component).bind(function (focused) {\n        return menuConfig.execute(component, simulatedEvent, focused);\n      });\n    };\n    var focusIn$3 = function (component, menuConfig) {\n      descendant$1(component.element(), menuConfig.selector).each(function (first) {\n        menuConfig.focusManager.set(component, first);\n      });\n    };\n    var moveUp$1 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, -1);\n    };\n    var moveDown$1 = function (element, focused, info) {\n      return horizontal(element, info.selector, focused, +1);\n    };\n    var fireShiftTab = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.moveOnTab ? move(moveUp$1)(component, simulatedEvent, menuConfig) : Option.none();\n    };\n    var fireTab = function (component, simulatedEvent, menuConfig) {\n      return menuConfig.moveOnTab ? move(moveDown$1)(component, simulatedEvent, menuConfig) : Option.none();\n    };\n    var getKeydownRules$4 = constant([\n      rule(inSet(UP()), move(moveUp$1)),\n      rule(inSet(DOWN()), move(moveDown$1)),\n      rule(and([\n        isShift,\n        inSet(TAB())\n      ]), fireShiftTab),\n      rule(and([\n        isNotShift,\n        inSet(TAB())\n      ]), fireTab),\n      rule(inSet(ENTER()), execute$5),\n      rule(inSet(SPACE()), execute$5)\n    ]);\n    var getKeyupRules$4 = constant([rule(inSet(SPACE()), stopEventForFirefox)]);\n    var MenuType = typical(schema$8, NoState.init, getKeydownRules$4, getKeyupRules$4, function () {\n      return Option.some(focusIn$3);\n    });\n\n    var schema$9 = [\n      onKeyboardHandler('onSpace'),\n      onKeyboardHandler('onEnter'),\n      onKeyboardHandler('onShiftEnter'),\n      onKeyboardHandler('onLeft'),\n      onKeyboardHandler('onRight'),\n      onKeyboardHandler('onTab'),\n      onKeyboardHandler('onShiftTab'),\n      onKeyboardHandler('onUp'),\n      onKeyboardHandler('onDown'),\n      onKeyboardHandler('onEscape'),\n      defaulted$1('stopSpaceKeyup', false),\n      option('focusIn')\n    ];\n    var getKeydownRules$5 = function (component, simulatedEvent, specialInfo) {\n      return [\n        rule(inSet(SPACE()), specialInfo.onSpace),\n        rule(and([\n          isNotShift,\n          inSet(ENTER())\n        ]), specialInfo.onEnter),\n        rule(and([\n          isShift,\n          inSet(ENTER())\n        ]), specialInfo.onShiftEnter),\n        rule(and([\n          isShift,\n          inSet(TAB())\n        ]), specialInfo.onShiftTab),\n        rule(and([\n          isNotShift,\n          inSet(TAB())\n        ]), specialInfo.onTab),\n        rule(inSet(UP()), specialInfo.onUp),\n        rule(inSet(DOWN()), specialInfo.onDown),\n        rule(inSet(LEFT()), specialInfo.onLeft),\n        rule(inSet(RIGHT()), specialInfo.onRight),\n        rule(inSet(SPACE()), specialInfo.onSpace),\n        rule(inSet(ESCAPE()), specialInfo.onEscape)\n      ];\n    };\n    var getKeyupRules$5 = function (component, simulatedEvent, specialInfo) {\n      return specialInfo.stopSpaceKeyup ? [rule(inSet(SPACE()), stopEventForFirefox)] : [];\n    };\n    var SpecialType = typical(schema$9, NoState.init, getKeydownRules$5, getKeyupRules$5, function (specialInfo) {\n      return specialInfo.focusIn;\n    });\n\n    var acyclic = AcyclicType.schema();\n    var cyclic = CyclicType.schema();\n    var flow = FlowType.schema();\n    var flatgrid$1 = FlatgridType.schema();\n    var matrix = MatrixType.schema();\n    var execution = ExecutionType.schema();\n    var menu = MenuType.schema();\n    var special = SpecialType.schema();\n\n    var KeyboardBranches = /*#__PURE__*/Object.freeze({\n        acyclic: acyclic,\n        cyclic: cyclic,\n        flow: flow,\n        flatgrid: flatgrid$1,\n        matrix: matrix,\n        execution: execution,\n        menu: menu,\n        special: special\n    });\n\n    var Keying = createModes$1({\n      branchKey: 'mode',\n      branches: KeyboardBranches,\n      name: 'keying',\n      active: {\n        events: function (keyingConfig, keyingState) {\n          var handler = keyingConfig.handler;\n          return handler.toEvents(keyingConfig, keyingState);\n        }\n      },\n      apis: {\n        focusIn: function (component, keyConfig, keyState) {\n          keyConfig.sendFocusIn(keyConfig).fold(function () {\n            component.getSystem().triggerFocus(component.element(), component.element());\n          }, function (sendFocusIn) {\n            sendFocusIn(component, keyConfig, keyState);\n          });\n        },\n        setGridSize: function (component, keyConfig, keyState, numRows, numColumns) {\n          if (!hasKey$1(keyState, 'setGridSize')) {\n            domGlobals.console.error('Layout does not support setGridSize');\n          } else {\n            keyState.setGridSize(numRows, numColumns);\n          }\n        }\n      },\n      state: KeyingState\n    });\n\n    var set$5 = function (component, replaceConfig, replaceState, data) {\n      preserve(function () {\n        var newChildren = map(data, component.getSystem().build);\n        replaceChildren(component, newChildren);\n      }, component.element());\n    };\n    var insert = function (component, replaceConfig, insertion, childSpec) {\n      var child = component.getSystem().build(childSpec);\n      attachWith(component, child, insertion);\n    };\n    var append$2 = function (component, replaceConfig, replaceState, appendee) {\n      insert(component, replaceConfig, append, appendee);\n    };\n    var prepend$1 = function (component, replaceConfig, replaceState, prependee) {\n      insert(component, replaceConfig, prepend, prependee);\n    };\n    var remove$7 = function (component, replaceConfig, replaceState, removee) {\n      var children = contents(component);\n      var foundChild = find(children, function (child) {\n        return eq(removee.element(), child.element());\n      });\n      foundChild.each(detach);\n    };\n    var contents = function (component, replaceConfig) {\n      return component.components();\n    };\n    var replaceAt = function (component, replaceConfig, replaceState, replaceeIndex, replacer) {\n      var children = contents(component);\n      return Option.from(children[replaceeIndex]).map(function (replacee) {\n        remove$7(component, replaceConfig, replaceState, replacee);\n        replacer.each(function (r) {\n          insert(component, replaceConfig, function (p, c) {\n            appendAt(p, c, replaceeIndex);\n          }, r);\n        });\n        return replacee;\n      });\n    };\n    var replaceBy = function (component, replaceConfig, replaceState, replaceePred, replacer) {\n      var children = contents(component);\n      return findIndex(children, replaceePred).bind(function (replaceeIndex) {\n        return replaceAt(component, replaceConfig, replaceState, replaceeIndex, replacer);\n      });\n    };\n\n    var ReplaceApis = /*#__PURE__*/Object.freeze({\n        append: append$2,\n        prepend: prepend$1,\n        remove: remove$7,\n        replaceAt: replaceAt,\n        replaceBy: replaceBy,\n        set: set$5,\n        contents: contents\n    });\n\n    var Replacing = create$1({\n      fields: [],\n      name: 'replacing',\n      apis: ReplaceApis\n    });\n\n    var events$4 = function (name, eventHandlers) {\n      var events = derive(eventHandlers);\n      return create$1({\n        fields: [strict$1('enabled')],\n        name: name,\n        active: { events: constant(events) }\n      });\n    };\n    var config = function (name, eventHandlers) {\n      var me = events$4(name, eventHandlers);\n      return {\n        key: name,\n        value: {\n          config: {},\n          me: me,\n          configAsRaw: constant({}),\n          initialConfig: {},\n          state: NoState\n        }\n      };\n    };\n\n    var focus$2 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        focus$1(component.element());\n        focusConfig.onFocus(component);\n      }\n    };\n    var blur$1 = function (component, focusConfig) {\n      if (!focusConfig.ignore) {\n        blur(component.element());\n      }\n    };\n    var isFocused = function (component) {\n      return hasFocus(component.element());\n    };\n\n    var FocusApis = /*#__PURE__*/Object.freeze({\n        focus: focus$2,\n        blur: blur$1,\n        isFocused: isFocused\n    });\n\n    var exhibit$1 = function (base, focusConfig) {\n      var mod = focusConfig.ignore ? {} : { attributes: { tabindex: '-1' } };\n      return nu$6(mod);\n    };\n    var events$5 = function (focusConfig) {\n      return derive([run(focus(), function (component, simulatedEvent) {\n          focus$2(component, focusConfig);\n          simulatedEvent.stop();\n        })].concat(focusConfig.stopMousedown ? [run(mousedown(), function (_, simulatedEvent) {\n          simulatedEvent.event().prevent();\n        })] : []));\n    };\n\n    var ActiveFocus = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit$1,\n        events: events$5\n    });\n\n    var FocusSchema = [\n      onHandler('onFocus'),\n      defaulted$1('stopMousedown', false),\n      defaulted$1('ignore', false)\n    ];\n\n    var Focusing = create$1({\n      fields: FocusSchema,\n      name: 'focusing',\n      active: ActiveFocus,\n      apis: FocusApis\n    });\n\n    var updateAriaState = function (component, toggleConfig, toggleState) {\n      var ariaInfo = toggleConfig.aria;\n      ariaInfo.update(component, ariaInfo, toggleState.get());\n    };\n    var updateClass = function (component, toggleConfig, toggleState) {\n      toggleConfig.toggleClass.each(function (toggleClass) {\n        if (toggleState.get()) {\n          add$2(component.element(), toggleClass);\n        } else {\n          remove$4(component.element(), toggleClass);\n        }\n      });\n    };\n    var toggle = function (component, toggleConfig, toggleState) {\n      set$6(component, toggleConfig, toggleState, !toggleState.get());\n    };\n    var on$1 = function (component, toggleConfig, toggleState) {\n      toggleState.set(true);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var off = function (component, toggleConfig, toggleState) {\n      toggleState.set(false);\n      updateClass(component, toggleConfig, toggleState);\n      updateAriaState(component, toggleConfig, toggleState);\n    };\n    var set$6 = function (component, toggleConfig, toggleState, state) {\n      var action = state ? on$1 : off;\n      action(component, toggleConfig, toggleState);\n    };\n    var isOn = function (component, toggleConfig, toggleState) {\n      return toggleState.get();\n    };\n    var onLoad$4 = function (component, toggleConfig, toggleState) {\n      set$6(component, toggleConfig, toggleState, toggleConfig.selected);\n    };\n\n    var ToggleApis = /*#__PURE__*/Object.freeze({\n        onLoad: onLoad$4,\n        toggle: toggle,\n        isOn: isOn,\n        on: on$1,\n        off: off,\n        set: set$6\n    });\n\n    var exhibit$2 = function (base, toggleConfig, toggleState) {\n      return nu$6({});\n    };\n    var events$6 = function (toggleConfig, toggleState) {\n      var execute = executeEvent(toggleConfig, toggleState, toggle);\n      var load = loadEvent(toggleConfig, toggleState, onLoad$4);\n      return derive(flatten([\n        toggleConfig.toggleOnExecute ? [execute] : [],\n        [load]\n      ]));\n    };\n\n    var ActiveToggle = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit$2,\n        events: events$6\n    });\n\n    var SetupBehaviourCellState = function (initialState) {\n      var init = function () {\n        var cell = Cell(initialState);\n        var get = function () {\n          return cell.get();\n        };\n        var set = function (newState) {\n          return cell.set(newState);\n        };\n        var clear = function () {\n          return cell.set(initialState);\n        };\n        var readState = function () {\n          return cell.get();\n        };\n        return {\n          get: get,\n          set: set,\n          clear: clear,\n          readState: readState\n        };\n      };\n      return { init: init };\n    };\n\n    var updatePressed = function (component, ariaInfo, status) {\n      set$1(component.element(), 'aria-pressed', status);\n      if (ariaInfo.syncWithExpanded) {\n        updateExpanded(component, ariaInfo, status);\n      }\n    };\n    var updateSelected = function (component, ariaInfo, status) {\n      set$1(component.element(), 'aria-selected', status);\n    };\n    var updateChecked = function (component, ariaInfo, status) {\n      set$1(component.element(), 'aria-checked', status);\n    };\n    var updateExpanded = function (component, ariaInfo, status) {\n      set$1(component.element(), 'aria-expanded', status);\n    };\n\n    var ToggleSchema = [\n      defaulted$1('selected', false),\n      option('toggleClass'),\n      defaulted$1('toggleOnExecute', true),\n      defaultedOf('aria', { mode: 'none' }, choose$1('mode', {\n        pressed: [\n          defaulted$1('syncWithExpanded', false),\n          output('update', updatePressed)\n        ],\n        checked: [output('update', updateChecked)],\n        expanded: [output('update', updateExpanded)],\n        selected: [output('update', updateSelected)],\n        none: [output('update', noop)]\n      }))\n    ];\n\n    var Toggling = create$1({\n      fields: ToggleSchema,\n      name: 'toggling',\n      active: ActiveToggle,\n      apis: ToggleApis,\n      state: SetupBehaviourCellState(false)\n    });\n\n    var hoverEvent = 'alloy.item-hover';\n    var focusEvent = 'alloy.item-focus';\n    var onHover = function (item) {\n      if (search(item.element()).isNone() || Focusing.isFocused(item)) {\n        if (!Focusing.isFocused(item)) {\n          Focusing.focus(item);\n        }\n        emitWith(item, hoverEvent, { item: item });\n      }\n    };\n    var onFocus = function (item) {\n      emitWith(item, focusEvent, { item: item });\n    };\n    var hover = constant(hoverEvent);\n    var focus$3 = constant(focusEvent);\n\n    var builder = function (detail) {\n      return {\n        dom: detail.dom,\n        domModification: __assign(__assign({}, detail.domModification), { attributes: __assign(__assign(__assign({ 'role': detail.toggling.isSome() ? 'menuitemcheckbox' : 'menuitem' }, detail.domModification.attributes), { 'aria-haspopup': detail.hasSubmenu }), detail.hasSubmenu ? { 'aria-expanded': false } : {}) }),\n        behaviours: SketchBehaviours.augment(detail.itemBehaviours, [\n          detail.toggling.fold(Toggling.revoke, function (tConfig) {\n            return Toggling.config(__assign({ aria: { mode: 'checked' } }, tConfig));\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            stopMousedown: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus(component);\n            }\n          }),\n          Keying.config({ mode: 'execution' }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          config('item-type-events', [\n            run(tapOrClick(), emitExecute),\n            cutter(mousedown()),\n            run(mouseover(), onHover),\n            run(focusItem(), Focusing.focus)\n          ])\n        ]),\n        components: detail.components,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var schema$a = [\n      strict$1('data'),\n      strict$1('components'),\n      strict$1('dom'),\n      defaulted$1('hasSubmenu', false),\n      option('toggling'),\n      SketchBehaviours.field('itemBehaviours', [\n        Toggling,\n        Focusing,\n        Keying,\n        Representing\n      ]),\n      defaulted$1('ignoreFocus', false),\n      defaulted$1('domModification', {}),\n      output('builder', builder),\n      defaulted$1('eventOrder', {})\n    ];\n\n    var builder$1 = function (detail) {\n      return {\n        dom: detail.dom,\n        components: detail.components,\n        events: derive([stopper(focusItem())])\n      };\n    };\n    var schema$b = [\n      strict$1('dom'),\n      strict$1('components'),\n      output('builder', builder$1)\n    ];\n\n    var owner$2 = function () {\n      return 'item-widget';\n    };\n    var parts = constant([required({\n        name: 'widget',\n        overrides: function (detail) {\n          return {\n            behaviours: derive$1([Representing.config({\n                store: {\n                  mode: 'manual',\n                  getValue: function (component) {\n                    return detail.data;\n                  },\n                  setValue: function () {\n                  }\n                }\n              })])\n          };\n        }\n      })]);\n\n    var builder$2 = function (detail) {\n      var subs = substitutes(owner$2(), detail, parts());\n      var components$1 = components(owner$2(), detail, subs.internals());\n      var focusWidget = function (component) {\n        return getPart(component, detail, 'widget').map(function (widget) {\n          Keying.focusIn(widget);\n          return widget;\n        });\n      };\n      var onHorizontalArrow = function (component, simulatedEvent) {\n        return inside(simulatedEvent.event().target()) ? Option.none() : function () {\n          if (detail.autofocus) {\n            simulatedEvent.setSource(component.element());\n            return Option.none();\n          } else {\n            return Option.none();\n          }\n        }();\n      };\n      return {\n        dom: detail.dom,\n        components: components$1,\n        domModification: detail.domModification,\n        events: derive([\n          runOnExecute(function (component, simulatedEvent) {\n            focusWidget(component).each(function (widget) {\n              simulatedEvent.stop();\n            });\n          }),\n          run(mouseover(), onHover),\n          run(focusItem(), function (component, simulatedEvent) {\n            if (detail.autofocus) {\n              focusWidget(component);\n            } else {\n              Focusing.focus(component);\n            }\n          })\n        ]),\n        behaviours: SketchBehaviours.augment(detail.widgetBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.data\n            }\n          }),\n          Focusing.config({\n            ignore: detail.ignoreFocus,\n            onFocus: function (component) {\n              onFocus(component);\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            focusIn: detail.autofocus ? function (component) {\n              focusWidget(component);\n            } : revoke(),\n            onLeft: onHorizontalArrow,\n            onRight: onHorizontalArrow,\n            onEscape: function (component, simulatedEvent) {\n              if (!Focusing.isFocused(component) && !detail.autofocus) {\n                Focusing.focus(component);\n                return Option.some(true);\n              } else if (detail.autofocus) {\n                simulatedEvent.setSource(component.element());\n                return Option.none();\n              } else {\n                return Option.none();\n              }\n            }\n          })\n        ])\n      };\n    };\n    var schema$c = [\n      strict$1('uid'),\n      strict$1('data'),\n      strict$1('components'),\n      strict$1('dom'),\n      defaulted$1('autofocus', false),\n      defaulted$1('ignoreFocus', false),\n      SketchBehaviours.field('widgetBehaviours', [\n        Representing,\n        Focusing,\n        Keying\n      ]),\n      defaulted$1('domModification', {}),\n      defaultUidsSchema(parts()),\n      output('builder', builder$2)\n    ];\n\n    var itemSchema$1 = choose$1('type', {\n      widget: schema$c,\n      item: schema$a,\n      separator: schema$b\n    });\n    var configureGrid = function (detail, movementInfo) {\n      return {\n        mode: 'flatgrid',\n        selector: '.' + detail.markers.item,\n        initSize: {\n          numColumns: movementInfo.initSize.numColumns,\n          numRows: movementInfo.initSize.numRows\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMatrix = function (detail, movementInfo) {\n      return {\n        mode: 'matrix',\n        selectors: {\n          row: movementInfo.rowSelector,\n          cell: '.' + detail.markers.item\n        },\n        focusManager: detail.focusManager\n      };\n    };\n    var configureMenu = function (detail, movementInfo) {\n      return {\n        mode: 'menu',\n        selector: '.' + detail.markers.item,\n        moveOnTab: movementInfo.moveOnTab,\n        focusManager: detail.focusManager\n      };\n    };\n    var parts$1 = constant([group({\n        factory: {\n          sketch: function (spec) {\n            var itemInfo = asRawOrDie('menu.spec item', itemSchema$1, spec);\n            return itemInfo.builder(itemInfo);\n          }\n        },\n        name: 'items',\n        unit: 'item',\n        defaults: function (detail, u) {\n          return u.hasOwnProperty('uid') ? u : __assign(__assign({}, u), { uid: generate$2('item') });\n        },\n        overrides: function (detail, u) {\n          return {\n            type: u.type,\n            ignoreFocus: detail.fakeFocus,\n            domModification: { classes: [detail.markers.item] }\n          };\n        }\n      })]);\n    var schema$d = constant([\n      strict$1('value'),\n      strict$1('items'),\n      strict$1('dom'),\n      strict$1('components'),\n      defaulted$1('eventOrder', {}),\n      field$1('menuBehaviours', [\n        Highlighting,\n        Representing,\n        Composing,\n        Keying\n      ]),\n      defaultedOf('movement', {\n        mode: 'menu',\n        moveOnTab: true\n      }, choose$1('mode', {\n        grid: [\n          initSize(),\n          output('config', configureGrid)\n        ],\n        matrix: [\n          output('config', configureMatrix),\n          strict$1('rowSelector')\n        ],\n        menu: [\n          defaulted$1('moveOnTab', true),\n          output('config', configureMenu)\n        ]\n      })),\n      itemMarkers(),\n      defaulted$1('fakeFocus', false),\n      defaulted$1('focusManager', dom()),\n      onHandler('onHighlight')\n    ]);\n\n    var focus$4 = constant('alloy.menu-focus');\n\n    var make$1 = function (detail, components, spec, externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.menuBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedItem,\n            itemClass: detail.markers.item,\n            onHighlight: detail.onHighlight\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          }),\n          Composing.config({ find: Option.some }),\n          Keying.config(detail.movement.config(detail, detail.movement))\n        ]),\n        events: derive([\n          run(focus$3(), function (menu, simulatedEvent) {\n            var event = simulatedEvent.event();\n            menu.getSystem().getByDom(event.target()).each(function (item) {\n              Highlighting.highlight(menu, item);\n              simulatedEvent.stop();\n              emitWith(menu, focus$4(), {\n                menu: menu,\n                item: item\n              });\n            });\n          }),\n          run(hover(), function (menu, simulatedEvent) {\n            var item = simulatedEvent.event().item();\n            Highlighting.highlight(menu, item);\n          })\n        ]),\n        components: components,\n        eventOrder: detail.eventOrder,\n        domModification: { attributes: { role: 'menu' } }\n      };\n    };\n\n    var Menu = composite$1({\n      name: 'Menu',\n      configFields: schema$d(),\n      partFields: parts$1(),\n      factory: make$1\n    });\n\n    var transpose = function (obj) {\n      return tupleMap(obj, function (v, k) {\n        return {\n          k: v,\n          v: k\n        };\n      });\n    };\n    var trace = function (items, byItem, byMenu, finish) {\n      return readOptFrom$1(byMenu, finish).bind(function (triggerItem) {\n        return readOptFrom$1(items, triggerItem).bind(function (triggerMenu) {\n          var rest = trace(items, byItem, byMenu, triggerMenu);\n          return Option.some([triggerMenu].concat(rest));\n        });\n      }).getOr([]);\n    };\n    var generate$5 = function (menus, expansions) {\n      var items = {};\n      each$1(menus, function (menuItems, menu) {\n        each(menuItems, function (item) {\n          items[item] = menu;\n        });\n      });\n      var byItem = expansions;\n      var byMenu = transpose(expansions);\n      var menuPaths = map$1(byMenu, function (_triggerItem, submenu) {\n        return [submenu].concat(trace(items, byItem, byMenu, submenu));\n      });\n      return map$1(items, function (menu) {\n        return readOptFrom$1(menuPaths, menu).getOr([menu]);\n      });\n    };\n\n    var init$3 = function () {\n      var expansions = Cell({});\n      var menus = Cell({});\n      var paths = Cell({});\n      var primary = Cell(Option.none());\n      var directory = Cell({});\n      var clear = function () {\n        expansions.set({});\n        menus.set({});\n        paths.set({});\n        primary.set(Option.none());\n      };\n      var isClear = function () {\n        return primary.get().isNone();\n      };\n      var setMenuBuilt = function (menuName, built) {\n        var _a;\n        menus.set(__assign(__assign({}, menus.get()), (_a = {}, _a[menuName] = {\n          type: 'prepared',\n          menu: built\n        }, _a)));\n      };\n      var setContents = function (sPrimary, sMenus, sExpansions, dir) {\n        primary.set(Option.some(sPrimary));\n        expansions.set(sExpansions);\n        menus.set(sMenus);\n        directory.set(dir);\n        var sPaths = generate$5(dir, sExpansions);\n        paths.set(sPaths);\n      };\n      var getTriggeringItem = function (menuValue) {\n        return find$1(expansions.get(), function (v, k) {\n          return v === menuValue;\n        });\n      };\n      var getTriggerData = function (menuValue, getItemByValue, path) {\n        return getPreparedMenu(menuValue).bind(function (menu) {\n          return getTriggeringItem(menuValue).bind(function (triggeringItemValue) {\n            return getItemByValue(triggeringItemValue).map(function (triggeredItem) {\n              return {\n                triggeredMenu: menu,\n                triggeringItem: triggeredItem,\n                triggeringPath: path\n              };\n            });\n          });\n        });\n      };\n      var getTriggeringPath = function (itemValue, getItemByValue) {\n        var extraPath = filter(lookupItem(itemValue).toArray(), function (menuValue) {\n          return getPreparedMenu(menuValue).isSome();\n        });\n        return readOptFrom$1(paths.get(), itemValue).bind(function (path) {\n          var revPath = reverse(extraPath.concat(path));\n          var triggers = bind(revPath, function (menuValue, menuIndex) {\n            return getTriggerData(menuValue, getItemByValue, revPath.slice(0, menuIndex + 1)).fold(function () {\n              return primary.get().is(menuValue) ? [] : [Option.none()];\n            }, function (data) {\n              return [Option.some(data)];\n            });\n          });\n          return sequence(triggers);\n        });\n      };\n      var expand = function (itemValue) {\n        return readOptFrom$1(expansions.get(), itemValue).map(function (menu) {\n          var current = readOptFrom$1(paths.get(), itemValue).getOr([]);\n          return [menu].concat(current);\n        });\n      };\n      var collapse = function (itemValue) {\n        return readOptFrom$1(paths.get(), itemValue).bind(function (path) {\n          return path.length > 1 ? Option.some(path.slice(1)) : Option.none();\n        });\n      };\n      var refresh = function (itemValue) {\n        return readOptFrom$1(paths.get(), itemValue);\n      };\n      var getPreparedMenu = function (menuValue) {\n        return lookupMenu(menuValue).bind(extractPreparedMenu);\n      };\n      var lookupMenu = function (menuValue) {\n        return readOptFrom$1(menus.get(), menuValue);\n      };\n      var lookupItem = function (itemValue) {\n        return readOptFrom$1(expansions.get(), itemValue);\n      };\n      var otherMenus = function (path) {\n        var menuValues = directory.get();\n        return difference(keys(menuValues), path);\n      };\n      var getPrimary = function () {\n        return primary.get().bind(getPreparedMenu);\n      };\n      var getMenus = function () {\n        return menus.get();\n      };\n      return {\n        setMenuBuilt: setMenuBuilt,\n        setContents: setContents,\n        expand: expand,\n        refresh: refresh,\n        collapse: collapse,\n        lookupMenu: lookupMenu,\n        lookupItem: lookupItem,\n        otherMenus: otherMenus,\n        getPrimary: getPrimary,\n        getMenus: getMenus,\n        clear: clear,\n        isClear: isClear,\n        getTriggeringPath: getTriggeringPath\n      };\n    };\n    var extractPreparedMenu = function (prep) {\n      return prep.type === 'prepared' ? Option.some(prep.menu) : Option.none();\n    };\n    var LayeredState = {\n      init: init$3,\n      extractPreparedMenu: extractPreparedMenu\n    };\n\n    var make$2 = function (detail, rawUiSpec) {\n      var submenuParentItems = Cell(Option.none());\n      var buildMenus = function (container, primaryName, menus) {\n        return map$1(menus, function (spec, name) {\n          var makeSketch = function () {\n            return Menu.sketch(__assign(__assign({ dom: spec.dom }, spec), {\n              value: name,\n              items: spec.items,\n              markers: detail.markers,\n              fakeFocus: detail.fakeFocus,\n              onHighlight: detail.onHighlight,\n              focusManager: detail.fakeFocus ? highlights() : dom()\n            }));\n          };\n          return name === primaryName ? {\n            type: 'prepared',\n            menu: container.getSystem().build(makeSketch())\n          } : {\n            type: 'notbuilt',\n            nbMenu: makeSketch\n          };\n        });\n      };\n      var layeredState = LayeredState.init();\n      var setup = function (container) {\n        var componentMap = buildMenus(container, detail.data.primary, detail.data.menus);\n        var directory = toDirectory();\n        layeredState.setContents(detail.data.primary, componentMap, detail.data.expansions, directory);\n        return layeredState.getPrimary();\n      };\n      var getItemValue = function (item) {\n        return Representing.getValue(item).value;\n      };\n      var getItemByValue = function (container, menus, itemValue) {\n        return findMap(menus, function (menu) {\n          if (!menu.getSystem().isConnected()) {\n            return Option.none();\n          }\n          var candidates = Highlighting.getCandidates(menu);\n          return find(candidates, function (c) {\n            return getItemValue(c) === itemValue;\n          });\n        });\n      };\n      var toDirectory = function (container) {\n        return map$1(detail.data.menus, function (data, menuName) {\n          return bind(data.items, function (item) {\n            return item.type === 'separator' ? [] : [item.data.value];\n          });\n        });\n      };\n      var setActiveMenu = function (container, menu) {\n        Highlighting.highlight(container, menu);\n        Highlighting.getHighlighted(menu).orThunk(function () {\n          return Highlighting.getFirst(menu);\n        }).each(function (item) {\n          dispatch(container, item.element(), focusItem());\n        });\n      };\n      var getMenus = function (state, menuValues) {\n        return cat(map(menuValues, function (mv) {\n          return state.lookupMenu(mv).bind(function (prep) {\n            return prep.type === 'prepared' ? Option.some(prep.menu) : Option.none();\n          });\n        }));\n      };\n      var closeOthers = function (container, state, path) {\n        var others = getMenus(state, state.otherMenus(path));\n        each(others, function (o) {\n          remove$5(o.element(), [detail.markers.backgroundMenu]);\n          if (!detail.stayInDom) {\n            Replacing.remove(container, o);\n          }\n        });\n      };\n      var getSubmenuParents = function (container) {\n        return submenuParentItems.get().getOrThunk(function () {\n          var r = {};\n          var items = descendants(container.element(), '.' + detail.markers.item);\n          var parentItems = filter(items, function (i) {\n            return get$2(i, 'aria-haspopup') === 'true';\n          });\n          each(parentItems, function (i) {\n            container.getSystem().getByDom(i).each(function (itemComp) {\n              var key = getItemValue(itemComp);\n              r[key] = itemComp;\n            });\n          });\n          submenuParentItems.set(Option.some(r));\n          return r;\n        });\n      };\n      var updateAriaExpansions = function (container, path) {\n        var parentItems = getSubmenuParents(container);\n        each$1(parentItems, function (v, k) {\n          var expanded = contains(path, k);\n          set$1(v.element(), 'aria-expanded', expanded);\n        });\n      };\n      var updateMenuPath = function (container, state, path) {\n        return Option.from(path[0]).bind(function (latestMenuName) {\n          return state.lookupMenu(latestMenuName).bind(function (menuPrep) {\n            if (menuPrep.type === 'notbuilt') {\n              return Option.none();\n            } else {\n              var activeMenu = menuPrep.menu;\n              var rest = getMenus(state, path.slice(1));\n              each(rest, function (r) {\n                add$2(r.element(), detail.markers.backgroundMenu);\n              });\n              if (!inBody(activeMenu.element())) {\n                Replacing.append(container, premade$1(activeMenu));\n              }\n              remove$5(activeMenu.element(), [detail.markers.backgroundMenu]);\n              setActiveMenu(container, activeMenu);\n              closeOthers(container, state, path);\n              return Option.some(activeMenu);\n            }\n          });\n        });\n      };\n      var ExpandHighlightDecision;\n      (function (ExpandHighlightDecision) {\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightSubmenu'] = 0] = 'HighlightSubmenu';\n        ExpandHighlightDecision[ExpandHighlightDecision['HighlightParent'] = 1] = 'HighlightParent';\n      }(ExpandHighlightDecision || (ExpandHighlightDecision = {})));\n      var buildIfRequired = function (container, menuName, menuPrep) {\n        if (menuPrep.type === 'notbuilt') {\n          var menu = container.getSystem().build(menuPrep.nbMenu());\n          layeredState.setMenuBuilt(menuName, menu);\n          return menu;\n        } else {\n          return menuPrep.menu;\n        }\n      };\n      var expandRight = function (container, item, decision) {\n        if (decision === void 0) {\n          decision = ExpandHighlightDecision.HighlightSubmenu;\n        }\n        var value = getItemValue(item);\n        return layeredState.expand(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return Option.from(path[0]).bind(function (menuName) {\n            return layeredState.lookupMenu(menuName).bind(function (activeMenuPrep) {\n              var activeMenu = buildIfRequired(container, menuName, activeMenuPrep);\n              if (!inBody(activeMenu.element())) {\n                Replacing.append(container, premade$1(activeMenu));\n              }\n              detail.onOpenSubmenu(container, item, activeMenu, reverse(path));\n              if (decision === ExpandHighlightDecision.HighlightSubmenu) {\n                Highlighting.highlightFirst(activeMenu);\n                return updateMenuPath(container, layeredState, path);\n              } else {\n                Highlighting.dehighlightAll(activeMenu);\n                return Option.some(item);\n              }\n            });\n          });\n        });\n      };\n      var collapseLeft = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.collapse(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path).map(function (activeMenu) {\n            detail.onCollapseMenu(container, item, activeMenu);\n            return activeMenu;\n          });\n        });\n      };\n      var updateView = function (container, item) {\n        var value = getItemValue(item);\n        return layeredState.refresh(value).bind(function (path) {\n          updateAriaExpansions(container, path);\n          return updateMenuPath(container, layeredState, path);\n        });\n      };\n      var onRight = function (container, item) {\n        return inside(item.element()) ? Option.none() : expandRight(container, item, ExpandHighlightDecision.HighlightSubmenu);\n      };\n      var onLeft = function (container, item) {\n        return inside(item.element()) ? Option.none() : collapseLeft(container, item);\n      };\n      var onEscape = function (container, item) {\n        return collapseLeft(container, item).orThunk(function () {\n          return detail.onEscape(container, item).map(function () {\n            return container;\n          });\n        });\n      };\n      var keyOnItem = function (f) {\n        return function (container, simulatedEvent) {\n          return closest$3(simulatedEvent.getSource(), '.' + detail.markers.item).bind(function (target) {\n            return container.getSystem().getByDom(target).toOption().bind(function (item) {\n              return f(container, item).map(function () {\n                return true;\n              });\n            });\n          });\n        };\n      };\n      var events = derive([\n        run(focus$4(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event().item();\n          layeredState.lookupItem(getItemValue(item)).each(function () {\n            var menu = simulatedEvent.event().menu();\n            Highlighting.highlight(sandbox, menu);\n            var value = getItemValue(simulatedEvent.event().item());\n            layeredState.refresh(value).each(function (path) {\n              return closeOthers(sandbox, layeredState, path);\n            });\n          });\n        }),\n        runOnExecute(function (component, simulatedEvent) {\n          var target = simulatedEvent.event().target();\n          component.getSystem().getByDom(target).each(function (item) {\n            var itemValue = getItemValue(item);\n            if (itemValue.indexOf('collapse-item') === 0) {\n              collapseLeft(component, item);\n            }\n            expandRight(component, item, ExpandHighlightDecision.HighlightSubmenu).fold(function () {\n              detail.onExecute(component, item);\n            }, function () {\n            });\n          });\n        }),\n        runOnAttached(function (container, simulatedEvent) {\n          setup(container).each(function (primary) {\n            Replacing.append(container, premade$1(primary));\n            detail.onOpenMenu(container, primary);\n            if (detail.highlightImmediately) {\n              setActiveMenu(container, primary);\n            }\n          });\n        })\n      ].concat(detail.navigateOnHover ? [run(hover(), function (sandbox, simulatedEvent) {\n          var item = simulatedEvent.event().item();\n          updateView(sandbox, item);\n          expandRight(sandbox, item, ExpandHighlightDecision.HighlightParent);\n          detail.onHover(sandbox, item);\n        })] : []));\n      var getActiveItem = function (container) {\n        return Highlighting.getHighlighted(container).bind(Highlighting.getHighlighted);\n      };\n      var collapseMenuApi = function (container) {\n        getActiveItem(container).each(function (currentItem) {\n          collapseLeft(container, currentItem);\n        });\n      };\n      var highlightPrimary = function (container) {\n        layeredState.getPrimary().each(function (primary) {\n          setActiveMenu(container, primary);\n        });\n      };\n      var extractMenuFromContainer = function (container) {\n        return Option.from(container.components()[0]).filter(function (comp) {\n          return get$2(comp.element(), 'role') === 'menu';\n        });\n      };\n      var repositionMenus = function (container) {\n        var maybeActivePrimary = layeredState.getPrimary().bind(function (primary) {\n          return getActiveItem(container).bind(function (currentItem) {\n            var itemValue = getItemValue(currentItem);\n            var allMenus = values(layeredState.getMenus());\n            var preparedMenus = cat(map(allMenus, LayeredState.extractPreparedMenu));\n            return layeredState.getTriggeringPath(itemValue, function (v) {\n              return getItemByValue(container, preparedMenus, v);\n            });\n          }).map(function (triggeringPath) {\n            return {\n              primary: primary,\n              triggeringPath: triggeringPath\n            };\n          });\n        });\n        maybeActivePrimary.fold(function () {\n          extractMenuFromContainer(container).each(function (primaryMenu) {\n            detail.onRepositionMenu(container, primaryMenu, []);\n          });\n        }, function (_a) {\n          var primary = _a.primary, triggeringPath = _a.triggeringPath;\n          detail.onRepositionMenu(container, primary, triggeringPath);\n        });\n      };\n      var apis = {\n        collapseMenu: collapseMenuApi,\n        highlightPrimary: highlightPrimary,\n        repositionMenus: repositionMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        markers: detail.markers,\n        behaviours: augment(detail.tmenuBehaviours, [\n          Keying.config({\n            mode: 'special',\n            onRight: keyOnItem(onRight),\n            onLeft: keyOnItem(onLeft),\n            onEscape: keyOnItem(onEscape),\n            focusIn: function (container, keyInfo) {\n              layeredState.getPrimary().each(function (primary) {\n                dispatch(container, primary.element(), focusItem());\n              });\n            }\n          }),\n          Highlighting.config({\n            highlightClass: detail.markers.selectedMenu,\n            itemClass: detail.markers.menu\n          }),\n          Composing.config({\n            find: function (container) {\n              return Highlighting.getHighlighted(container);\n            }\n          }),\n          Replacing.config({})\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis,\n        events: events\n      };\n    };\n    var collapseItem = constant('collapse-item');\n\n    var tieredData = function (primary, menus, expansions) {\n      return {\n        primary: primary,\n        menus: menus,\n        expansions: expansions\n      };\n    };\n    var singleData = function (name, menu) {\n      return {\n        primary: name,\n        menus: wrap$1(name, menu),\n        expansions: {}\n      };\n    };\n    var collapseItem$1 = function (text) {\n      return {\n        value: generate$1(collapseItem()),\n        meta: { text: text }\n      };\n    };\n    var tieredMenu = single$2({\n      name: 'TieredMenu',\n      configFields: [\n        onStrictKeyboardHandler('onExecute'),\n        onStrictKeyboardHandler('onEscape'),\n        onStrictHandler('onOpenMenu'),\n        onStrictHandler('onOpenSubmenu'),\n        onStrictHandler('onRepositionMenu'),\n        onHandler('onCollapseMenu'),\n        defaulted$1('highlightImmediately', true),\n        strictObjOf('data', [\n          strict$1('primary'),\n          strict$1('menus'),\n          strict$1('expansions')\n        ]),\n        defaulted$1('fakeFocus', false),\n        onHandler('onHighlight'),\n        onHandler('onHover'),\n        tieredMenuMarkers(),\n        strict$1('dom'),\n        defaulted$1('navigateOnHover', true),\n        defaulted$1('stayInDom', false),\n        field$1('tmenuBehaviours', [\n          Keying,\n          Highlighting,\n          Composing,\n          Replacing\n        ]),\n        defaulted$1('eventOrder', {})\n      ],\n      apis: {\n        collapseMenu: function (apis, tmenu) {\n          apis.collapseMenu(tmenu);\n        },\n        highlightPrimary: function (apis, tmenu) {\n          apis.highlightPrimary(tmenu);\n        },\n        repositionMenus: function (apis, tmenu) {\n          apis.repositionMenus(tmenu);\n        }\n      },\n      factory: make$2,\n      extraApis: {\n        tieredData: tieredData,\n        singleData: singleData,\n        collapseItem: collapseItem$1\n      }\n    });\n\n    var makeMenu = function (detail, menuSandbox, anchor, menuSpec, getBounds) {\n      var lazySink = function () {\n        return detail.lazySink(menuSandbox);\n      };\n      var layouts = menuSpec.type === 'horizontal' ? {\n        layouts: {\n          onLtr: function () {\n            return belowOrAbove();\n          },\n          onRtl: function () {\n            return belowOrAboveRtl();\n          }\n        }\n      } : {};\n      var isFirstTierSubmenu = function (triggeringPaths) {\n        return triggeringPaths.length === 2;\n      };\n      var getSubmenuLayouts = function (triggeringPaths) {\n        return isFirstTierSubmenu(triggeringPaths) ? layouts : {};\n      };\n      return tieredMenu.sketch({\n        dom: { tag: 'div' },\n        data: menuSpec.data,\n        markers: menuSpec.menu.markers,\n        onEscape: function () {\n          Sandboxing.close(menuSandbox);\n          detail.onEscape.map(function (handler) {\n            return handler(menuSandbox);\n          });\n          return Option.some(true);\n        },\n        onExecute: function () {\n          return Option.some(true);\n        },\n        onOpenMenu: function (tmenu, menu) {\n          Positioning.positionWithinBounds(lazySink().getOrDie(), anchor, menu, getBounds());\n        },\n        onOpenSubmenu: function (tmenu, item, submenu, triggeringPaths) {\n          var sink = lazySink().getOrDie();\n          Positioning.position(sink, __assign({\n            anchor: 'submenu',\n            item: item\n          }, getSubmenuLayouts(triggeringPaths)), submenu);\n        },\n        onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n          var sink = lazySink().getOrDie();\n          Positioning.positionWithinBounds(sink, anchor, primaryMenu, getBounds());\n          each(submenuTriggers, function (st) {\n            var submenuLayouts = getSubmenuLayouts(st.triggeringPath);\n            Positioning.position(sink, __assign({\n              anchor: 'submenu',\n              item: st.triggeringItem\n            }, submenuLayouts), st.triggeredMenu);\n          });\n        }\n      });\n    };\n    var factory = function (detail, spec) {\n      var isPartOfRelated = function (sandbox, queryElem) {\n        var related = detail.getRelated(sandbox);\n        return related.exists(function (rel) {\n          return isPartOf(rel, queryElem);\n        });\n      };\n      var setContent = function (sandbox, thing) {\n        Sandboxing.setContent(sandbox, thing);\n      };\n      var showAt = function (sandbox, anchor, thing) {\n        showWithin(sandbox, anchor, thing, Option.none());\n      };\n      var showWithin = function (sandbox, anchor, thing, boxElement) {\n        showWithinBounds(sandbox, anchor, thing, function () {\n          return boxElement.map(function (elem) {\n            return box(elem);\n          });\n        });\n      };\n      var showWithinBounds = function (sandbox, anchor, thing, getBounds) {\n        var sink = detail.lazySink(sandbox).getOrDie();\n        Sandboxing.openWhileCloaked(sandbox, thing, function () {\n          return Positioning.positionWithinBounds(sink, anchor, sandbox, getBounds());\n        });\n        Representing.setValue(sandbox, Option.some({\n          mode: 'position',\n          anchor: anchor,\n          getBounds: getBounds\n        }));\n      };\n      var showMenuAt = function (sandbox, anchor, menuSpec) {\n        showMenuWithinBounds(sandbox, anchor, menuSpec, function () {\n          return Option.none();\n        });\n      };\n      var showMenuWithinBounds = function (sandbox, anchor, menuSpec, getBounds) {\n        var menu = makeMenu(detail, sandbox, anchor, menuSpec, getBounds);\n        Sandboxing.open(sandbox, menu);\n        Representing.setValue(sandbox, Option.some({\n          mode: 'menu',\n          menu: menu\n        }));\n      };\n      var hide = function (sandbox) {\n        Representing.setValue(sandbox, Option.none());\n        Sandboxing.close(sandbox);\n      };\n      var getContent = function (sandbox) {\n        return Sandboxing.getState(sandbox);\n      };\n      var reposition = function (sandbox) {\n        if (Sandboxing.isOpen(sandbox)) {\n          Representing.getValue(sandbox).each(function (state) {\n            switch (state.mode) {\n            case 'menu':\n              Sandboxing.getState(sandbox).each(function (tmenu) {\n                tieredMenu.repositionMenus(tmenu);\n              });\n              break;\n            case 'position':\n              var sink = detail.lazySink(sandbox).getOrDie();\n              Positioning.positionWithinBounds(sink, state.anchor, sandbox, state.getBounds());\n              break;\n            }\n          });\n        }\n      };\n      var apis = {\n        setContent: setContent,\n        showAt: showAt,\n        showWithin: showWithin,\n        showWithinBounds: showWithinBounds,\n        showMenuAt: showMenuAt,\n        showMenuWithinBounds: showMenuWithinBounds,\n        hide: hide,\n        getContent: getContent,\n        reposition: reposition,\n        isOpen: Sandboxing.isOpen\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.inlineBehaviours, [\n          Sandboxing.config({\n            isPartOf: function (sandbox, data, queryElem) {\n              return isPartOf(data, queryElem) || isPartOfRelated(sandbox, queryElem);\n            },\n            getAttachPoint: function (sandbox) {\n              return detail.lazySink(sandbox).getOrDie();\n            },\n            onOpen: function (sandbox) {\n              detail.onShow(sandbox);\n            },\n            onClose: function (sandbox) {\n              detail.onHide(sandbox);\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: Option.none()\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel(__assign({ isExtraPart: constant(false) }, detail.fireDismissalEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})))), receivingChannel$1(__assign(__assign({ isExtraPart: constant(false) }, detail.fireRepositionEventInstead.map(function (fe) {\n              return { fireEventInstead: { event: fe.event } };\n            }).getOr({})), { doReposition: reposition })))\n          })\n        ]),\n        eventOrder: detail.eventOrder,\n        apis: apis\n      };\n    };\n    var InlineView = single$2({\n      name: 'InlineView',\n      configFields: [\n        strict$1('lazySink'),\n        onHandler('onShow'),\n        onHandler('onHide'),\n        optionFunction('onEscape'),\n        field$1('inlineBehaviours', [\n          Sandboxing,\n          Representing,\n          Receiving\n        ]),\n        optionObjOf('fireDismissalEventInstead', [defaulted$1('event', dismissRequested())]),\n        optionObjOf('fireRepositionEventInstead', [defaulted$1('event', repositionRequested())]),\n        defaulted$1('getRelated', Option.none),\n        defaulted$1('eventOrder', Option.none)\n      ],\n      factory: factory,\n      apis: {\n        showAt: function (apis, component, anchor, thing) {\n          apis.showAt(component, anchor, thing);\n        },\n        showWithin: function (apis, component, anchor, thing, boxElement) {\n          apis.showWithin(component, anchor, thing, boxElement);\n        },\n        showWithinBounds: function (apis, component, anchor, thing, bounds) {\n          apis.showWithinBounds(component, anchor, thing, bounds);\n        },\n        showMenuAt: function (apis, component, anchor, menuSpec) {\n          apis.showMenuAt(component, anchor, menuSpec);\n        },\n        showMenuWithinBounds: function (apis, component, anchor, menuSpec, bounds) {\n          apis.showMenuWithinBounds(component, anchor, menuSpec, bounds);\n        },\n        hide: function (apis, component) {\n          apis.hide(component);\n        },\n        isOpen: function (apis, component) {\n          return apis.isOpen(component);\n        },\n        getContent: function (apis, component) {\n          return apis.getContent(component);\n        },\n        setContent: function (apis, component, thing) {\n          apis.setContent(component, thing);\n        },\n        reposition: function (apis, component) {\n          apis.reposition(component);\n        }\n      }\n    });\n\n    var westEdgeX$1 = function (anchor) {\n      return anchor.x();\n    };\n    var middleX$1 = function (anchor, element) {\n      return anchor.x() + anchor.width() / 2 - element.width() / 2;\n    };\n    var eastEdgeX$1 = function (anchor, element) {\n      return anchor.x() + anchor.width() - element.width();\n    };\n    var northY$2 = function (anchor) {\n      return anchor.y();\n    };\n    var southY$2 = function (anchor, element) {\n      return anchor.y() + anchor.height() - element.height();\n    };\n    var southeast$3 = function (anchor, element, bubbles) {\n      return nu$7(westEdgeX$1(anchor), southY$2(anchor, element), bubbles.innerSoutheast(), southeast(), 'layout-se');\n    };\n    var southwest$3 = function (anchor, element, bubbles) {\n      return nu$7(eastEdgeX$1(anchor, element), southY$2(anchor, element), bubbles.innerSouthwest(), southwest(), 'layout-sw');\n    };\n    var northeast$3 = function (anchor, element, bubbles) {\n      return nu$7(westEdgeX$1(anchor), northY$2(anchor), bubbles.innerNortheast(), northeast(), 'layout-ne');\n    };\n    var northwest$3 = function (anchor, element, bubbles) {\n      return nu$7(eastEdgeX$1(anchor, element), northY$2(anchor), bubbles.innerNorthwest(), northwest(), 'layout-nw');\n    };\n    var north$3 = function (anchor, element, bubbles) {\n      return nu$7(middleX$1(anchor, element), northY$2(anchor), bubbles.innerNorth(), north(), 'layout-n');\n    };\n    var south$3 = function (anchor, element, bubbles) {\n      return nu$7(middleX$1(anchor, element), southY$2(anchor, element), bubbles.innerSouth(), south(), 'layout-s');\n    };\n\n    var events$7 = function (optAction) {\n      var executeHandler = function (action) {\n        return run(execute(), function (component, simulatedEvent) {\n          action(component);\n          simulatedEvent.stop();\n        });\n      };\n      var onClick = function (component, simulatedEvent) {\n        simulatedEvent.stop();\n        emitExecute(component);\n      };\n      var onMousedown = function (component, simulatedEvent) {\n        simulatedEvent.cut();\n      };\n      var pointerEvents = detect$3().deviceType.isTouch() ? [run(tap(), onClick)] : [\n        run(click(), onClick),\n        run(mousedown(), onMousedown)\n      ];\n      return derive(flatten([\n        optAction.map(executeHandler).toArray(),\n        pointerEvents\n      ]));\n    };\n\n    var factory$1 = function (detail) {\n      var events = events$7(detail.action);\n      var tag = detail.dom.tag;\n      var lookupAttr = function (attr) {\n        return readOptFrom$1(detail.dom, 'attributes').bind(function (attrs) {\n          return readOptFrom$1(attrs, attr);\n        });\n      };\n      var getModAttributes = function () {\n        if (tag === 'button') {\n          var type = lookupAttr('type').getOr('button');\n          var roleAttrs = lookupAttr('role').map(function (role) {\n            return { role: role };\n          }).getOr({});\n          return __assign({ type: type }, roleAttrs);\n        } else {\n          var role = lookupAttr('role').getOr('button');\n          return { role: role };\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events,\n        behaviours: SketchBehaviours.augment(detail.buttonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          })\n        ]),\n        domModification: { attributes: getModAttributes() },\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Button = single$2({\n      name: 'Button',\n      factory: factory$1,\n      configFields: [\n        defaulted$1('uid', undefined),\n        strict$1('dom'),\n        defaulted$1('components', []),\n        SketchBehaviours.field('buttonBehaviours', [\n          Focusing,\n          Keying\n        ]),\n        option('action'),\n        option('role'),\n        defaulted$1('eventOrder', {})\n      ]\n    });\n\n    var record = function (spec) {\n      var uid = isSketchSpec(spec) && hasKey$1(spec, 'uid') ? spec.uid : generate$2('memento');\n      var get = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).getOrDie();\n      };\n      var getOpt = function (anyInSystem) {\n        return anyInSystem.getSystem().getByUid(uid).toOption();\n      };\n      var asSpec = function () {\n        return __assign(__assign({}, spec), { uid: uid });\n      };\n      return {\n        get: get,\n        getOpt: getOpt,\n        asSpec: asSpec\n      };\n    };\n\n    var defaultIcon = function (icons) {\n      return Option.from(icons()['temporary-placeholder']).getOr('!not found!');\n    };\n    var get$c = function (name, icons) {\n      return Option.from(icons()[name]).getOrThunk(function () {\n        return defaultIcon(icons);\n      });\n    };\n    var getOr = function (name, icons, fallback) {\n      return Option.from(icons()[name]).or(fallback).getOrThunk(function () {\n        return defaultIcon(icons);\n      });\n    };\n    var getFirst$1 = function (names, icons) {\n      return findMap(names, function (name) {\n        return Option.from(icons()[name]);\n      }).getOrThunk(function () {\n        return defaultIcon(icons);\n      });\n    };\n\n    var notificationIconMap = {\n      success: 'checkmark',\n      error: 'warning',\n      err: 'error',\n      warning: 'warning',\n      warn: 'warning',\n      info: 'info'\n    };\n    var factory$2 = function (detail) {\n      var memBannerText = record({\n        dom: {\n          tag: 'p',\n          innerHtml: detail.translationProvider(detail.text)\n        },\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var renderPercentBar = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-bar'],\n            attributes: { style: 'width: ' + percent + '%' }\n          }\n        };\n      };\n      var renderPercentText = function (percent) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-text'],\n            innerHtml: percent + '%'\n          }\n        };\n      };\n      var memBannerProgress = record({\n        dom: {\n          tag: 'div',\n          classes: detail.progress ? [\n            'tox-progress-bar',\n            'tox-progress-indicator'\n          ] : ['tox-progress-bar']\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-bar-container']\n            },\n            components: [renderPercentBar(0)]\n          },\n          renderPercentText(0)\n        ],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      var updateProgress = function (comp, percent) {\n        if (comp.getSystem().isConnected()) {\n          memBannerProgress.getOpt(comp).each(function (progress) {\n            Replacing.set(progress, [\n              {\n                dom: {\n                  tag: 'div',\n                  classes: ['tox-bar-container']\n                },\n                components: [renderPercentBar(percent)]\n              },\n              renderPercentText(percent)\n            ]);\n          });\n        }\n      };\n      var updateText = function (comp, text$1) {\n        if (comp.getSystem().isConnected()) {\n          var banner = memBannerText.get(comp);\n          Replacing.set(banner, [text(text$1)]);\n        }\n      };\n      var apis = {\n        updateProgress: updateProgress,\n        updateText: updateText\n      };\n      var iconChoices = flatten([\n        detail.icon.toArray(),\n        detail.level.toArray(),\n        detail.level.bind(function (level) {\n          return Option.from(notificationIconMap[level]);\n        }).toArray()\n      ]);\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: detail.level.map(function (level) {\n            return [\n              'tox-notification',\n              'tox-notification--in',\n              'tox-notification--' + level\n            ];\n          }).getOr([\n            'tox-notification',\n            'tox-notification--in'\n          ])\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon'],\n              innerHtml: getFirst$1(iconChoices, detail.iconProvider)\n            }\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body']\n            },\n            components: [memBannerText.asSpec()],\n            behaviours: derive$1([Replacing.config({})])\n          }\n        ].concat(detail.progress ? [memBannerProgress.asSpec()] : []).concat(Button.sketch({\n          dom: {\n            tag: 'button',\n            classes: [\n              'tox-notification__dismiss',\n              'tox-button',\n              'tox-button--naked',\n              'tox-button--icon'\n            ]\n          },\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-icon'],\n                innerHtml: get$c('close', detail.iconProvider),\n                attributes: { 'aria-label': detail.translationProvider('Close') }\n              }\n            }],\n          action: function (comp) {\n            detail.onAction(comp);\n          }\n        })),\n        apis: apis\n      };\n    };\n    var Notification = single$2({\n      name: 'Notification',\n      factory: factory$2,\n      configFields: [\n        option('level'),\n        strict$1('progress'),\n        strict$1('icon'),\n        strict$1('onAction'),\n        strict$1('text'),\n        strict$1('iconProvider'),\n        strict$1('translationProvider')\n      ],\n      apis: {\n        updateProgress: function (apis, comp, percent) {\n          apis.updateProgress(comp, percent);\n        },\n        updateText: function (apis, comp, text) {\n          apis.updateText(comp, text);\n        }\n      }\n    });\n\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    function NotificationManagerImpl (editor, extras, uiMothership) {\n      var backstage = extras.backstage;\n      var getLayoutDirection = function (rel) {\n        switch (rel) {\n        case 'bc-bc':\n          return south$3;\n        case 'tc-tc':\n          return north$3;\n        case 'tc-bc':\n          return north$1;\n        case 'bc-tc':\n        default:\n          return south$1;\n        }\n      };\n      var prePositionNotifications = function (notifications) {\n        each(notifications, function (notification) {\n          return notification.moveTo(0, 0);\n        });\n      };\n      var positionNotifications = function (notifications) {\n        if (notifications.length > 0) {\n          head(notifications).each(function (firstItem) {\n            return firstItem.moveRel(null, 'banner');\n          });\n          each(notifications, function (notification, index) {\n            if (index > 0) {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n      var reposition = function (notifications) {\n        prePositionNotifications(notifications);\n        positionNotifications(notifications);\n      };\n      var open = function (settings, closeCallback) {\n        var close = function () {\n          closeCallback();\n          InlineView.hide(notificationWrapper);\n        };\n        var notification = build$1(Notification.sketch({\n          text: settings.text,\n          level: contains([\n            'success',\n            'error',\n            'warning',\n            'warn',\n            'info'\n          ], settings.type) ? settings.type : undefined,\n          progress: settings.progressBar === true,\n          icon: Option.from(settings.icon),\n          onAction: close,\n          iconProvider: backstage.shared.providers.icons,\n          translationProvider: backstage.shared.providers.translate\n        }));\n        var notificationWrapper = build$1(InlineView.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-notifications-container']\n          },\n          lazySink: extras.backstage.shared.getSink,\n          fireDismissalEventInstead: {}\n        }));\n        uiMothership.add(notificationWrapper);\n        if (settings.timeout > 0) {\n          global$2.setTimeout(function () {\n            close();\n          }, settings.timeout);\n        }\n        return {\n          close: close,\n          moveTo: function (x, y) {\n            InlineView.showAt(notificationWrapper, {\n              anchor: 'makeshift',\n              x: x,\n              y: y\n            }, premade$1(notification));\n          },\n          moveRel: function (element, rel) {\n            if (rel !== 'banner') {\n              var layoutDirection_1 = getLayoutDirection(rel);\n              var nodeAnchor = {\n                anchor: 'node',\n                root: body(),\n                node: Option.some(Element.fromDom(element)),\n                layouts: {\n                  onRtl: function () {\n                    return [layoutDirection_1];\n                  },\n                  onLtr: function () {\n                    return [layoutDirection_1];\n                  }\n                }\n              };\n              InlineView.showAt(notificationWrapper, nodeAnchor, premade$1(notification));\n            } else {\n              InlineView.showAt(notificationWrapper, extras.backstage.shared.anchors.banner(), premade$1(notification));\n            }\n          },\n          text: function (nuText) {\n            Notification.updateText(notification, nuText);\n          },\n          settings: settings,\n          getEl: function () {\n            return notification.element().dom();\n          },\n          progressBar: {\n            value: function (percent) {\n              Notification.updateProgress(notification, percent);\n            }\n          }\n        };\n      };\n      var close = function (notification) {\n        notification.close();\n      };\n      var getArgs = function (notification) {\n        return notification.settings;\n      };\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var first$1 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer === null) {\n          timer = domGlobals.setTimeout(function () {\n            fn.apply(null, args);\n            timer = null;\n          }, rate);\n        }\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n    var last$2 = function (fn, rate) {\n      var timer = null;\n      var cancel = function () {\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n          timer = null;\n        }\n      };\n      var throttle = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        if (timer !== null) {\n          domGlobals.clearTimeout(timer);\n        }\n        timer = domGlobals.setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      };\n      return {\n        cancel: cancel,\n        throttle: throttle\n      };\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.TreeWalker');\n\n    var isText$1 = function (node) {\n      return node.nodeType === domGlobals.Node.TEXT_NODE;\n    };\n    var isBoundary = function (dom, node) {\n      return dom.isBlock(node) || contains([\n        'BR',\n        'IMG',\n        'HR',\n        'INPUT'\n      ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    };\n    var outcome$1 = Adt.generate([\n      { aborted: [] },\n      { edge: ['element'] },\n      { success: ['info'] }\n    ]);\n    var phase = Adt.generate([\n      { abort: [] },\n      { kontinue: [] },\n      { finish: ['info'] }\n    ]);\n    var repeat = function (dom, node, offset, process, walker, recent) {\n      var terminate = function () {\n        return recent.fold(outcome$1.aborted, outcome$1.edge);\n      };\n      var recurse = function () {\n        var next = walker();\n        if (next) {\n          return repeat(dom, next, Option.none(), process, walker, Option.some(node));\n        } else {\n          return terminate();\n        }\n      };\n      if (isBoundary(dom, node)) {\n        return terminate();\n      } else if (!isText$1(node)) {\n        return recurse();\n      } else {\n        var text = node.textContent;\n        return process(phase, node, text, offset).fold(outcome$1.aborted, function () {\n          return recurse();\n        }, outcome$1.success);\n      }\n    };\n    var repeatLeft = function (dom, node, offset, process, rootNode) {\n      var walker = new global$3(node, rootNode || dom.getRoot());\n      return repeat(dom, node, Option.some(offset), process, walker.prev, Option.none());\n    };\n\n    var autocompleteSelector = '[data-mce-autocompleter]';\n    var create$4 = function (editor, range) {\n      return detect$4(Element.fromDom(editor.selection.getNode())).getOrThunk(function () {\n        var wrapper = Element.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append(wrapper, Element.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom());\n        parent(wrapper).each(function (elm) {\n          return elm.dom().normalize();\n        });\n        last$1(wrapper).map(function (last) {\n          editor.selection.setCursorLocation(last.dom(), getEnd(last));\n        });\n        return wrapper;\n      });\n    };\n    var detect$4 = function (elm) {\n      return closest$3(elm, autocompleteSelector);\n    };\n\n    var isValidTextRange = function (rng) {\n      return rng.collapsed && rng.startContainer.nodeType === 3;\n    };\n    var whiteSpace = /[\\u00a0 \\t\\r\\n]/;\n    var parse = function (text, index, ch, minChars) {\n      var i;\n      for (i = index - 1; i >= 0; i--) {\n        var char = text.charAt(i);\n        if (whiteSpace.test(char)) {\n          return Option.none();\n        }\n        if (char === ch) {\n          break;\n        }\n      }\n      if (i === -1 || index - i < minChars) {\n        return Option.none();\n      }\n      return Option.some(text.substring(i + 1, index));\n    };\n    var getText = function (rng, ch) {\n      var text = rng.toString().substring(ch.length);\n      return text.replace(/\\u00A0/g, ' ').replace(/\\uFEFF/g, '');\n    };\n    var findStart = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      if (!isValidTextRange(initRange)) {\n        return Option.none();\n      }\n      var findTriggerCh = function (phase, element, text, optOffset) {\n        var index = optOffset.getOr(text.length);\n        return parse(text, index, ch, 1).fold(function () {\n          return text.match(whiteSpace) ? phase.abort() : phase.kontinue();\n        }, function (newText) {\n          var range = initRange.cloneRange();\n          range.setStart(element, index - newText.length - 1);\n          range.setEnd(initRange.endContainer, initRange.endOffset);\n          return text.length < minChars ? phase.abort() : phase.finish({\n            text: getText(range, ch),\n            range: range,\n            triggerChar: ch\n          });\n        });\n      };\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerCh).fold(Option.none, Option.none, Option.some);\n    };\n    var getContext = function (dom, initRange, ch, minChars) {\n      if (minChars === void 0) {\n        minChars = 0;\n      }\n      return detect$4(Element.fromDom(initRange.startContainer)).fold(function () {\n        return findStart(dom, initRange, ch, minChars);\n      }, function (elm) {\n        var range = dom.createRng();\n        range.selectNode(elm.dom());\n        return Option.some({\n          range: range,\n          text: getText(range, ch),\n          triggerChar: ch\n        });\n      });\n    };\n\n    var setup = function (api, editor) {\n      editor.on('keypress compositionend', api.onKeypress.throttle);\n      editor.on('remove', api.onKeypress.cancel);\n      var redirectKeyToItem = function (item, e) {\n        emitWith(item, keydown(), { raw: e });\n      };\n      editor.on('keydown', function (e) {\n        var getItem = function () {\n          return api.getView().bind(Highlighting.getHighlighted);\n        };\n        if (e.which === 8) {\n          api.onKeypress.throttle(e);\n        }\n        if (api.isActive()) {\n          if (e.which === 27) {\n            api.cancelIfNecessary();\n          }\n          if (api.isMenuOpen()) {\n            if (e.which === 13) {\n              getItem().each(emitExecute);\n              e.preventDefault();\n            } else if (e.which === 40) {\n              getItem().fold(function () {\n                api.getView().each(Highlighting.highlightFirst);\n              }, function (item) {\n                redirectKeyToItem(item, e);\n              });\n              e.preventDefault();\n              e.stopImmediatePropagation();\n            } else if (e.which === 37 || e.which === 38 || e.which === 39) {\n              getItem().each(function (item) {\n                redirectKeyToItem(item, e);\n                e.preventDefault();\n                e.stopImmediatePropagation();\n              });\n            }\n          } else {\n            if (e.which === 13 || e.which === 38 || e.which === 40) {\n              api.cancelIfNecessary();\n            }\n          }\n        }\n      });\n      editor.on('NodeChange', function (e) {\n        if (api.isActive() && !api.isProcessingAction() && detect$4(Element.fromDom(e.element)).isNone()) {\n          api.cancelIfNecessary();\n        }\n      });\n    };\n    var AutocompleterEditorEvents = { setup: setup };\n\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.Promise');\n\n    var point$2 = function (element, offset) {\n      return {\n        element: element,\n        offset: offset\n      };\n    };\n\n    var isText$2 = function (node) {\n      return node.nodeType === domGlobals.Node.TEXT_NODE;\n    };\n    var isElement$1 = function (node) {\n      return node.nodeType === domGlobals.Node.ELEMENT_NODE;\n    };\n    var toLast = function (node) {\n      if (isText$2(node)) {\n        return point$2(node, node.data.length);\n      } else {\n        var children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point$2(node, children.length);\n      }\n    };\n    var toLeaf = function (node, offset) {\n      var children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement$1(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point$2(node, offset);\n      }\n    };\n\n    var isStartOfWord = function (dom) {\n      var process = function (phase, element, text, optOffset) {\n        var index = optOffset.getOr(text.length);\n        return index === 0 ? phase.kontinue() : phase.finish(/\\s/.test(text.charAt(index - 1)));\n      };\n      return function (rng) {\n        var leaf = toLeaf(rng.startContainer, rng.startOffset);\n        return repeatLeft(dom, leaf.element, leaf.offset, process).fold(constant(true), constant(true), identity);\n      };\n    };\n    var getTriggerContext = function (dom, initRange, database) {\n      return findMap(database.triggerChars, function (ch) {\n        return getContext(dom, initRange, ch);\n      });\n    };\n    var lookup = function (editor, getDatabase) {\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(function (context) {\n        return lookupWithContext(editor, getDatabase, context);\n      });\n    };\n    var lookupWithContext = function (editor, getDatabase, context, fetchOptions) {\n      if (fetchOptions === void 0) {\n        fetchOptions = {};\n      }\n      var database = getDatabase();\n      var rng = editor.selection.getRng();\n      var startText = rng.startContainer.nodeValue;\n      var autocompleters = filter(database.lookupByChar(context.triggerChar), function (autocompleter) {\n        return context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(function () {\n          return isStartOfWord(editor.dom);\n        })(context.range, startText, context.text);\n      });\n      if (autocompleters.length === 0) {\n        return Option.none();\n      }\n      var lookupData = global$4.all(map(autocompleters, function (ac) {\n        var fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(function (results) {\n          return {\n            matchText: context.text,\n            items: results,\n            columns: ac.columns,\n            onAction: ac.onAction\n          };\n        });\n      }));\n      return Option.some({\n        lookupData: lookupData,\n        context: context\n      });\n    };\n\n    var separatorMenuItemSchema = objOf([\n      strictString('type'),\n      optionString('text')\n    ]);\n    var createSeparatorMenuItem = function (spec) {\n      return asRaw('separatormenuitem', separatorMenuItemSchema, spec);\n    };\n\n    var autocompleterItemSchema = objOf([\n      state$1('type', function () {\n        return 'autocompleteitem';\n      }),\n      state$1('active', function () {\n        return false;\n      }),\n      state$1('disabled', function () {\n        return false;\n      }),\n      defaulted$1('meta', {}),\n      strictString('value'),\n      optionString('text'),\n      optionString('icon')\n    ]);\n    var autocompleterSchema = objOf([\n      strictString('type'),\n      strictString('ch'),\n      defaultedNumber('minChars', 1),\n      defaulted$1('columns', 1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      strictFunction('fetch'),\n      strictFunction('onAction')\n    ]);\n    var createSeparatorItem = function (spec) {\n      return asRaw('Autocompleter.Separator', separatorMenuItemSchema, spec);\n    };\n    var createAutocompleterItem = function (spec) {\n      return asRaw('Autocompleter.Item', autocompleterItemSchema, spec);\n    };\n    var createAutocompleter = function (spec) {\n      return asRaw('Autocompleter', autocompleterSchema, spec);\n    };\n\n    var stringArray = function (a) {\n      var all = {};\n      each(a, function (key) {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    var register = function (editor) {\n      var popups = editor.ui.registry.getAll().popups;\n      var dataset = map$1(popups, function (popup) {\n        return createAutocompleter(popup).fold(function (err) {\n          throw new Error(formatError(err));\n        }, function (x) {\n          return x;\n        });\n      });\n      var triggerChars = stringArray(mapToArray(dataset, function (v) {\n        return v.ch;\n      }));\n      var datasetValues = values(dataset);\n      var lookupByChar = function (ch) {\n        return filter(datasetValues, function (dv) {\n          return dv.ch === ch;\n        });\n      };\n      return {\n        dataset: dataset,\n        triggerChars: triggerChars,\n        lookupByChar: lookupByChar\n      };\n    };\n\n    var commonMenuItemFields = [\n      defaultedBoolean('disabled', false),\n      optionString('text'),\n      optionString('shortcut'),\n      field('value', 'value', defaultedThunk(function () {\n        return generate$1('menuitem-value');\n      }), anyValue$1()),\n      defaulted$1('meta', {})\n    ];\n\n    var menuItemSchema = objOf([\n      strictString('type'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedFunction('onAction', noop),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createMenuItem = function (spec) {\n      return asRaw('menuitem', menuItemSchema, spec);\n    };\n\n    var nestedMenuItemSchema = objOf([\n      strictString('type'),\n      strictFunction('getSubmenuItems'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createNestedMenuItem = function (spec) {\n      return asRaw('nestedmenuitem', nestedMenuItemSchema, spec);\n    };\n\n    var toggleMenuItemSchema = objOf([\n      strictString('type'),\n      defaultedBoolean('active', false),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      strictFunction('onAction')\n    ].concat(commonMenuItemFields));\n    var createToggleMenuItem = function (spec) {\n      return asRaw('togglemenuitem', toggleMenuItemSchema, spec);\n    };\n\n    var choiceMenuItemSchema = objOf([\n      strictString('type'),\n      defaultedBoolean('active', false),\n      optionString('icon')\n    ].concat(commonMenuItemFields));\n    var createChoiceMenuItem = function (spec) {\n      return asRaw('choicemenuitem', choiceMenuItemSchema, spec);\n    };\n\n    var fancyTypes = [\n      'inserttable',\n      'colorswatch'\n    ];\n    var fancyMenuItemSchema = objOf([\n      strictString('type'),\n      strictStringEnum('fancytype', fancyTypes),\n      defaultedFunction('onAction', noop)\n    ]);\n    var createFancyMenuItem = function (spec) {\n      return asRaw('fancymenuitem', fancyMenuItemSchema, spec);\n    };\n\n    var detectSize = function (comp, margin, selectorClass) {\n      var descendants$1 = descendants(comp.element(), '.' + selectorClass);\n      if (descendants$1.length > 0) {\n        var columnLength = findIndex(descendants$1, function (c) {\n          var thisTop = c.dom().getBoundingClientRect().top;\n          var cTop = descendants$1[0].dom().getBoundingClientRect().top;\n          return Math.abs(thisTop - cTop) > margin;\n        }).getOr(descendants$1.length);\n        return Option.some({\n          numColumns: columnLength,\n          numRows: Math.ceil(descendants$1.length / columnLength)\n        });\n      } else {\n        return Option.none();\n      }\n    };\n\n    var namedEvents = function (name, handlers) {\n      return derive$1([config(name, handlers)]);\n    };\n    var unnamedEvents = function (handlers) {\n      return namedEvents(generate$1('unnamed-events'), handlers);\n    };\n    var SimpleBehaviours = {\n      namedEvents: namedEvents,\n      unnamedEvents: unnamedEvents\n    };\n\n    var TooltippingSchema = [\n      strict$1('lazySink'),\n      strict$1('tooltipDom'),\n      defaulted$1('exclusive', true),\n      defaulted$1('tooltipComponents', []),\n      defaulted$1('delay', 300),\n      defaultedStringEnum('mode', 'normal', [\n        'normal',\n        'follow-highlight'\n      ]),\n      defaulted$1('anchor', function (comp) {\n        return {\n          anchor: 'hotspot',\n          hotspot: comp,\n          layouts: {\n            onLtr: constant([\n              south$1,\n              north$1,\n              southeast$1,\n              northeast$1,\n              southwest$1,\n              northwest$1\n            ]),\n            onRtl: constant([\n              south$1,\n              north$1,\n              southeast$1,\n              northeast$1,\n              southwest$1,\n              northwest$1\n            ])\n          }\n        };\n      }),\n      onHandler('onHide'),\n      onHandler('onShow')\n    ];\n\n    var init$4 = function () {\n      var timer = Cell(Option.none());\n      var popup = Cell(Option.none());\n      var getTooltip = function () {\n        return popup.get();\n      };\n      var setTooltip = function (s) {\n        popup.set(Option.some(s));\n      };\n      var clearTooltip = function () {\n        popup.set(Option.none());\n      };\n      var clearTimer = function () {\n        timer.get().each(function (t) {\n          domGlobals.clearTimeout(t);\n        });\n      };\n      var resetTimer = function (f, delay) {\n        clearTimer();\n        timer.set(Option.some(domGlobals.setTimeout(function () {\n          f();\n        }, delay)));\n      };\n      var isShowing = function () {\n        return popup.get().isSome();\n      };\n      var readState = constant('not-implemented');\n      return nu$5({\n        getTooltip: getTooltip,\n        isShowing: isShowing,\n        setTooltip: setTooltip,\n        clearTooltip: clearTooltip,\n        clearTimer: clearTimer,\n        resetTimer: resetTimer,\n        readState: readState\n      });\n    };\n\n    var TooltippingState = /*#__PURE__*/Object.freeze({\n        init: init$4\n    });\n\n    var ExclusivityChannel = generate$1('tooltip.exclusive');\n    var ShowTooltipEvent = generate$1('tooltip.show');\n    var HideTooltipEvent = generate$1('tooltip.hide');\n\n    var hideAllExclusive = function (component, tConfig, tState) {\n      component.getSystem().broadcastOn([ExclusivityChannel], {});\n    };\n    var setComponents = function (component, tConfig, tState, specs) {\n      tState.getTooltip().each(function (tooltip) {\n        if (tooltip.getSystem().isConnected()) {\n          Replacing.set(tooltip, specs);\n        }\n      });\n    };\n\n    var TooltippingApis = /*#__PURE__*/Object.freeze({\n        hideAllExclusive: hideAllExclusive,\n        setComponents: setComponents\n    });\n\n    var events$8 = function (tooltipConfig, state) {\n      var hide = function (comp) {\n        state.getTooltip().each(function (p) {\n          detach(p);\n          tooltipConfig.onHide(comp, p);\n          state.clearTooltip();\n        });\n        state.clearTimer();\n      };\n      var show = function (comp) {\n        if (!state.isShowing()) {\n          hideAllExclusive(comp);\n          var sink = tooltipConfig.lazySink(comp).getOrDie();\n          var popup = comp.getSystem().build({\n            dom: tooltipConfig.tooltipDom,\n            components: tooltipConfig.tooltipComponents,\n            events: derive(tooltipConfig.mode === 'normal' ? [\n              run(mouseover(), function (_) {\n                emit(comp, ShowTooltipEvent);\n              }),\n              run(mouseout(), function (_) {\n                emit(comp, HideTooltipEvent);\n              })\n            ] : []),\n            behaviours: derive$1([Replacing.config({})])\n          });\n          state.setTooltip(popup);\n          attach$1(sink, popup);\n          tooltipConfig.onShow(comp, popup);\n          Positioning.position(sink, tooltipConfig.anchor(comp), popup);\n        }\n      };\n      return derive(flatten([\n        [\n          run(ShowTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              show(comp);\n            }, tooltipConfig.delay);\n          }),\n          run(HideTooltipEvent, function (comp) {\n            state.resetTimer(function () {\n              hide(comp);\n            }, tooltipConfig.delay);\n          }),\n          run(receive(), function (comp, message) {\n            var receivingData = message;\n            if (contains(receivingData.channels(), ExclusivityChannel)) {\n              hide(comp);\n            }\n          }),\n          runOnDetached(function (comp) {\n            hide(comp);\n          })\n        ],\n        tooltipConfig.mode === 'normal' ? [\n          run(focusin(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run(postBlur(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          }),\n          run(mouseover(), function (comp) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run(mouseout(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ] : [\n          run(highlight(), function (comp, se) {\n            emit(comp, ShowTooltipEvent);\n          }),\n          run(dehighlight(), function (comp) {\n            emit(comp, HideTooltipEvent);\n          })\n        ]\n      ]));\n    };\n\n    var ActiveTooltipping = /*#__PURE__*/Object.freeze({\n        events: events$8\n    });\n\n    var Tooltipping = create$1({\n      fields: TooltippingSchema,\n      name: 'tooltipping',\n      active: ActiveTooltipping,\n      state: TooltippingState,\n      apis: TooltippingApis\n    });\n\n    var getAttrs = function (elem) {\n      var attributes = elem.dom().attributes !== undefined ? elem.dom().attributes : [];\n      return foldl(attributes, function (b, attr) {\n        var _a;\n        if (attr.name === 'class') {\n          return b;\n        } else {\n          return __assign(__assign({}, b), (_a = {}, _a[attr.name] = attr.value, _a));\n        }\n      }, {});\n    };\n    var getClasses = function (elem) {\n      return Array.prototype.slice.call(elem.dom().classList, 0);\n    };\n    var fromHtml$2 = function (html) {\n      var elem = Element.fromHtml(html);\n      var children$1 = children(elem);\n      var attrs = getAttrs(elem);\n      var classes = getClasses(elem);\n      var contents = children$1.length === 0 ? {} : { innerHtml: get$1(elem) };\n      return __assign({\n        tag: name(elem),\n        classes: classes,\n        attributes: attrs\n      }, contents);\n    };\n\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var navClass = 'tox-menu-nav__js';\n    var selectableClass = 'tox-collection__item';\n    var colorClass = 'tox-swatch';\n    var presetClasses = {\n      normal: navClass,\n      color: colorClass\n    };\n    var tickedClass = 'tox-collection__item--enabled';\n    var groupHeadingClass = 'tox-collection__group-heading';\n    var iconClass = 'tox-collection__item-icon';\n    var textClass = 'tox-collection__item-label';\n    var accessoryClass = 'tox-collection__item-accessory';\n    var caretClass = 'tox-collection__item-caret';\n    var checkmarkClass = 'tox-collection__item-checkmark';\n    var activeClass = 'tox-collection__item--active';\n    var iconClassRtl = 'tox-collection__item-icon-rtl';\n    var classForPreset = function (presets) {\n      return readOptFrom$1(presetClasses, presets).getOr(navClass);\n    };\n\n    var global$6 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var convertText = function (source) {\n      var mac = {\n        alt: '&#x2325;',\n        ctrl: '&#x2303;',\n        shift: '&#x21E7;',\n        meta: '&#x2318;',\n        access: '&#x2303;&#x2325;'\n      };\n      var other = {\n        meta: 'Ctrl',\n        access: 'Shift+Alt'\n      };\n      var replace = global$6.mac ? mac : other;\n      var shortcut = source.split('+');\n      var updated = map(shortcut, function (segment) {\n        var search = segment.toLowerCase().trim();\n        return has(replace, search) ? replace[search] : segment;\n      });\n      return global$6.mac ? updated.join('') : updated.join('+');\n    };\n    var ConvertShortcut = { convertText: convertText };\n\n    var renderIcon = function (iconHtml) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [iconClass],\n          innerHtml: iconHtml\n        }\n      };\n    };\n    var renderText = function (text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [text(global$5.translate(text$1))]\n      };\n    };\n    var renderHtml = function (html) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass],\n          innerHtml: html\n        }\n      };\n    };\n    var renderStyledText = function (style, text$1) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [textClass]\n        },\n        components: [{\n            dom: {\n              tag: style.tag,\n              attributes: { style: style.styleAttr }\n            },\n            components: [text(global$5.translate(text$1))]\n          }]\n      };\n    };\n    var renderShortcut = function (shortcut) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [accessoryClass],\n          innerHtml: ConvertShortcut.convertText(shortcut)\n        }\n      };\n    };\n    var renderCheckmark = function (icons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            iconClass,\n            checkmarkClass\n          ],\n          innerHtml: get$c('checkmark', icons)\n        }\n      };\n    };\n    var renderSubmenuCaret = function (icons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [caretClass],\n          innerHtml: get$c('chevron-right', icons)\n        }\n      };\n    };\n    var renderDownwardsCaret = function (icons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [caretClass],\n          innerHtml: get$c('chevron-down', icons)\n        }\n      };\n    };\n\n    var renderColorStructure = function (itemText, itemValue, iconSvg, providerBackstage) {\n      var colorPickerCommand = 'custom';\n      var removeColorCommand = 'remove';\n      var getDom = function () {\n        var common = colorClass;\n        var icon = iconSvg.getOr('');\n        var title = itemText.map(function (text) {\n          return ' title=\"' + providerBackstage.translate(text) + '\"';\n        }).getOr('');\n        if (itemValue === colorPickerCommand) {\n          return fromHtml$2('<button class=\"' + common + ' tox-swatches__picker-btn\"' + title + '>' + icon + '</button>');\n        } else if (itemValue === removeColorCommand) {\n          return fromHtml$2('<div class=\"' + common + ' tox-swatch--remove\"' + title + '>' + icon + '</div>');\n        } else {\n          return fromHtml$2('<div class=\"' + common + '\" style=\"background-color: ' + itemValue + '\" data-mce-color=\"' + itemValue + '\"' + title + '></div>');\n        }\n      };\n      return {\n        dom: getDom(),\n        optComponents: []\n      };\n    };\n    var renderNormalItemStructure = function (info, icon, renderIcons, textRender, rtlClass) {\n      var leftIcon = renderIcons ? info.checkMark.orThunk(function () {\n        return icon.or(Option.some('')).map(renderIcon);\n      }) : Option.none();\n      var domTitle = info.ariaLabel.map(function (label) {\n        return { attributes: { title: global$5.translate(label) } };\n      }).getOr({});\n      var dom = merge({\n        tag: 'div',\n        classes: [\n          navClass,\n          selectableClass\n        ].concat(rtlClass ? [iconClassRtl] : [])\n      }, domTitle);\n      var content = info.htmlContent.fold(function () {\n        return info.textContent.map(textRender);\n      }, function (html) {\n        return Option.some(renderHtml(html));\n      });\n      var menuItem = {\n        dom: dom,\n        optComponents: [\n          leftIcon,\n          content,\n          info.shortcutContent.map(renderShortcut),\n          info.caret\n        ]\n      };\n      return menuItem;\n    };\n    var rtlIcon = [\n      'list-num-default',\n      'list-num-lower-alpha',\n      'list-num-lower-greek',\n      'list-num-lower-roman',\n      'list-num-upper-alpha',\n      'list-num-upper-roman'\n    ];\n    var rtlTransform = [\n      'list-bull-circle',\n      'list-bull-default',\n      'list-bull-square'\n    ];\n    var renderItemStructure = function (info, providersBackstage, renderIcons, fallbackIcon) {\n      if (fallbackIcon === void 0) {\n        fallbackIcon = Option.none();\n      }\n      var getIconName = function (iconName) {\n        return iconName.map(function (name) {\n          return global$5.isRtl() && contains(rtlIcon, name) ? name + '-rtl' : name;\n        });\n      };\n      var needRtlClass = global$5.isRtl() && info.iconContent.exists(function (name) {\n        return contains(rtlTransform, name);\n      });\n      var icon = getIconName(info.iconContent).map(function (iconName) {\n        return getOr(iconName, providersBackstage.icons, fallbackIcon);\n      });\n      var textRender = Option.from(info.meta).fold(function () {\n        return renderText;\n      }, function (meta) {\n        return has(meta, 'style') ? curry(renderStyledText, meta.style) : renderText;\n      });\n      if (info.presets === 'color') {\n        return renderColorStructure(info.ariaLabel, info.value, icon, providersBackstage);\n      } else {\n        return renderNormalItemStructure(info, icon, renderIcons, textRender, needRtlClass);\n      }\n    };\n\n    var nativeDisabled = [\n      'input',\n      'button',\n      'textarea',\n      'select'\n    ];\n    var onLoad$5 = function (component, disableConfig, disableState) {\n      if (disableConfig.disabled) {\n        disable(component, disableConfig);\n      }\n    };\n    var hasNative = function (component, config) {\n      return config.useNative === true && contains(nativeDisabled, name(component.element()));\n    };\n    var nativeIsDisabled = function (component) {\n      return has$1(component.element(), 'disabled');\n    };\n    var nativeDisable = function (component) {\n      set$1(component.element(), 'disabled', 'disabled');\n    };\n    var nativeEnable = function (component) {\n      remove$1(component.element(), 'disabled');\n    };\n    var ariaIsDisabled = function (component) {\n      return get$2(component.element(), 'aria-disabled') === 'true';\n    };\n    var ariaDisable = function (component) {\n      set$1(component.element(), 'aria-disabled', 'true');\n    };\n    var ariaEnable = function (component) {\n      set$1(component.element(), 'aria-disabled', 'false');\n    };\n    var disable = function (component, disableConfig, disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        add$2(component.element(), disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeDisable : ariaDisable;\n      f(component);\n      disableConfig.onDisabled(component);\n    };\n    var enable = function (component, disableConfig, disableState) {\n      disableConfig.disableClass.each(function (disableClass) {\n        remove$4(component.element(), disableClass);\n      });\n      var f = hasNative(component, disableConfig) ? nativeEnable : ariaEnable;\n      f(component);\n      disableConfig.onEnabled(component);\n    };\n    var isDisabled = function (component, disableConfig) {\n      return hasNative(component, disableConfig) ? nativeIsDisabled(component) : ariaIsDisabled(component);\n    };\n    var set$7 = function (component, disableConfig, disableState, disabled) {\n      var f = disabled ? disable : enable;\n      f(component, disableConfig, disableState);\n    };\n\n    var DisableApis = /*#__PURE__*/Object.freeze({\n        enable: enable,\n        disable: disable,\n        isDisabled: isDisabled,\n        onLoad: onLoad$5,\n        set: set$7\n    });\n\n    var exhibit$3 = function (base, disableConfig, disableState) {\n      return nu$6({ classes: disableConfig.disabled ? disableConfig.disableClass.map(pure).getOr([]) : [] });\n    };\n    var events$9 = function (disableConfig, disableState) {\n      return derive([\n        abort(execute(), function (component, simulatedEvent) {\n          return isDisabled(component, disableConfig);\n        }),\n        loadEvent(disableConfig, disableState, onLoad$5)\n      ]);\n    };\n\n    var ActiveDisable = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit$3,\n        events: events$9\n    });\n\n    var DisableSchema = [\n      defaulted$1('disabled', false),\n      defaulted$1('useNative', true),\n      option('disableClass'),\n      onHandler('onDisabled'),\n      onHandler('onEnabled')\n    ];\n\n    var Disabling = create$1({\n      fields: DisableSchema,\n      name: 'disabling',\n      active: ActiveDisable,\n      apis: DisableApis\n    });\n\n    var item = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-collection__item--state-disabled'\n      });\n    };\n    var button = function (disabled) {\n      return Disabling.config({ disabled: disabled });\n    };\n    var splitButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled'\n      });\n    };\n    var toolbarButton = function (disabled) {\n      return Disabling.config({\n        disabled: disabled,\n        disableClass: 'tox-tbtn--disabled',\n        useNative: false\n      });\n    };\n    var DisablingConfigs = {\n      item: item,\n      button: button,\n      splitButton: splitButton,\n      toolbarButton: toolbarButton\n    };\n\n    var runWithApi = function (info, comp) {\n      var api = info.getApi(comp);\n      return function (f) {\n        f(api);\n      };\n    };\n    var onControlAttached = function (info, editorOffCell) {\n      return runOnAttached(function (comp) {\n        var run = runWithApi(info, comp);\n        run(function (api) {\n          var onDestroy = info.onSetup(api);\n          if (onDestroy !== null && onDestroy !== undefined) {\n            editorOffCell.set(onDestroy);\n          }\n        });\n      });\n    };\n    var onControlDetached = function (getApi, editorOffCell) {\n      return runOnDetached(function (comp) {\n        return runWithApi(getApi, comp)(editorOffCell.get());\n      });\n    };\n\n    var ItemResponse;\n    (function (ItemResponse) {\n      ItemResponse[ItemResponse['CLOSE_ON_EXECUTE'] = 0] = 'CLOSE_ON_EXECUTE';\n      ItemResponse[ItemResponse['BUBBLE_TO_SANDBOX'] = 1] = 'BUBBLE_TO_SANDBOX';\n    }(ItemResponse || (ItemResponse = {})));\n    var ItemResponse$1 = ItemResponse;\n\n    var onMenuItemExecute = function (info, itemResponse) {\n      return runOnExecute(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(info.onAction);\n        if (!info.triggersSubmenu && itemResponse === ItemResponse$1.CLOSE_ON_EXECUTE) {\n          emit(comp, sandboxClose());\n          simulatedEvent.stop();\n        }\n      });\n    };\n    var menuItemEventOrder = {\n      'alloy.execute': [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'item-events'\n      ]\n    };\n\n    var componentRenderPipeline = function (xs) {\n      return bind(xs, function (o) {\n        return o.toArray();\n      });\n    };\n    var renderCommonItem = function (spec, structure, itemResponse) {\n      var editorOffCell = Cell(noop);\n      return {\n        type: 'item',\n        dom: structure.dom,\n        components: componentRenderPipeline(structure.optComponents),\n        data: spec.data,\n        eventOrder: menuItemEventOrder,\n        hasSubmenu: spec.triggersSubmenu,\n        itemBehaviours: derive$1([\n          config('item-events', [\n            onMenuItemExecute(spec, itemResponse),\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          DisablingConfigs.item(spec.disabled),\n          Replacing.config({})\n        ].concat(spec.itemBehaviours))\n      };\n    };\n    var buildData = function (source) {\n      return {\n        value: source.value,\n        meta: merge({ text: source.text.getOr('') }, source.meta)\n      };\n    };\n\n    var global$7 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var tooltipBehaviour = function (meta, sharedBackstage) {\n      return get(meta, 'tooltipWorker').map(function (tooltipWorker) {\n        return [Tooltipping.config({\n            lazySink: sharedBackstage.getSink,\n            tooltipDom: {\n              tag: 'div',\n              classes: ['tox-tooltip-worker-container']\n            },\n            tooltipComponents: [],\n            anchor: function (comp) {\n              return {\n                anchor: 'submenu',\n                item: comp,\n                overrides: { maxHeightFunction: expandable }\n              };\n            },\n            mode: 'follow-highlight',\n            onShow: function (component, _tooltip) {\n              tooltipWorker(function (elm) {\n                Tooltipping.setComponents(component, [external({ element: Element.fromDom(elm) })]);\n              });\n            }\n          })];\n      }).getOr([]);\n    };\n    var escapeRegExp = function (text) {\n      return text.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n    };\n    var encodeText = function (text) {\n      return global$7.DOM.encode(text);\n    };\n    var replaceText = function (text, matchText) {\n      var translated = global$5.translate(text);\n      var encoded = encodeText(translated);\n      if (matchText.length > 0) {\n        var escapedMatchRegex = new RegExp(escapeRegExp(matchText), 'gi');\n        return encoded.replace(escapedMatchRegex, function (match) {\n          return '<span class=\"tox-autocompleter-highlight\">' + match + '</span>';\n        });\n      } else {\n        return encoded;\n      }\n    };\n    var renderAutocompleteItem = function (spec, matchText, useText, presets, onItemValueHandler, itemResponse, sharedBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: Option.none(),\n        htmlContent: useText ? spec.text.map(function (text) {\n          return replaceText(text, matchText);\n        }) : Option.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: Option.none(),\n        checkMark: Option.none(),\n        caret: Option.none(),\n        value: spec.value\n      }, sharedBackstage.providers, renderIcons, spec.icon);\n      return renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: function () {\n          return {};\n        },\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value, spec.meta);\n        },\n        onSetup: function () {\n          return function () {\n          };\n        },\n        triggersSubmenu: false,\n        itemBehaviours: tooltipBehaviour(spec.meta, sharedBackstage)\n      }, structure, itemResponse);\n    };\n\n    var renderChoiceItem = function (spec, useText, presets, onItemValueHandler, isSelected, itemResponse, providersBackstage) {\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: presets,\n        textContent: useText ? spec.text : Option.none(),\n        htmlContent: Option.none(),\n        ariaLabel: spec.text,\n        iconContent: spec.icon,\n        shortcutContent: useText ? spec.shortcut : Option.none(),\n        checkMark: useText ? Option.some(renderCheckmark(providersBackstage.icons)) : Option.none(),\n        caret: Option.none(),\n        value: spec.value\n      }, providersBackstage, true);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: function (_api) {\n          return onItemValueHandler(spec.value);\n        },\n        onSetup: function (api) {\n          api.setActive(isSelected);\n          return function () {\n          };\n        },\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var parts$2 = constant(generate$4(owner$2(), parts()));\n\n    var cellOverEvent = generate$1('cell-over');\n    var cellExecuteEvent = generate$1('cell-execute');\n    var makeCell = function (row, col, labelId) {\n      var _a;\n      var emitCellOver = function (c) {\n        return emitWith(c, cellOverEvent, {\n          row: row,\n          col: col\n        });\n      };\n      var emitExecute = function (c) {\n        return emitWith(c, cellExecuteEvent, {\n          row: row,\n          col: col\n        });\n      };\n      return build$1({\n        dom: {\n          tag: 'div',\n          attributes: (_a = { role: 'button' }, _a['aria-labelledby'] = labelId, _a)\n        },\n        behaviours: derive$1([\n          config('insert-table-picker-cell', [\n            run(mouseover(), Focusing.focus),\n            run(execute(), emitExecute),\n            run(tapOrClick(), emitExecute)\n          ]),\n          Toggling.config({\n            toggleClass: 'tox-insert-table-picker__selected',\n            toggleOnExecute: false\n          }),\n          Focusing.config({ onFocus: emitCellOver })\n        ])\n      });\n    };\n    var makeCells = function (labelId, numRows, numCols) {\n      var cells = [];\n      for (var i = 0; i < numRows; i++) {\n        var row = [];\n        for (var j = 0; j < numCols; j++) {\n          row.push(makeCell(i, j, labelId));\n        }\n        cells.push(row);\n      }\n      return cells;\n    };\n    var selectCells = function (cells, selectedRow, selectedColumn, numRows, numColumns) {\n      for (var i = 0; i < numRows; i++) {\n        for (var j = 0; j < numColumns; j++) {\n          Toggling.set(cells[i][j], i <= selectedRow && j <= selectedColumn);\n        }\n      }\n    };\n    var makeComponents = function (cells) {\n      return bind(cells, function (cellRow) {\n        return map(cellRow, premade$1);\n      });\n    };\n    var makeLabelText = function (row, col) {\n      return text(col + 1 + 'x' + (row + 1));\n    };\n    function renderInsertTableMenuItem(spec) {\n      var numRows = 10;\n      var numColumns = 10;\n      var sizeLabelId = generate$1('size-label');\n      var cells = makeCells(sizeLabelId, numRows, numColumns);\n      var memLabel = record({\n        dom: {\n          tag: 'span',\n          classes: ['tox-insert-table-picker__label'],\n          attributes: { id: sizeLabelId }\n        },\n        components: [text('0x0')],\n        behaviours: derive$1([Replacing.config({})])\n      });\n      return {\n        type: 'widget',\n        data: { value: generate$1('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$2().widget({\n            dom: {\n              tag: 'div',\n              classes: ['tox-insert-table-picker']\n            },\n            components: makeComponents(cells).concat(memLabel.asSpec()),\n            behaviours: derive$1([\n              config('insert-table-picker', [\n                runWithTarget(cellOverEvent, function (c, t, e) {\n                  var row = e.event().row();\n                  var col = e.event().col();\n                  selectCells(cells, row, col, numRows, numColumns);\n                  Replacing.set(memLabel.get(c), [makeLabelText(row, col)]);\n                }),\n                runWithTarget(cellExecuteEvent, function (c, _, e) {\n                  spec.onAction({\n                    numRows: e.event().row() + 1,\n                    numColumns: e.event().col() + 1\n                  });\n                  emit(c, sandboxClose());\n                })\n              ]),\n              Keying.config({\n                initSize: {\n                  numRows: numRows,\n                  numColumns: numColumns\n                },\n                mode: 'flatgrid',\n                selector: '[role=\"button\"]'\n              })\n            ])\n          })]\n      };\n    }\n\n    var hexColour = function (hexString) {\n      return { value: constant(hexString) };\n    };\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    var longformRegex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\n    var isHexString = function (hex) {\n      return shorthandRegex.test(hex) || longformRegex.test(hex);\n    };\n    var getLongForm = function (hex) {\n      var hexString = hex.value().replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n      });\n      return { value: constant(hexString) };\n    };\n    var extractValues = function (hex) {\n      var longForm = getLongForm(hex);\n      var splitForm = longformRegex.exec(longForm.value());\n      return splitForm === null ? [\n        'FFFFFF',\n        'FF',\n        'FF',\n        'FF'\n      ] : splitForm;\n    };\n    var toHex = function (component) {\n      var hex = component.toString(16);\n      return hex.length === 1 ? '0' + hex : hex;\n    };\n    var fromRgba = function (rgbaColour) {\n      var value = toHex(rgbaColour.red()) + toHex(rgbaColour.green()) + toHex(rgbaColour.blue());\n      return hexColour(value);\n    };\n\n    var min = Math.min;\n    var max = Math.max;\n    var round = Math.round;\n    var rgbRegex = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/;\n    var rgbaRegex = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*(\\d?(?:\\.\\d+)?)\\)/;\n    var rgbaColour = function (red, green, blue, alpha) {\n      return {\n        red: constant(red),\n        green: constant(green),\n        blue: constant(blue),\n        alpha: constant(alpha)\n      };\n    };\n    var isRgbaComponent = function (value) {\n      var num = parseInt(value, 10);\n      return num.toString() === value && num >= 0 && num <= 255;\n    };\n    var fromHsv = function (hsv) {\n      var r;\n      var g;\n      var b;\n      var hue = (hsv.hue() || 0) % 360;\n      var saturation = hsv.saturation() / 100;\n      var brightness = hsv.value() / 100;\n      saturation = max(0, min(saturation, 1));\n      brightness = max(0, min(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round(255 * brightness);\n        return rgbaColour(r, g, b, 1);\n      }\n      var side = hue / 60;\n      var chroma = brightness * saturation;\n      var x = chroma * (1 - Math.abs(side % 2 - 1));\n      var match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round(255 * (r + match));\n      g = round(255 * (g + match));\n      b = round(255 * (b + match));\n      return rgbaColour(r, g, b, 1);\n    };\n    var fromHex = function (hexColour) {\n      var result = extractValues(hexColour);\n      var red = parseInt(result[1], 16);\n      var green = parseInt(result[2], 16);\n      var blue = parseInt(result[3], 16);\n      return rgbaColour(red, green, blue, 1);\n    };\n    var fromStringValues = function (red, green, blue, alpha) {\n      var r = parseInt(red, 10);\n      var g = parseInt(green, 10);\n      var b = parseInt(blue, 10);\n      var a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    var fromString = function (rgbaString) {\n      if (rgbaString === 'transparent') {\n        return Option.some(rgbaColour(0, 0, 0, 0));\n      }\n      var rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Option.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      var rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Option.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Option.none();\n    };\n    var toString = function (rgba) {\n      return 'rgba(' + rgba.red() + ',' + rgba.green() + ',' + rgba.blue() + ',' + rgba.alpha() + ')';\n    };\n    var redColour = constant(rgbaColour(255, 0, 0, 1));\n\n    var global$8 = tinymce.util.Tools.resolve('tinymce.util.LocalStorage');\n\n    var storageName = 'tinymce-custom-colors';\n    function ColorCache (max) {\n      if (max === void 0) {\n        max = 10;\n      }\n      var storageString = global$8.getItem(storageName);\n      var localstorage = isString(storageString) ? JSON.parse(storageString) : [];\n      var prune = function (list) {\n        var diff = max - list.length;\n        return diff < 0 ? list.slice(0, max) : list;\n      };\n      var cache = prune(localstorage);\n      var add = function (key) {\n        indexOf(cache, key).each(remove);\n        cache.unshift(key);\n        if (cache.length > max) {\n          cache.pop();\n        }\n        global$8.setItem(storageName, JSON.stringify(cache));\n      };\n      var remove = function (idx) {\n        cache.splice(idx, 1);\n      };\n      var state = function () {\n        return cache.slice(0);\n      };\n      return {\n        add: add,\n        state: state\n      };\n    }\n\n    var choiceItem = 'choiceitem';\n    var defaultColors = [\n      {\n        type: choiceItem,\n        text: 'Light Green',\n        value: '#BFEDD2'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Yellow',\n        value: '#FBEEB8'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Red',\n        value: '#F8CAC6'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Purple',\n        value: '#ECCAFA'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Blue',\n        value: '#C2E0F4'\n      },\n      {\n        type: choiceItem,\n        text: 'Green',\n        value: '#2DC26B'\n      },\n      {\n        type: choiceItem,\n        text: 'Yellow',\n        value: '#F1C40F'\n      },\n      {\n        type: choiceItem,\n        text: 'Red',\n        value: '#E03E2D'\n      },\n      {\n        type: choiceItem,\n        text: 'Purple',\n        value: '#B96AD9'\n      },\n      {\n        type: choiceItem,\n        text: 'Blue',\n        value: '#3598DB'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Turquoise',\n        value: '#169179'\n      },\n      {\n        type: choiceItem,\n        text: 'Orange',\n        value: '#E67E23'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Red',\n        value: '#BA372A'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Purple',\n        value: '#843FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Blue',\n        value: '#236FA1'\n      },\n      {\n        type: choiceItem,\n        text: 'Light Gray',\n        value: '#ECF0F1'\n      },\n      {\n        type: choiceItem,\n        text: 'Medium Gray',\n        value: '#CED4D9'\n      },\n      {\n        type: choiceItem,\n        text: 'Gray',\n        value: '#95A5A6'\n      },\n      {\n        type: choiceItem,\n        text: 'Dark Gray',\n        value: '#7E8C8D'\n      },\n      {\n        type: choiceItem,\n        text: 'Navy Blue',\n        value: '#34495E'\n      },\n      {\n        type: choiceItem,\n        text: 'Black',\n        value: '#000000'\n      },\n      {\n        type: choiceItem,\n        text: 'White',\n        value: '#ffffff'\n      }\n    ];\n    var colorCache = ColorCache(10);\n    var mapColors = function (colorMap) {\n      var colors = [];\n      var canvas = domGlobals.document.createElement('canvas');\n      canvas.height = 1;\n      canvas.width = 1;\n      var ctx = canvas.getContext('2d');\n      var byteAsHex = function (colorByte, alphaByte) {\n        var bg = 255;\n        var alpha = alphaByte / 255;\n        var colorByteWithWhiteBg = Math.round(colorByte * alpha + bg * (1 - alpha));\n        return ('0' + colorByteWithWhiteBg.toString(16)).slice(-2).toUpperCase();\n      };\n      var asHexColor = function (color) {\n        if (/^[0-9A-Fa-f]{6}$/.test(color)) {\n          return '#' + color.toUpperCase();\n        }\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.fillStyle = '#FFFFFF';\n        ctx.fillStyle = color;\n        ctx.fillRect(0, 0, 1, 1);\n        var rgba = ctx.getImageData(0, 0, 1, 1).data;\n        var r = rgba[0], g = rgba[1], b = rgba[2], a = rgba[3];\n        return '#' + byteAsHex(r, a) + byteAsHex(g, a) + byteAsHex(b, a);\n      };\n      for (var i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          value: asHexColor(colorMap[i]),\n          type: 'choiceitem'\n        });\n      }\n      return colors;\n    };\n    var getColorCols = function (editor, defaultCols) {\n      return editor.getParam('color_cols', defaultCols, 'number');\n    };\n    var hasCustomColors = function (editor) {\n      return editor.getParam('custom_colors') !== false;\n    };\n    var getColorMap = function (editor) {\n      return editor.getParam('color_map');\n    };\n    var getColors = function (editor) {\n      var unmapped = getColorMap(editor);\n      return unmapped !== undefined ? mapColors(unmapped) : defaultColors;\n    };\n    var getCurrentColors = function () {\n      return map(colorCache.state(), function (color) {\n        return {\n          type: choiceItem,\n          text: color,\n          value: color\n        };\n      });\n    };\n    var addColor = function (color) {\n      colorCache.add(color);\n    };\n    var Settings = {\n      mapColors: mapColors,\n      getColorCols: getColorCols,\n      hasCustomColors: hasCustomColors,\n      getColorMap: getColorMap,\n      getColors: getColors,\n      getCurrentColors: getCurrentColors,\n      addColor: addColor\n    };\n\n    var fireSkinLoaded = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n    var fireBeforeRenderUI = function (editor) {\n      return editor.fire('BeforeRenderUI');\n    };\n    var fireResizeContent = function (editor, e) {\n      return editor.fire('ResizeContent', e);\n    };\n    var fireScrollContent = function (editor, e) {\n      return editor.fire('ScrollContent', e);\n    };\n    var fireTextColorChange = function (editor, data) {\n      return editor.fire('TextColorChange', data);\n    };\n    var Events = {\n      fireSkinLoaded: fireSkinLoaded,\n      fireResizeEditor: fireResizeEditor,\n      fireScrollContent: fireScrollContent,\n      fireBeforeRenderUI: fireBeforeRenderUI,\n      fireResizeContent: fireResizeContent,\n      fireTextColorChange: fireTextColorChange\n    };\n\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return color;\n    };\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, { value: value });\n        editor.nodeChanged();\n      });\n    };\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, { value: null }, null, true);\n        editor.nodeChanged();\n      });\n    };\n    var registerCommands = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        removeFormat(editor, format);\n      });\n    };\n    var calcCols = function (colors) {\n      return Math.max(5, Math.ceil(Math.sqrt(colors)));\n    };\n    var getColorCols$1 = function (editor) {\n      var colors = Settings.getColors(editor);\n      var defaultCols = calcCols(colors.length);\n      return Settings.getColorCols(editor, defaultCols);\n    };\n    var getAdditionalColors = function (hasCustom) {\n      var type = 'choiceitem';\n      var remove = {\n        type: type,\n        text: 'Remove color',\n        icon: 'color-swatch-remove-color',\n        value: 'remove'\n      };\n      var custom = {\n        type: type,\n        text: 'Custom color',\n        icon: 'color-picker',\n        value: 'custom'\n      };\n      return hasCustom ? [\n        remove,\n        custom\n      ] : [remove];\n    };\n    var applyColor = function (editor, format, value, onChoice) {\n      if (value === 'custom') {\n        var dialog = colorPickerDialog(editor);\n        dialog(function (colorOpt) {\n          colorOpt.each(function (color) {\n            Settings.addColor(color);\n            editor.execCommand('mceApplyTextcolor', format, color);\n            onChoice(color);\n          });\n        }, '#000000');\n      } else if (value === 'remove') {\n        onChoice('');\n        editor.execCommand('mceRemoveTextcolor', format);\n      } else {\n        onChoice(value);\n        editor.execCommand('mceApplyTextcolor', format, value);\n      }\n    };\n    var getMenuColors = function (colors, hasCustom) {\n      return colors.concat(Settings.getCurrentColors().concat(getAdditionalColors(hasCustom)));\n    };\n    var getFetch = function (colors, hasCustom) {\n      return function (callback) {\n        callback(getMenuColors(colors, hasCustom));\n      };\n    };\n    var setIconColor = function (splitButtonApi, name, newColor) {\n      var setIconFillAndStroke = function (pathId, color) {\n        splitButtonApi.setIconFill(pathId, color);\n        splitButtonApi.setIconStroke(pathId, color);\n      };\n      var id = name === 'forecolor' ? 'tox-icon-text-color__color' : 'tox-icon-highlight-bg-color__color';\n      setIconFillAndStroke(id, newColor);\n    };\n    var registerTextColorButton = function (editor, name, format, tooltip, lastColor) {\n      editor.ui.registry.addSplitButton(name, {\n        tooltip: tooltip,\n        presets: 'color',\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        select: function (value) {\n          var optCurrentRgb = Option.from(getCurrentColor(editor, format));\n          return optCurrentRgb.bind(function (currentRgb) {\n            return fromString(currentRgb).map(function (rgba) {\n              var currentHex = fromRgba(rgba).value();\n              return contains$1(value.toLowerCase(), currentHex);\n            });\n          }).getOr(false);\n        },\n        columns: getColorCols$1(editor),\n        fetch: getFetch(Settings.getColors(editor), Settings.hasCustomColors(editor)),\n        onAction: function (splitButtonApi) {\n          if (lastColor.get() !== null) {\n            applyColor(editor, format, lastColor.get(), function () {\n            });\n          }\n        },\n        onItemAction: function (splitButtonApi, value) {\n          applyColor(editor, format, value, function (newColor) {\n            lastColor.set(newColor);\n            Events.fireTextColorChange(editor, {\n              name: name,\n              color: newColor\n            });\n          });\n        },\n        onSetup: function (splitButtonApi) {\n          if (lastColor.get() !== null) {\n            setIconColor(splitButtonApi, name, lastColor.get());\n          }\n          var handler = function (e) {\n            if (e.name === name) {\n              setIconColor(splitButtonApi, e.name, e.color);\n            }\n          };\n          editor.on('TextColorChange', handler);\n          return function () {\n            editor.off('TextColorChange', handler);\n          };\n        }\n      });\n    };\n    var registerTextColorMenuItem = function (editor, name, format, text) {\n      editor.ui.registry.addNestedMenuItem(name, {\n        text: text,\n        icon: name === 'forecolor' ? 'text-color' : 'highlight-bg-color',\n        getSubmenuItems: function () {\n          return [{\n              type: 'fancymenuitem',\n              fancytype: 'colorswatch',\n              onAction: function (data) {\n                applyColor(editor, format, data.value, noop);\n              }\n            }];\n        }\n      });\n    };\n    var colorPickerDialog = function (editor) {\n      return function (callback, value) {\n        var getOnSubmit = function (callback) {\n          return function (api) {\n            var data = api.getData();\n            callback(Option.from(data.colorpicker));\n            api.close();\n          };\n        };\n        var onAction = function (api, details) {\n          if (details.name === 'hex-valid') {\n            if (details.value) {\n              api.enable('ok');\n            } else {\n              api.disable('ok');\n            }\n          }\n        };\n        var initialData = { colorpicker: value };\n        var submit = getOnSubmit(callback);\n        editor.windowManager.open({\n          title: 'Color Picker',\n          size: 'normal',\n          body: {\n            type: 'panel',\n            items: [{\n                type: 'colorpicker',\n                name: 'colorpicker',\n                label: 'Color'\n              }]\n          },\n          buttons: [\n            {\n              type: 'cancel',\n              name: 'cancel',\n              text: 'Cancel'\n            },\n            {\n              type: 'submit',\n              name: 'save',\n              text: 'Save',\n              primary: true\n            }\n          ],\n          initialData: initialData,\n          onAction: onAction,\n          onSubmit: submit,\n          onClose: function () {\n          },\n          onCancel: function () {\n            callback(Option.none());\n          }\n        });\n      };\n    };\n    var register$1 = function (editor) {\n      registerCommands(editor);\n      var lastForeColor = Cell(null);\n      var lastBackColor = Cell(null);\n      registerTextColorButton(editor, 'forecolor', 'forecolor', 'Text color', lastForeColor);\n      registerTextColorButton(editor, 'backcolor', 'hilitecolor', 'Background color', lastBackColor);\n      registerTextColorMenuItem(editor, 'forecolor', 'forecolor', 'Text color');\n      registerTextColorMenuItem(editor, 'backcolor', 'hilitecolor', 'Background color');\n    };\n    var ColorSwatch = {\n      register: register$1,\n      getColors: getMenuColors,\n      getFetch: getFetch,\n      colorPickerDialog: colorPickerDialog,\n      getCurrentColor: getCurrentColor,\n      getColorCols: getColorCols$1,\n      calcCols: calcCols\n    };\n\n    var chunk$1 = function (rowDom, numColumns) {\n      return function (items) {\n        var chunks = chunk(items, numColumns);\n        return map(chunks, function (c) {\n          return {\n            dom: rowDom,\n            components: c\n          };\n        });\n      };\n    };\n    var forSwatch = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-swatches-menu'\n          ]\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-swatches']\n            },\n            components: [Menu.parts().items({\n                preprocess: columns !== 'auto' ? chunk$1({\n                  tag: 'div',\n                  classes: ['tox-swatches__row']\n                }, columns) : identity\n              })]\n          }]\n      };\n    };\n    var forToolbar = function (columns) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection',\n            'tox-collection--toolbar',\n            'tox-collection--toolbar-lg'\n          ]\n        },\n        components: [Menu.parts().items({\n            preprocess: chunk$1({\n              tag: 'div',\n              classes: ['tox-collection__group']\n            }, columns)\n          })]\n      };\n    };\n    var preprocessCollection = function (items, isSeparator) {\n      var allSplits = [];\n      var currentSplit = [];\n      each(items, function (item, i) {\n        if (isSeparator(item, i)) {\n          if (currentSplit.length > 0) {\n            allSplits.push(currentSplit);\n          }\n          currentSplit = [];\n          if (has(item.dom, 'innerHtml')) {\n            currentSplit.push(item);\n          }\n        } else {\n          currentSplit.push(item);\n        }\n      });\n      if (currentSplit.length > 0) {\n        allSplits.push(currentSplit);\n      }\n      return map(allSplits, function (s) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-collection__group']\n          },\n          components: s\n        };\n      });\n    };\n    var forCollection = function (columns, initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-menu',\n            'tox-collection'\n          ].concat(columns === 1 ? ['tox-collection--list'] : ['tox-collection--grid'])\n        },\n        components: [Menu.parts().items({\n            preprocess: function (items) {\n              if (columns !== 'auto' && columns > 1) {\n                return chunk$1({\n                  tag: 'div',\n                  classes: ['tox-collection__group']\n                }, columns)(items);\n              } else {\n                return preprocessCollection(items, function (_item, i) {\n                  return initItems[i].type === 'separator';\n                });\n              }\n            }\n          })]\n      };\n    };\n    var forHorizontalCollection = function (initItems, _hasIcons) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-collection',\n            'tox-collection--horizontal'\n          ]\n        },\n        components: [Menu.parts().items({\n            preprocess: function (items) {\n              return preprocessCollection(items, function (_item, i) {\n                return initItems[i].type === 'separator';\n              });\n            }\n          })]\n      };\n    };\n\n    var forMenu = function (presets) {\n      if (presets === 'color') {\n        return 'tox-swatches';\n      } else {\n        return 'tox-menu';\n      }\n    };\n    var classes = function (presets) {\n      return {\n        backgroundMenu: 'tox-background-menu',\n        selectedMenu: 'tox-selected-menu',\n        selectedItem: 'tox-collection__item--active',\n        hasIcons: 'tox-menu--has-icons',\n        menu: forMenu(presets),\n        tieredMenu: 'tox-tiered-menu'\n      };\n    };\n\n    var markers$1 = function (presets) {\n      var menuClasses = classes(presets);\n      return {\n        backgroundMenu: menuClasses.backgroundMenu,\n        selectedMenu: menuClasses.selectedMenu,\n        menu: menuClasses.menu,\n        selectedItem: menuClasses.selectedItem,\n        item: classForPreset(presets)\n      };\n    };\n    var dom$1 = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      return {\n        tag: 'div',\n        classes: flatten([\n          [\n            menuClasses.menu,\n            'tox-menu-' + columns + '-column'\n          ],\n          hasIcons ? [menuClasses.hasIcons] : []\n        ])\n      };\n    };\n    var components$1 = [Menu.parts().items({})];\n    var part = function (hasIcons, columns, presets) {\n      var menuClasses = classes(presets);\n      var d = {\n        tag: 'div',\n        classes: flatten([[menuClasses.tieredMenu]])\n      };\n      return {\n        dom: d,\n        markers: markers$1(presets)\n      };\n    };\n\n    var hasIcon = function (item) {\n      return item.icon !== undefined || item.type === 'togglemenuitem' || item.type === 'choicemenuitem';\n    };\n    var menuHasIcons = function (xs) {\n      return exists(xs, hasIcon);\n    };\n    var handleError = function (error) {\n      domGlobals.console.error(formatError(error));\n      domGlobals.console.log(error);\n      return Option.none();\n    };\n    var createHorizontalPartialMenuWithAlloyItems = function (value, _hasIcons, items, _columns, _presets) {\n      var structure = forHorizontalCollection(items);\n      return {\n        value: value,\n        dom: structure.dom,\n        components: structure.components,\n        items: items\n      };\n    };\n    var createPartialMenuWithAlloyItems = function (value, hasIcons, items, columns, presets) {\n      if (presets === 'color') {\n        var structure = forSwatch(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 'auto') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal' && columns === 1) {\n        var structure = forCollection(1, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'normal') {\n        var structure = forCollection(columns, items);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      if (presets === 'listpreview' && columns !== 'auto') {\n        var structure = forToolbar(columns);\n        return {\n          value: value,\n          dom: structure.dom,\n          components: structure.components,\n          items: items\n        };\n      }\n      return {\n        value: value,\n        dom: dom$1(hasIcons, columns, presets),\n        components: components$1,\n        items: items\n      };\n    };\n\n    var createPartialChoiceMenu = function (value, items, onItemValueHandler, columns, presets, itemResponse, select, providersBackstage) {\n      var hasIcons = menuHasIcons(items);\n      var presetItemTypes = presets !== 'color' ? 'normal' : 'color';\n      var alloyItems = createChoiceItems(items, onItemValueHandler, columns, presetItemTypes, itemResponse, select, providersBackstage);\n      return createPartialMenuWithAlloyItems(value, hasIcons, alloyItems, columns, presets);\n    };\n    var createChoiceItems = function (items, onItemValueHandler, columns, itemPresets, itemResponse, select, providersBackstage) {\n      return cat(map(items, function (item) {\n        if (item.type === 'choiceitem') {\n          return createChoiceMenuItem(item).fold(handleError, function (d) {\n            return Option.some(renderChoiceItem(d, columns === 1, itemPresets, onItemValueHandler, select(item.value), itemResponse, providersBackstage));\n          });\n        } else {\n          return Option.none();\n        }\n      }));\n    };\n\n    var deriveMenuMovement = function (columns, presets) {\n      var menuMarkers = markers$1(presets);\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: true\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'grid',\n          selector: '.' + menuMarkers.item,\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        var rowClass = presets === 'color' ? 'tox-swatches__row' : 'tox-collection__group';\n        return {\n          mode: 'matrix',\n          rowSelector: '.' + rowClass\n        };\n      }\n    };\n    var deriveCollectionMovement = function (columns, presets) {\n      if (columns === 1) {\n        return {\n          mode: 'menu',\n          moveOnTab: false,\n          selector: '.tox-collection__item'\n        };\n      } else if (columns === 'auto') {\n        return {\n          mode: 'flatgrid',\n          selector: '.' + 'tox-collection__item',\n          initSize: {\n            numColumns: 1,\n            numRows: 1\n          }\n        };\n      } else {\n        return {\n          mode: 'matrix',\n          selectors: {\n            row: presets === 'color' ? '.tox-swatches__row' : '.tox-collection__group',\n            cell: presets === 'color' ? '.' + colorClass : '.' + selectableClass\n          }\n        };\n      }\n    };\n\n    function renderColorSwatchItem(spec, backstage) {\n      var items = ColorSwatch.getColors(backstage.colorinput.getColors(), backstage.colorinput.hasCustomColors());\n      var columns = backstage.colorinput.getColorCols();\n      var presets = 'color';\n      var menuSpec = createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n        spec.onAction({ value: value });\n      }, columns, presets, ItemResponse$1.CLOSE_ON_EXECUTE, function () {\n        return false;\n      }, backstage.shared.providers);\n      var widgetSpec = deepMerge(__assign(__assign({}, menuSpec), {\n        markers: markers$1(presets),\n        movement: deriveMenuMovement(columns, presets)\n      }));\n      return {\n        type: 'widget',\n        data: { value: generate$1('widget-id') },\n        dom: {\n          tag: 'div',\n          classes: ['tox-fancymenuitem']\n        },\n        autofocus: true,\n        components: [parts$2().widget(Menu.sketch(widgetSpec))]\n      };\n    }\n\n    var fancyMenuItems = {\n      inserttable: renderInsertTableMenuItem,\n      colorswatch: renderColorSwatchItem\n    };\n    var valueOpt = function (obj, key) {\n      return Object.prototype.hasOwnProperty.call(obj, key) ? Option.some(obj[key]) : Option.none();\n    };\n    var renderFancyMenuItem = function (spec, backstage) {\n      return valueOpt(fancyMenuItems, spec.fancytype).map(function (render) {\n        return render(spec, backstage);\n      });\n    };\n\n    var renderNormalItem = function (spec, itemResponse, providersBackstage, renderIcons) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Option.none(),\n        ariaLabel: spec.text,\n        caret: Option.none(),\n        checkMark: Option.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse);\n    };\n\n    var renderNestedItem = function (spec, itemResponse, providersBackstage, renderIcons, downwardsCaret) {\n      if (renderIcons === void 0) {\n        renderIcons = true;\n      }\n      if (downwardsCaret === void 0) {\n        downwardsCaret = false;\n      }\n      var caret = downwardsCaret ? renderDownwardsCaret(providersBackstage.icons) : renderSubmenuCaret(providersBackstage.icons);\n      var getApi = function (component) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        presets: 'normal',\n        iconContent: spec.icon,\n        textContent: spec.text,\n        htmlContent: Option.none(),\n        ariaLabel: spec.text,\n        caret: Option.some(caret),\n        checkMark: Option.none(),\n        shortcutContent: spec.shortcut\n      }, providersBackstage, renderIcons);\n      return renderCommonItem({\n        data: buildData(spec),\n        getApi: getApi,\n        disabled: spec.disabled,\n        onAction: noop,\n        onSetup: spec.onSetup,\n        triggersSubmenu: true,\n        itemBehaviours: []\n      }, structure, itemResponse);\n    };\n\n    var renderSeparatorItem = function (spec) {\n      var innerHtml = spec.text.fold(function () {\n        return {};\n      }, function (text) {\n        return { innerHtml: text };\n      });\n      return {\n        type: 'separator',\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            selectableClass,\n            groupHeadingClass\n          ]\n        }, innerHtml),\n        components: []\n      };\n    };\n\n    var renderToggleMenuItem = function (spec, itemResponse, providersBackstage) {\n      var getApi = function (component) {\n        return {\n          setActive: function (state) {\n            Toggling.set(component, state);\n          },\n          isActive: function () {\n            return Toggling.isOn(component);\n          },\n          isDisabled: function () {\n            return Disabling.isDisabled(component);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(component, state);\n          }\n        };\n      };\n      var structure = renderItemStructure({\n        iconContent: Option.none(),\n        textContent: spec.text,\n        htmlContent: Option.none(),\n        ariaLabel: spec.text,\n        checkMark: Option.some(renderCheckmark(providersBackstage.icons)),\n        caret: Option.none(),\n        shortcutContent: spec.shortcut,\n        presets: 'normal',\n        meta: spec.meta\n      }, providersBackstage, true);\n      return deepMerge(renderCommonItem({\n        data: buildData(spec),\n        disabled: spec.disabled,\n        getApi: getApi,\n        onAction: spec.onAction,\n        onSetup: spec.onSetup,\n        triggersSubmenu: false,\n        itemBehaviours: []\n      }, structure, itemResponse), {\n        toggling: {\n          toggleClass: tickedClass,\n          toggleOnExecute: false,\n          selected: spec.active\n        }\n      });\n    };\n\n    var autocomplete = renderAutocompleteItem;\n    var separator = renderSeparatorItem;\n    var normal = renderNormalItem;\n    var nested = renderNestedItem;\n    var toggle$1 = renderToggleMenuItem;\n    var fancy = renderFancyMenuItem;\n\n    var FocusMode;\n    (function (FocusMode) {\n      FocusMode[FocusMode['ContentFocus'] = 0] = 'ContentFocus';\n      FocusMode[FocusMode['UiFocus'] = 1] = 'UiFocus';\n    }(FocusMode || (FocusMode = {})));\n    var hasIcon$1 = function (item) {\n      return item.icon !== undefined || item.type === 'togglemenuitem' || item.type === 'choicemenuitem';\n    };\n    var menuHasIcons$1 = function (xs) {\n      return exists(xs, hasIcon$1);\n    };\n    var createMenuItemFromBridge = function (item, itemResponse, backstage, menuHasIcons, isHorizontalMenu) {\n      var providersBackstage = backstage.shared.providers;\n      var parseForHorizontalMenu = function (menuitem) {\n        return !isHorizontalMenu ? menuitem : __assign(__assign({}, menuitem), {\n          shortcut: Option.none(),\n          icon: menuitem.text.isSome() ? Option.none() : menuitem.icon\n        });\n      };\n      switch (item.type) {\n      case 'menuitem':\n        return createMenuItem(item).fold(handleError, function (d) {\n          return Option.some(normal(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons));\n        });\n      case 'nestedmenuitem':\n        return createNestedMenuItem(item).fold(handleError, function (d) {\n          return Option.some(nested(parseForHorizontalMenu(d), itemResponse, providersBackstage, menuHasIcons, isHorizontalMenu));\n        });\n      case 'togglemenuitem':\n        return createToggleMenuItem(item).fold(handleError, function (d) {\n          return Option.some(toggle$1(parseForHorizontalMenu(d), itemResponse, providersBackstage));\n        });\n      case 'separator':\n        return createSeparatorMenuItem(item).fold(handleError, function (d) {\n          return Option.some(separator(d));\n        });\n      case 'fancymenuitem':\n        return createFancyMenuItem(item).fold(handleError, function (d) {\n          return fancy(parseForHorizontalMenu(d), backstage);\n        });\n      default: {\n          domGlobals.console.error('Unknown item in general menu', item);\n          return Option.none();\n        }\n      }\n    };\n    var createAutocompleteItems = function (items, matchText, onItemValueHandler, columns, itemResponse, sharedBackstage) {\n      var renderText = columns === 1;\n      var renderIcons = !renderText || menuHasIcons$1(items);\n      return cat(map(items, function (item) {\n        if (item.type === 'separator') {\n          return createSeparatorItem(item).fold(handleError, function (d) {\n            return Option.some(separator(d));\n          });\n        } else {\n          return createAutocompleterItem(item).fold(handleError, function (d) {\n            return Option.some(autocomplete(d, matchText, renderText, 'normal', onItemValueHandler, itemResponse, sharedBackstage, renderIcons));\n          });\n        }\n      }));\n    };\n    var createPartialMenu = function (value, items, itemResponse, backstage, isHorizontalMenu) {\n      var hasIcons = menuHasIcons$1(items);\n      var alloyItems = cat(map(items, function (item) {\n        var itemHasIcon = function (i) {\n          return isHorizontalMenu ? !i.hasOwnProperty('text') : hasIcons;\n        };\n        var createItem = function (i) {\n          return createMenuItemFromBridge(i, itemResponse, backstage, itemHasIcon(i), isHorizontalMenu);\n        };\n        if (item.type === 'nestedmenuitem' && item.getSubmenuItems().length <= 0) {\n          return createItem(merge(item, { disabled: true }));\n        } else {\n          return createItem(item);\n        }\n      }));\n      var createPartial = isHorizontalMenu ? createHorizontalPartialMenuWithAlloyItems : createPartialMenuWithAlloyItems;\n      return createPartial(value, hasIcons, alloyItems, 1, 'normal');\n    };\n    var createTieredDataFrom = function (partialMenu) {\n      return tieredMenu.singleData(partialMenu.value, partialMenu);\n    };\n    var createMenuFrom = function (partialMenu, columns, focusMode, presets) {\n      var focusManager = focusMode === FocusMode.ContentFocus ? highlights() : dom();\n      var movement = deriveMenuMovement(columns, presets);\n      var menuMarkers = markers$1(presets);\n      return {\n        dom: partialMenu.dom,\n        components: partialMenu.components,\n        items: partialMenu.items,\n        value: partialMenu.value,\n        markers: {\n          selectedItem: menuMarkers.selectedItem,\n          item: menuMarkers.item\n        },\n        movement: movement,\n        fakeFocus: focusMode === FocusMode.ContentFocus,\n        focusManager: focusManager,\n        menuBehaviours: SimpleBehaviours.unnamedEvents(columns !== 'auto' ? [] : [runOnAttached(function (comp, se) {\n            detectSize(comp, 4, menuMarkers.item).each(function (_a) {\n              var numColumns = _a.numColumns, numRows = _a.numRows;\n              Keying.setGridSize(comp, numRows, numColumns);\n            });\n          })])\n      };\n    };\n\n    var register$2 = function (editor, sharedBackstage) {\n      var activeAutocompleter = Cell(Option.none());\n      var processingAction = Cell(false);\n      var autocompleter = build$1(InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-autocompleter']\n        },\n        components: [],\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissAutocompleter', [run(dismissRequested(), function () {\n              return cancelIfNecessary();\n            })])]),\n        lazySink: sharedBackstage.getSink\n      }));\n      var isMenuOpen = function () {\n        return InlineView.isOpen(autocompleter);\n      };\n      var isActive = function () {\n        return activeAutocompleter.get().isSome();\n      };\n      var hideIfNecessary = function () {\n        if (isActive()) {\n          InlineView.hide(autocompleter);\n        }\n      };\n      var cancelIfNecessary = function () {\n        if (isActive()) {\n          var lastElement = activeAutocompleter.get().map(function (ac) {\n            return ac.element;\n          });\n          detect$4(lastElement.getOr(Element.fromDom(editor.selection.getNode()))).each(unwrap);\n          hideIfNecessary();\n          activeAutocompleter.set(Option.none());\n          processingAction.set(false);\n        }\n      };\n      var getAutocompleters = cached(function () {\n        return register(editor);\n      });\n      var getCombinedItems = function (triggerChar, matches) {\n        var columns = findMap(matches, function (m) {\n          return Option.from(m.columns);\n        }).getOr(1);\n        return bind(matches, function (match) {\n          var choices = match.items;\n          return createAutocompleteItems(choices, match.matchText, function (itemValue, itemMeta) {\n            var nr = editor.selection.getRng();\n            getContext(editor.dom, nr, triggerChar).fold(function () {\n              return domGlobals.console.error('Lost context. Cursor probably moved');\n            }, function (_a) {\n              var range = _a.range;\n              var autocompleterApi = {\n                hide: function () {\n                  cancelIfNecessary();\n                },\n                reload: function (fetchOptions) {\n                  hideIfNecessary();\n                  load(fetchOptions);\n                }\n              };\n              processingAction.set(true);\n              match.onAction(autocompleterApi, range, itemValue, itemMeta);\n              processingAction.set(false);\n            });\n          }, columns, ItemResponse$1.BUBBLE_TO_SANDBOX, sharedBackstage);\n        });\n      };\n      var commenceIfNecessary = function (context) {\n        if (!isActive()) {\n          var wrapper = create$4(editor, context.range);\n          activeAutocompleter.set(Option.some({\n            triggerChar: context.triggerChar,\n            element: wrapper,\n            matchLength: context.text.length\n          }));\n          processingAction.set(false);\n        }\n      };\n      var display = function (ac, context, lookupData, items) {\n        ac.matchLength = context.text.length;\n        var columns = findMap(lookupData, function (ld) {\n          return Option.from(ld.columns);\n        }).getOr(1);\n        InlineView.showAt(autocompleter, {\n          anchor: 'node',\n          root: Element.fromDom(editor.getBody()),\n          node: Option.from(ac.element)\n        }, Menu.sketch(createMenuFrom(createPartialMenuWithAlloyItems('autocompleter-value', true, items, columns, 'normal'), columns, FocusMode.ContentFocus, 'normal')));\n        InlineView.getContent(autocompleter).each(Highlighting.highlightFirst);\n      };\n      var doLookup = function (fetchOptions) {\n        return activeAutocompleter.get().map(function (ac) {\n          return getContext(editor.dom, editor.selection.getRng(), ac.triggerChar).bind(function (newContext) {\n            return lookupWithContext(editor, getAutocompleters, newContext, fetchOptions);\n          });\n        }).getOrThunk(function () {\n          return lookup(editor, getAutocompleters);\n        });\n      };\n      var load = function (fetchOptions) {\n        doLookup(fetchOptions).fold(cancelIfNecessary, function (lookupInfo) {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(function (lookupData) {\n            activeAutocompleter.get().map(function (ac) {\n              var context = lookupInfo.context;\n              if (ac.triggerChar === context.triggerChar) {\n                var combinedItems = getCombinedItems(context.triggerChar, lookupData);\n                if (combinedItems.length > 0) {\n                  display(ac, context, lookupData, combinedItems);\n                } else if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  hideIfNecessary();\n                }\n              }\n            });\n          });\n        });\n      };\n      var onKeypress = last$2(function (e) {\n        if (e.which === 27) {\n          return;\n        }\n        load();\n      }, 50);\n      var autocompleterUiApi = {\n        onKeypress: onKeypress,\n        cancelIfNecessary: cancelIfNecessary,\n        isMenuOpen: isMenuOpen,\n        isActive: isActive,\n        isProcessingAction: processingAction.get,\n        getView: function () {\n          return InlineView.getContent(autocompleter);\n        }\n      };\n      AutocompleterEditorEvents.setup(autocompleterUiApi, editor);\n    };\n    var Autocompleter = { register: register$2 };\n\n    var mkEvent = function (target, x, y, stop, prevent, kill, raw) {\n      return {\n        target: constant(target),\n        x: constant(x),\n        y: constant(y),\n        stop: stop,\n        prevent: prevent,\n        kill: kill,\n        raw: constant(raw)\n      };\n    };\n    var fromRawEvent = function (rawEvent) {\n      var target = Element.fromDom(rawEvent.target);\n      var stop = function () {\n        rawEvent.stopPropagation();\n      };\n      var prevent = function () {\n        rawEvent.preventDefault();\n      };\n      var kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    var handle = function (filter, handler) {\n      return function (rawEvent) {\n        if (!filter(rawEvent)) {\n          return;\n        }\n        handler(fromRawEvent(rawEvent));\n      };\n    };\n    var binder = function (element, event, filter, handler, useCapture) {\n      var wrapped = handle(filter, handler);\n      element.dom().addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    var bind$2 = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, false);\n    };\n    var capture = function (element, event, filter, handler) {\n      return binder(element, event, filter, handler, true);\n    };\n    var unbind = function (element, event, handler, useCapture) {\n      element.dom().removeEventListener(event, handler, useCapture);\n    };\n\n    var filter$1 = constant(true);\n    var bind$3 = function (element, event, handler) {\n      return bind$2(element, event, filter$1, handler);\n    };\n    var capture$1 = function (element, event, handler) {\n      return capture(element, event, filter$1, handler);\n    };\n    var fromRawEvent$1 = fromRawEvent;\n\n    var closest$4 = function (scope, selector, isRoot) {\n      return closest$3(scope, selector, isRoot).isSome();\n    };\n\n    function DelayedFunction (fun, delay) {\n      var ref = null;\n      var schedule = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n        ref = domGlobals.setTimeout(function () {\n          fun.apply(null, args);\n          ref = null;\n        }, delay);\n      };\n      var cancel = function () {\n        if (ref !== null) {\n          domGlobals.clearTimeout(ref);\n          ref = null;\n        }\n      };\n      return {\n        cancel: cancel,\n        schedule: schedule\n      };\n    }\n\n    var SIGNIFICANT_MOVE = 5;\n    var LONGPRESS_DELAY = 400;\n    var getTouch = function (event) {\n      var raw = event.raw();\n      if (raw.touches === undefined || raw.touches.length !== 1) {\n        return Option.none();\n      }\n      return Option.some(raw.touches[0]);\n    };\n    var isFarEnough = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x());\n      var distY = Math.abs(touch.clientY - data.y());\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    var monitor = function (settings) {\n      var startData = Cell(Option.none());\n      var longpressFired = Cell(false);\n      var longpress$1 = DelayedFunction(function (event) {\n        settings.triggerEvent(longpress(), event);\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      var handleTouchstart = function (event) {\n        getTouch(event).each(function (touch) {\n          longpress$1.cancel();\n          var data = {\n            x: constant(touch.clientX),\n            y: constant(touch.clientY),\n            target: event.target\n          };\n          longpress$1.schedule(event);\n          longpressFired.set(false);\n          startData.set(Option.some(data));\n        });\n        return Option.none();\n      };\n      var handleTouchmove = function (event) {\n        longpress$1.cancel();\n        getTouch(event).each(function (touch) {\n          startData.get().each(function (data) {\n            if (isFarEnough(touch, data)) {\n              startData.set(Option.none());\n            }\n          });\n        });\n        return Option.none();\n      };\n      var handleTouchend = function (event) {\n        longpress$1.cancel();\n        var isSame = function (data) {\n          return eq(data.target(), event.target());\n        };\n        return startData.get().filter(isSame).map(function (data) {\n          if (longpressFired.get()) {\n            event.prevent();\n            return false;\n          } else {\n            return settings.triggerEvent(tap(), event);\n          }\n        });\n      };\n      var handlers = wrapAll$1([\n        {\n          key: touchstart(),\n          value: handleTouchstart\n        },\n        {\n          key: touchmove(),\n          value: handleTouchmove\n        },\n        {\n          key: touchend(),\n          value: handleTouchend\n        }\n      ]);\n      var fireIfReady = function (event, type) {\n        return readOptFrom$1(handlers, type).bind(function (handler) {\n          return handler(event);\n        });\n      };\n      return { fireIfReady: fireIfReady };\n    };\n\n    var isDangerous = function (event) {\n      var keyEv = event.raw();\n      return keyEv.which === BACKSPACE()[0] && !contains([\n        'input',\n        'textarea'\n      ], name(event.target())) && !closest$4(event.target(), '[contenteditable=\"true\"]');\n    };\n    var isFirefox = detect$3().browser.isFirefox();\n    var settingsSchema = objOfOnly([\n      strictFunction('triggerEvent'),\n      defaulted$1('stopBackspace', true)\n    ]);\n    var bindFocus = function (container, handler) {\n      if (isFirefox) {\n        return capture$1(container, 'focus', handler);\n      } else {\n        return bind$3(container, 'focusin', handler);\n      }\n    };\n    var bindBlur = function (container, handler) {\n      if (isFirefox) {\n        return capture$1(container, 'blur', handler);\n      } else {\n        return bind$3(container, 'focusout', handler);\n      }\n    };\n    var setup$1 = function (container, rawSettings) {\n      var settings = asRawOrDie('Getting GUI events settings', settingsSchema, rawSettings);\n      var pointerEvents = detect$3().deviceType.isTouch() ? [\n        'touchstart',\n        'touchmove',\n        'touchend',\n        'gesturestart'\n      ] : [\n        'mousedown',\n        'mouseup',\n        'mouseover',\n        'mousemove',\n        'mouseout',\n        'click'\n      ];\n      var tapEvent = monitor(settings);\n      var simpleEvents = map(pointerEvents.concat([\n        'selectstart',\n        'input',\n        'contextmenu',\n        'change',\n        'transitionend',\n        'drag',\n        'dragstart',\n        'dragend',\n        'dragenter',\n        'dragleave',\n        'dragover',\n        'drop',\n        'keyup'\n      ]), function (type) {\n        return bind$3(container, type, function (event) {\n          tapEvent.fireIfReady(event, type).each(function (tapStopped) {\n            if (tapStopped) {\n              event.kill();\n            }\n          });\n          var stopped = settings.triggerEvent(type, event);\n          if (stopped) {\n            event.kill();\n          }\n        });\n      });\n      var pasteTimeout = Cell(Option.none());\n      var onPaste = bind$3(container, 'paste', function (event) {\n        tapEvent.fireIfReady(event, 'paste').each(function (tapStopped) {\n          if (tapStopped) {\n            event.kill();\n          }\n        });\n        var stopped = settings.triggerEvent('paste', event);\n        if (stopped) {\n          event.kill();\n        }\n        pasteTimeout.set(Option.some(domGlobals.setTimeout(function () {\n          settings.triggerEvent(postPaste(), event);\n        }, 0)));\n      });\n      var onKeydown = bind$3(container, 'keydown', function (event) {\n        var stopped = settings.triggerEvent('keydown', event);\n        if (stopped) {\n          event.kill();\n        } else if (settings.stopBackspace === true && isDangerous(event)) {\n          event.prevent();\n        }\n      });\n      var onFocusIn = bindFocus(container, function (event) {\n        var stopped = settings.triggerEvent('focusin', event);\n        if (stopped) {\n          event.kill();\n        }\n      });\n      var focusoutTimeout = Cell(Option.none());\n      var onFocusOut = bindBlur(container, function (event) {\n        var stopped = settings.triggerEvent('focusout', event);\n        if (stopped) {\n          event.kill();\n        }\n        focusoutTimeout.set(Option.some(domGlobals.setTimeout(function () {\n          settings.triggerEvent(postBlur(), event);\n        }, 0)));\n      });\n      var unbind = function () {\n        each(simpleEvents, function (e) {\n          e.unbind();\n        });\n        onKeydown.unbind();\n        onFocusIn.unbind();\n        onFocusOut.unbind();\n        onPaste.unbind();\n        pasteTimeout.get().each(domGlobals.clearTimeout);\n        focusoutTimeout.get().each(domGlobals.clearTimeout);\n      };\n      return { unbind: unbind };\n    };\n\n    var derive$2 = function (rawEvent, rawTarget) {\n      var source = readOptFrom$1(rawEvent, 'target').map(function (getTarget) {\n        return getTarget();\n      }).getOr(rawTarget);\n      return Cell(source);\n    };\n\n    var fromSource = function (event, source) {\n      var stopper = Cell(false);\n      var cutter = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      var cut = function () {\n        cutter.set(true);\n      };\n      return {\n        stop: stop,\n        cut: cut,\n        isStopped: stopper.get,\n        isCut: cutter.get,\n        event: constant(event),\n        setSource: source.set,\n        getSource: source.get\n      };\n    };\n    var fromExternal = function (event) {\n      var stopper = Cell(false);\n      var stop = function () {\n        stopper.set(true);\n      };\n      return {\n        stop: stop,\n        cut: noop,\n        isStopped: stopper.get,\n        isCut: constant(false),\n        event: constant(event),\n        setSource: die('Cannot set source of a broadcasted event'),\n        getSource: die('Cannot get source of a broadcasted event')\n      };\n    };\n\n    var adt$b = Adt.generate([\n      { stopped: [] },\n      { resume: ['element'] },\n      { complete: [] }\n    ]);\n    var doTriggerHandler = function (lookup, eventType, rawEvent, target, source, logger) {\n      var handler = lookup(eventType, target);\n      var simulatedEvent = fromSource(rawEvent, source);\n      return handler.fold(function () {\n        logger.logEventNoHandlers(eventType, target);\n        return adt$b.complete();\n      }, function (handlerInfo) {\n        var descHandler = handlerInfo.descHandler();\n        var eventHandler = getCurried(descHandler);\n        eventHandler(simulatedEvent);\n        if (simulatedEvent.isStopped()) {\n          logger.logEventStopped(eventType, handlerInfo.element(), descHandler.purpose());\n          return adt$b.stopped();\n        } else if (simulatedEvent.isCut()) {\n          logger.logEventCut(eventType, handlerInfo.element(), descHandler.purpose());\n          return adt$b.complete();\n        } else {\n          return parent(handlerInfo.element()).fold(function () {\n            logger.logNoParent(eventType, handlerInfo.element(), descHandler.purpose());\n            return adt$b.complete();\n          }, function (parent) {\n            logger.logEventResponse(eventType, handlerInfo.element(), descHandler.purpose());\n            return adt$b.resume(parent);\n          });\n        }\n      });\n    };\n    var doTriggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, source, logger) {\n      return doTriggerHandler(lookup, eventType, rawEvent, rawTarget, source, logger).fold(function () {\n        return true;\n      }, function (parent) {\n        return doTriggerOnUntilStopped(lookup, eventType, rawEvent, parent, source, logger);\n      }, function () {\n        return false;\n      });\n    };\n    var triggerHandler = function (lookup, eventType, rawEvent, target, logger) {\n      var source = derive$2(rawEvent, target);\n      return doTriggerHandler(lookup, eventType, rawEvent, target, source, logger);\n    };\n    var broadcast = function (listeners, rawEvent, logger) {\n      var simulatedEvent = fromExternal(rawEvent);\n      each(listeners, function (listener) {\n        var descHandler = listener.descHandler();\n        var handler = getCurried(descHandler);\n        handler(simulatedEvent);\n      });\n      return simulatedEvent.isStopped();\n    };\n    var triggerUntilStopped = function (lookup, eventType, rawEvent, logger) {\n      var rawTarget = rawEvent.target();\n      return triggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, logger);\n    };\n    var triggerOnUntilStopped = function (lookup, eventType, rawEvent, rawTarget, logger) {\n      var source = derive$2(rawEvent, rawTarget);\n      return doTriggerOnUntilStopped(lookup, eventType, rawEvent, rawTarget, source, logger);\n    };\n\n    var eventHandler = Immutable('element', 'descHandler');\n    var broadcastHandler = function (id, handler) {\n      return {\n        id: constant(id),\n        descHandler: constant(handler)\n      };\n    };\n    function EventRegistry () {\n      var registry = {};\n      var registerId = function (extraArgs, id, events) {\n        each$1(events, function (v, k) {\n          var handlers = registry[k] !== undefined ? registry[k] : {};\n          handlers[id] = curryArgs(v, extraArgs);\n          registry[k] = handlers;\n        });\n      };\n      var findHandler = function (handlers, elem) {\n        return read$1(elem).fold(function () {\n          return Option.none();\n        }, function (id) {\n          var reader = readOpt$1(id);\n          return handlers.bind(reader).map(function (descHandler) {\n            return eventHandler(elem, descHandler);\n          });\n        });\n      };\n      var filterByType = function (type) {\n        return readOptFrom$1(registry, type).map(function (handlers) {\n          return mapToArray(handlers, function (f, id) {\n            return broadcastHandler(id, f);\n          });\n        }).getOr([]);\n      };\n      var find = function (isAboveRoot, type, target) {\n        var readType = readOpt$1(type);\n        var handlers = readType(registry);\n        return closest$1(target, function (elem) {\n          return findHandler(handlers, elem);\n        }, isAboveRoot);\n      };\n      var unregisterId = function (id) {\n        each$1(registry, function (handlersById, eventName) {\n          if (handlersById.hasOwnProperty(id)) {\n            delete handlersById[id];\n          }\n        });\n      };\n      return {\n        registerId: registerId,\n        unregisterId: unregisterId,\n        filterByType: filterByType,\n        find: find\n      };\n    }\n\n    function Registry () {\n      var events = EventRegistry();\n      var components = {};\n      var readOrTag = function (component) {\n        var elem = component.element();\n        return read$1(elem).fold(function () {\n          return write('uid-', component.element());\n        }, function (uid) {\n          return uid;\n        });\n      };\n      var failOnDuplicate = function (component, tagId) {\n        var conflict = components[tagId];\n        if (conflict === component) {\n          unregister(component);\n        } else {\n          throw new Error('The tagId \"' + tagId + '\" is already used by: ' + element(conflict.element()) + '\\nCannot use it for: ' + element(component.element()) + '\\n' + 'The conflicting element is' + (inBody(conflict.element()) ? ' ' : ' not ') + 'already in the DOM');\n        }\n      };\n      var register = function (component) {\n        var tagId = readOrTag(component);\n        if (hasKey$1(components, tagId)) {\n          failOnDuplicate(component, tagId);\n        }\n        var extraArgs = [component];\n        events.registerId(extraArgs, tagId, component.events());\n        components[tagId] = component;\n      };\n      var unregister = function (component) {\n        read$1(component.element()).each(function (tagId) {\n          delete components[tagId];\n          events.unregisterId(tagId);\n        });\n      };\n      var filter = function (type) {\n        return events.filterByType(type);\n      };\n      var find = function (isAboveRoot, type, target) {\n        return events.find(isAboveRoot, type, target);\n      };\n      var getById = function (id) {\n        return readOpt$1(id)(components);\n      };\n      return {\n        find: find,\n        filter: filter,\n        register: register,\n        unregister: unregister,\n        getById: getById\n      };\n    }\n\n    var factory$3 = function (detail) {\n      var _a = detail.dom, attributes = _a.attributes, domWithoutAttributes = __rest(_a, ['attributes']);\n      return {\n        uid: detail.uid,\n        dom: __assign({\n          tag: 'div',\n          attributes: __assign({ role: 'presentation' }, attributes)\n        }, domWithoutAttributes),\n        components: detail.components,\n        behaviours: get$b(detail.containerBehaviours),\n        events: detail.events,\n        domModification: detail.domModification,\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Container = single$2({\n      name: 'Container',\n      factory: factory$3,\n      configFields: [\n        defaulted$1('components', []),\n        field$1('containerBehaviours', []),\n        defaulted$1('events', {}),\n        defaulted$1('domModification', {}),\n        defaulted$1('eventOrder', {})\n      ]\n    });\n\n    var takeover = function (root) {\n      var isAboveRoot = function (el) {\n        return parent(root.element()).fold(function () {\n          return true;\n        }, function (parent) {\n          return eq(el, parent);\n        });\n      };\n      var registry = Registry();\n      var lookup = function (eventName, target) {\n        return registry.find(isAboveRoot, eventName, target);\n      };\n      var domEvents = setup$1(root.element(), {\n        triggerEvent: function (eventName, event) {\n          return monitorEvent(eventName, event.target(), function (logger) {\n            return triggerUntilStopped(lookup, eventName, event, logger);\n          });\n        }\n      });\n      var systemApi = {\n        debugInfo: constant('real'),\n        triggerEvent: function (eventName, target, data) {\n          monitorEvent(eventName, target, function (logger) {\n            triggerOnUntilStopped(lookup, eventName, data, target, logger);\n          });\n        },\n        triggerFocus: function (target, originator) {\n          read$1(target).fold(function () {\n            focus$1(target);\n          }, function (_alloyId) {\n            monitorEvent(focus(), target, function (logger) {\n              triggerHandler(lookup, focus(), {\n                originator: constant(originator),\n                kill: noop,\n                prevent: noop,\n                target: constant(target)\n              }, target, logger);\n            });\n          });\n        },\n        triggerEscape: function (comp, simulatedEvent) {\n          systemApi.triggerEvent('keydown', comp.element(), simulatedEvent.event());\n        },\n        getByUid: function (uid) {\n          return getByUid(uid);\n        },\n        getByDom: function (elem) {\n          return getByDom(elem);\n        },\n        build: build$1,\n        addToGui: function (c) {\n          add(c);\n        },\n        removeFromGui: function (c) {\n          remove$1(c);\n        },\n        addToWorld: function (c) {\n          addToWorld(c);\n        },\n        removeFromWorld: function (c) {\n          removeFromWorld(c);\n        },\n        broadcast: function (message) {\n          broadcast$1(message);\n        },\n        broadcastOn: function (channels, message) {\n          broadcastOn(channels, message);\n        },\n        broadcastEvent: function (eventName, event) {\n          broadcastEvent(eventName, event);\n        },\n        isConnected: constant(true)\n      };\n      var addToWorld = function (component) {\n        component.connect(systemApi);\n        if (!isText(component.element())) {\n          registry.register(component);\n          each(component.components(), addToWorld);\n          systemApi.triggerEvent(systemInit(), component.element(), { target: constant(component.element()) });\n        }\n      };\n      var removeFromWorld = function (component) {\n        if (!isText(component.element())) {\n          each(component.components(), removeFromWorld);\n          registry.unregister(component);\n        }\n        component.disconnect();\n      };\n      var add = function (component) {\n        attach$1(root, component);\n      };\n      var remove$1 = function (component) {\n        detach(component);\n      };\n      var destroy = function () {\n        domEvents.unbind();\n        remove(root.element());\n      };\n      var broadcastData = function (data) {\n        var receivers = registry.filter(receive());\n        each(receivers, function (receiver) {\n          var descHandler = receiver.descHandler();\n          var handler = getCurried(descHandler);\n          handler(data);\n        });\n      };\n      var broadcast$1 = function (message) {\n        broadcastData({\n          universal: constant(true),\n          data: constant(message)\n        });\n      };\n      var broadcastOn = function (channels, message) {\n        broadcastData({\n          universal: constant(false),\n          channels: constant(channels),\n          data: constant(message)\n        });\n      };\n      var broadcastEvent = function (eventName, event) {\n        var listeners = registry.filter(eventName);\n        return broadcast(listeners, event);\n      };\n      var getByUid = function (uid) {\n        return registry.getById(uid).fold(function () {\n          return Result.error(new Error('Could not find component with uid: \"' + uid + '\" in system.'));\n        }, Result.value);\n      };\n      var getByDom = function (elem) {\n        var uid = read$1(elem).getOr('not found');\n        return getByUid(uid);\n      };\n      addToWorld(root);\n      return {\n        root: constant(root),\n        element: root.element,\n        destroy: destroy,\n        add: add,\n        remove: remove$1,\n        getByUid: getByUid,\n        getByDom: getByDom,\n        addToWorld: addToWorld,\n        removeFromWorld: removeFromWorld,\n        broadcast: broadcast$1,\n        broadcastOn: broadcastOn,\n        broadcastEvent: broadcastEvent\n      };\n    };\n\n    var global$9 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n    var getSkinUrl = function (editor) {\n      var settings = editor.settings;\n      var skin = settings.skin;\n      var skinUrl = settings.skin_url;\n      if (skin !== false) {\n        var skinName = skin ? skin : 'oxide';\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$9.baseURL + '/skins/ui/' + skinName;\n        }\n      }\n      return skinUrl;\n    };\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n    var isSkinDisabled = function (editor) {\n      return editor.getParam('skin') === false;\n    };\n    var getHeightSetting = function (editor) {\n      return editor.getParam('height', Math.max(editor.getElement().offsetHeight, 200));\n    };\n    var getMinWidthSetting = function (editor) {\n      return Option.from(editor.settings.min_width).filter(isNumber);\n    };\n    var getMinHeightSetting = function (editor) {\n      return Option.from(editor.settings.min_height).filter(isNumber);\n    };\n    var getMaxWidthSetting = function (editor) {\n      return Option.from(editor.getParam('max_width')).filter(isNumber);\n    };\n    var getMaxHeightSetting = function (editor) {\n      return Option.from(editor.getParam('max_height')).filter(isNumber);\n    };\n    var getUserStyleFormats = function (editor) {\n      return Option.from(editor.getParam('style_formats')).filter(isArray);\n    };\n    var isMergeStyleFormats = function (editor) {\n      return editor.getParam('style_formats_merge', false, 'boolean');\n    };\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n    var isMenubarEnabled = function (editor) {\n      return editor.getParam('menubar', true, 'boolean') !== false;\n    };\n    var isToolbarEnabled = function (editor) {\n      var toolbar = editor.getParam('toolbar', true);\n      var isToolbarTrue = toolbar === true;\n      var isToolbarString = isString(toolbar);\n      var isToolbarObjectArray = isArray(toolbar) && toolbar.length > 0;\n      return !isMultipleToolbars(editor) && (isToolbarObjectArray || isToolbarString || isToolbarTrue);\n    };\n    var getMultipleToolbarsSetting = function (editor) {\n      var keys$1 = keys(editor.settings);\n      var toolbarKeys = filter(keys$1, function (key) {\n        return /^toolbar([1-9])$/.test(key);\n      });\n      var toolbars = map(toolbarKeys, function (key) {\n        return editor.getParam(key, false, 'string');\n      });\n      var toolbarArray = filter(toolbars, function (toolbar) {\n        return typeof toolbar === 'string';\n      });\n      return toolbarArray.length > 0 ? Option.some(toolbarArray) : Option.none();\n    };\n    var isMultipleToolbars = function (editor) {\n      return getMultipleToolbarsSetting(editor).fold(function () {\n        var toolbar = editor.getParam('toolbar', [], 'string[]');\n        return toolbar.length > 0;\n      }, function () {\n        return true;\n      });\n    };\n    var ToolbarDrawer;\n    (function (ToolbarDrawer) {\n      ToolbarDrawer['default'] = '';\n      ToolbarDrawer['floating'] = 'floating';\n      ToolbarDrawer['sliding'] = 'sliding';\n    }(ToolbarDrawer || (ToolbarDrawer = {})));\n    var getToolbarDrawer = function (editor) {\n      return editor.getParam('toolbar_drawer', '', 'string');\n    };\n    var fixedContainerSelector = function (editor) {\n      return editor.getParam('fixed_toolbar_container', '', 'string');\n    };\n    var fixedContainerElement = function (editor) {\n      var selector = fixedContainerSelector(editor);\n      return selector.length > 0 && editor.inline ? descendant$1(body(), selector) : Option.none();\n    };\n    var useFixedContainer = function (editor) {\n      return editor.inline && fixedContainerElement(editor).isSome();\n    };\n    var getUiContainer = function (editor) {\n      var fixedContainer = fixedContainerElement(editor);\n      return fixedContainer.getOr(body());\n    };\n    var isDistractionFree = function (editor) {\n      return editor.inline && !isMenubarEnabled(editor) && !isToolbarEnabled(editor) && !isMultipleToolbars(editor);\n    };\n    var isStickyToolbar = function (editor) {\n      var isStickyToolbar = editor.getParam('toolbar_sticky', false, 'boolean');\n      return (isStickyToolbar || editor.inline) && !useFixedContainer(editor) && !isDistractionFree(editor);\n    };\n    var isDraggableModal = function (editor) {\n      return editor.getParam('draggable_modal', false, 'boolean');\n    };\n\n    var formChangeEvent = generate$1('form-component-change');\n    var formCloseEvent = generate$1('form-close');\n    var formCancelEvent = generate$1('form-cancel');\n    var formActionEvent = generate$1('form-action');\n    var formSubmitEvent = generate$1('form-submit');\n    var formBlockEvent = generate$1('form-block');\n    var formUnblockEvent = generate$1('form-unblock');\n    var formTabChangeEvent = generate$1('form-tabchange');\n    var formResizeEvent = generate$1('form-resize');\n\n    var renderAlertBanner = function (spec, providersBackstage) {\n      return Container.sketch({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'alert' },\n          classes: [\n            'tox-notification',\n            'tox-notification--in',\n            'tox-notification--' + spec.level\n          ]\n        },\n        components: [\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__icon']\n            },\n            components: [Button.sketch({\n                dom: {\n                  tag: 'button',\n                  classes: [\n                    'tox-button',\n                    'tox-button--naked',\n                    'tox-button--icon'\n                  ],\n                  innerHtml: get$c(spec.icon, providersBackstage.icons),\n                  attributes: { title: providersBackstage.translate(spec.iconTooltip) }\n                },\n                action: function (comp) {\n                  emitWith(comp, formActionEvent, {\n                    name: 'alert-banner',\n                    value: spec.url\n                  });\n                }\n              })]\n          },\n          {\n            dom: {\n              tag: 'div',\n              classes: ['tox-notification__body'],\n              innerHtml: providersBackstage.translate(spec.text)\n            }\n          }\n        ]\n      });\n    };\n\n    var renderBar = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-bar',\n            'tox-form__controls-h-stack'\n          ]\n        },\n        components: map(spec.items, backstage.interpreter)\n      };\n    };\n\n    var schema$e = constant([\n      defaulted$1('prefix', 'form-field'),\n      field$1('fieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var parts$3 = constant([\n      optional({\n        schema: [strict$1('dom')],\n        name: 'label'\n      }),\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [strict$1('text')],\n        name: 'aria-descriptor'\n      }),\n      required({\n        factory: {\n          sketch: function (spec) {\n            var excludeFactory = exclude$1(spec, ['factory']);\n            return spec.factory.sketch(excludeFactory);\n          }\n        },\n        schema: [strict$1('factory')],\n        name: 'field'\n      })\n    ]);\n\n    var factory$4 = function (detail, components, spec, externals) {\n      var behaviours = augment(detail.fieldBehaviours, [\n        Composing.config({\n          find: function (container) {\n            return getPart(container, detail, 'field');\n          }\n        }),\n        Representing.config({\n          store: {\n            mode: 'manual',\n            getValue: function (field) {\n              return Composing.getCurrent(field).bind(Representing.getValue);\n            },\n            setValue: function (field, value) {\n              Composing.getCurrent(field).each(function (current) {\n                Representing.setValue(current, value);\n              });\n            }\n          }\n        })\n      ]);\n      var events = derive([runOnAttached(function (component, simulatedEvent) {\n          var ps = getParts(component, detail, [\n            'label',\n            'field',\n            'aria-descriptor'\n          ]);\n          ps.field().each(function (field) {\n            var id = generate$1(detail.prefix);\n            ps.label().each(function (label) {\n              set$1(label.element(), 'for', id);\n              set$1(field.element(), 'id', id);\n            });\n            ps['aria-descriptor']().each(function (descriptor) {\n              var descriptorId = generate$1(detail.prefix);\n              set$1(descriptor.element(), 'id', descriptorId);\n              set$1(field.element(), 'aria-describedby', descriptorId);\n            });\n          });\n        })]);\n      var apis = {\n        getField: function (container) {\n          return getPart(container, detail, 'field');\n        },\n        getLabel: function (container) {\n          return getPart(container, detail, 'label');\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: behaviours,\n        events: events,\n        apis: apis\n      };\n    };\n    var FormField = composite$1({\n      name: 'FormField',\n      configFields: schema$e(),\n      partFields: parts$3(),\n      factory: factory$4,\n      apis: {\n        getField: function (apis, comp) {\n          return apis.getField(comp);\n        },\n        getLabel: function (apis, comp) {\n          return apis.getLabel(comp);\n        }\n      }\n    });\n\n    var schema$f = constant([\n      option('data'),\n      defaulted$1('inputAttributes', {}),\n      defaulted$1('inputStyles', {}),\n      defaulted$1('tag', 'input'),\n      defaulted$1('inputClasses', []),\n      onHandler('onSetValue'),\n      defaulted$1('styles', {}),\n      defaulted$1('eventOrder', {}),\n      field$1('inputBehaviours', [\n        Representing,\n        Focusing\n      ]),\n      defaulted$1('selectOnFocus', true)\n    ]);\n    var focusBehaviours = function (detail) {\n      return derive$1([Focusing.config({\n          onFocus: detail.selectOnFocus === false ? noop : function (component) {\n            var input = component.element();\n            var value = get$5(input);\n            input.dom().setSelectionRange(0, value.length);\n          }\n        })]);\n    };\n    var behaviours = function (detail) {\n      return __assign(__assign({}, focusBehaviours(detail)), augment(detail.inputBehaviours, [Representing.config({\n          store: {\n            mode: 'manual',\n            initialValue: detail.data.getOr(undefined),\n            getValue: function (input) {\n              return get$5(input.element());\n            },\n            setValue: function (input, data) {\n              var current = get$5(input.element());\n              if (current !== data) {\n                set$3(input.element(), data);\n              }\n            }\n          },\n          onSetValue: detail.onSetValue\n        })]));\n    };\n    var dom$2 = function (detail) {\n      return {\n        tag: detail.tag,\n        attributes: __assign({ type: 'text' }, detail.inputAttributes),\n        styles: detail.inputStyles,\n        classes: detail.inputClasses\n      };\n    };\n\n    var factory$5 = function (detail, spec) {\n      return {\n        uid: detail.uid,\n        dom: dom$2(detail),\n        components: [],\n        behaviours: behaviours(detail),\n        eventOrder: detail.eventOrder\n      };\n    };\n    var Input = single$2({\n      name: 'Input',\n      configFields: schema$f(),\n      factory: factory$5\n    });\n\n    var exports$1 = {}, module = { exports: exports$1 };\n    (function (define, exports, module, require) {\n      (function (f) {\n        if (typeof exports === 'object' && typeof module !== 'undefined') {\n          module.exports = f();\n        } else if (typeof define === 'function' && define.amd) {\n          define([], f);\n        } else {\n          var g;\n          if (typeof window !== 'undefined') {\n            g = window;\n          } else if (typeof global !== 'undefined') {\n            g = global;\n          } else if (typeof self !== 'undefined') {\n            g = self;\n          } else {\n            g = this;\n          }\n          g.EphoxContactWrapper = f();\n        }\n      }(function () {\n        return function () {\n          function r(e, n, t) {\n            function o(i, f) {\n              if (!n[i]) {\n                if (!e[i]) {\n                  var c = 'function' == typeof require && require;\n                  if (!f && c)\n                    return c(i, !0);\n                  if (u)\n                    return u(i, !0);\n                  var a = new Error('Cannot find module \\'' + i + '\\'');\n                  throw a.code = 'MODULE_NOT_FOUND', a;\n                }\n                var p = n[i] = { exports: {} };\n                e[i][0].call(p.exports, function (r) {\n                  var n = e[i][1][r];\n                  return o(n || r);\n                }, p, p.exports, r, e, n, t);\n              }\n              return n[i].exports;\n            }\n            for (var u = 'function' == typeof require && require, i = 0; i < t.length; i++)\n              o(t[i]);\n            return o;\n          }\n          return r;\n        }()({\n          1: [\n            function (require, module, exports) {\n              var process = module.exports = {};\n              var cachedSetTimeout;\n              var cachedClearTimeout;\n              function defaultSetTimout() {\n                throw new Error('setTimeout has not been defined');\n              }\n              function defaultClearTimeout() {\n                throw new Error('clearTimeout has not been defined');\n              }\n              (function () {\n                try {\n                  if (typeof setTimeout === 'function') {\n                    cachedSetTimeout = setTimeout;\n                  } else {\n                    cachedSetTimeout = defaultSetTimout;\n                  }\n                } catch (e) {\n                  cachedSetTimeout = defaultSetTimout;\n                }\n                try {\n                  if (typeof clearTimeout === 'function') {\n                    cachedClearTimeout = clearTimeout;\n                  } else {\n                    cachedClearTimeout = defaultClearTimeout;\n                  }\n                } catch (e) {\n                  cachedClearTimeout = defaultClearTimeout;\n                }\n              }());\n              function runTimeout(fun) {\n                if (cachedSetTimeout === setTimeout) {\n                  return setTimeout(fun, 0);\n                }\n                if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n                  cachedSetTimeout = setTimeout;\n                  return setTimeout(fun, 0);\n                }\n                try {\n                  return cachedSetTimeout(fun, 0);\n                } catch (e) {\n                  try {\n                    return cachedSetTimeout.call(null, fun, 0);\n                  } catch (e) {\n                    return cachedSetTimeout.call(this, fun, 0);\n                  }\n                }\n              }\n              function runClearTimeout(marker) {\n                if (cachedClearTimeout === clearTimeout) {\n                  return clearTimeout(marker);\n                }\n                if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n                  cachedClearTimeout = clearTimeout;\n                  return clearTimeout(marker);\n                }\n                try {\n                  return cachedClearTimeout(marker);\n                } catch (e) {\n                  try {\n                    return cachedClearTimeout.call(null, marker);\n                  } catch (e) {\n                    return cachedClearTimeout.call(this, marker);\n                  }\n                }\n              }\n              var queue = [];\n              var draining = false;\n              var currentQueue;\n              var queueIndex = -1;\n              function cleanUpNextTick() {\n                if (!draining || !currentQueue) {\n                  return;\n                }\n                draining = false;\n                if (currentQueue.length) {\n                  queue = currentQueue.concat(queue);\n                } else {\n                  queueIndex = -1;\n                }\n                if (queue.length) {\n                  drainQueue();\n                }\n              }\n              function drainQueue() {\n                if (draining) {\n                  return;\n                }\n                var timeout = runTimeout(cleanUpNextTick);\n                draining = true;\n                var len = queue.length;\n                while (len) {\n                  currentQueue = queue;\n                  queue = [];\n                  while (++queueIndex < len) {\n                    if (currentQueue) {\n                      currentQueue[queueIndex].run();\n                    }\n                  }\n                  queueIndex = -1;\n                  len = queue.length;\n                }\n                currentQueue = null;\n                draining = false;\n                runClearTimeout(timeout);\n              }\n              process.nextTick = function (fun) {\n                var args = new Array(arguments.length - 1);\n                if (arguments.length > 1) {\n                  for (var i = 1; i < arguments.length; i++) {\n                    args[i - 1] = arguments[i];\n                  }\n                }\n                queue.push(new Item(fun, args));\n                if (queue.length === 1 && !draining) {\n                  runTimeout(drainQueue);\n                }\n              };\n              function Item(fun, array) {\n                this.fun = fun;\n                this.array = array;\n              }\n              Item.prototype.run = function () {\n                this.fun.apply(null, this.array);\n              };\n              process.title = 'browser';\n              process.browser = true;\n              process.env = {};\n              process.argv = [];\n              process.version = '';\n              process.versions = {};\n              function noop() {\n              }\n              process.on = noop;\n              process.addListener = noop;\n              process.once = noop;\n              process.off = noop;\n              process.removeListener = noop;\n              process.removeAllListeners = noop;\n              process.emit = noop;\n              process.prependListener = noop;\n              process.prependOnceListener = noop;\n              process.listeners = function (name) {\n                return [];\n              };\n              process.binding = function (name) {\n                throw new Error('process.binding is not supported');\n              };\n              process.cwd = function () {\n                return '/';\n              };\n              process.chdir = function (dir) {\n                throw new Error('process.chdir is not supported');\n              };\n              process.umask = function () {\n                return 0;\n              };\n            },\n            {}\n          ],\n          2: [\n            function (require, module, exports) {\n              (function (setImmediate) {\n                (function (root) {\n                  var setTimeoutFunc = setTimeout;\n                  function noop() {\n                  }\n                  function bind(fn, thisArg) {\n                    return function () {\n                      fn.apply(thisArg, arguments);\n                    };\n                  }\n                  function Promise(fn) {\n                    if (typeof this !== 'object')\n                      throw new TypeError('Promises must be constructed via new');\n                    if (typeof fn !== 'function')\n                      throw new TypeError('not a function');\n                    this._state = 0;\n                    this._handled = false;\n                    this._value = undefined;\n                    this._deferreds = [];\n                    doResolve(fn, this);\n                  }\n                  function handle(self, deferred) {\n                    while (self._state === 3) {\n                      self = self._value;\n                    }\n                    if (self._state === 0) {\n                      self._deferreds.push(deferred);\n                      return;\n                    }\n                    self._handled = true;\n                    Promise._immediateFn(function () {\n                      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n                      if (cb === null) {\n                        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n                        return;\n                      }\n                      var ret;\n                      try {\n                        ret = cb(self._value);\n                      } catch (e) {\n                        reject(deferred.promise, e);\n                        return;\n                      }\n                      resolve(deferred.promise, ret);\n                    });\n                  }\n                  function resolve(self, newValue) {\n                    try {\n                      if (newValue === self)\n                        throw new TypeError('A promise cannot be resolved with itself.');\n                      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n                        var then = newValue.then;\n                        if (newValue instanceof Promise) {\n                          self._state = 3;\n                          self._value = newValue;\n                          finale(self);\n                          return;\n                        } else if (typeof then === 'function') {\n                          doResolve(bind(then, newValue), self);\n                          return;\n                        }\n                      }\n                      self._state = 1;\n                      self._value = newValue;\n                      finale(self);\n                    } catch (e) {\n                      reject(self, e);\n                    }\n                  }\n                  function reject(self, newValue) {\n                    self._state = 2;\n                    self._value = newValue;\n                    finale(self);\n                  }\n                  function finale(self) {\n                    if (self._state === 2 && self._deferreds.length === 0) {\n                      Promise._immediateFn(function () {\n                        if (!self._handled) {\n                          Promise._unhandledRejectionFn(self._value);\n                        }\n                      });\n                    }\n                    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n                      handle(self, self._deferreds[i]);\n                    }\n                    self._deferreds = null;\n                  }\n                  function Handler(onFulfilled, onRejected, promise) {\n                    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n                    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n                    this.promise = promise;\n                  }\n                  function doResolve(fn, self) {\n                    var done = false;\n                    try {\n                      fn(function (value) {\n                        if (done)\n                          return;\n                        done = true;\n                        resolve(self, value);\n                      }, function (reason) {\n                        if (done)\n                          return;\n                        done = true;\n                        reject(self, reason);\n                      });\n                    } catch (ex) {\n                      if (done)\n                        return;\n                      done = true;\n                      reject(self, ex);\n                    }\n                  }\n                  Promise.prototype['catch'] = function (onRejected) {\n                    return this.then(null, onRejected);\n                  };\n                  Promise.prototype.then = function (onFulfilled, onRejected) {\n                    var prom = new this.constructor(noop);\n                    handle(this, new Handler(onFulfilled, onRejected, prom));\n                    return prom;\n                  };\n                  Promise.all = function (arr) {\n                    var args = Array.prototype.slice.call(arr);\n                    return new Promise(function (resolve, reject) {\n                      if (args.length === 0)\n                        return resolve([]);\n                      var remaining = args.length;\n                      function res(i, val) {\n                        try {\n                          if (val && (typeof val === 'object' || typeof val === 'function')) {\n                            var then = val.then;\n                            if (typeof then === 'function') {\n                              then.call(val, function (val) {\n                                res(i, val);\n                              }, reject);\n                              return;\n                            }\n                          }\n                          args[i] = val;\n                          if (--remaining === 0) {\n                            resolve(args);\n                          }\n                        } catch (ex) {\n                          reject(ex);\n                        }\n                      }\n                      for (var i = 0; i < args.length; i++) {\n                        res(i, args[i]);\n                      }\n                    });\n                  };\n                  Promise.resolve = function (value) {\n                    if (value && typeof value === 'object' && value.constructor === Promise) {\n                      return value;\n                    }\n                    return new Promise(function (resolve) {\n                      resolve(value);\n                    });\n                  };\n                  Promise.reject = function (value) {\n                    return new Promise(function (resolve, reject) {\n                      reject(value);\n                    });\n                  };\n                  Promise.race = function (values) {\n                    return new Promise(function (resolve, reject) {\n                      for (var i = 0, len = values.length; i < len; i++) {\n                        values[i].then(resolve, reject);\n                      }\n                    });\n                  };\n                  Promise._immediateFn = typeof setImmediate === 'function' ? function (fn) {\n                    setImmediate(fn);\n                  } : function (fn) {\n                    setTimeoutFunc(fn, 0);\n                  };\n                  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n                    if (typeof console !== 'undefined' && console) {\n                      console.warn('Possible Unhandled Promise Rejection:', err);\n                    }\n                  };\n                  Promise._setImmediateFn = function _setImmediateFn(fn) {\n                    Promise._immediateFn = fn;\n                  };\n                  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n                    Promise._unhandledRejectionFn = fn;\n                  };\n                  if (typeof module !== 'undefined' && module.exports) {\n                    module.exports = Promise;\n                  } else if (!root.Promise) {\n                    root.Promise = Promise;\n                  }\n                }(this));\n              }.call(this, require('timers').setImmediate));\n            },\n            { 'timers': 3 }\n          ],\n          3: [\n            function (require, module, exports) {\n              (function (setImmediate, clearImmediate) {\n                var nextTick = require('process/browser.js').nextTick;\n                var apply = Function.prototype.apply;\n                var slice = Array.prototype.slice;\n                var immediateIds = {};\n                var nextImmediateId = 0;\n                exports.setTimeout = function () {\n                  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n                };\n                exports.setInterval = function () {\n                  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n                };\n                exports.clearTimeout = exports.clearInterval = function (timeout) {\n                  timeout.close();\n                };\n                function Timeout(id, clearFn) {\n                  this._id = id;\n                  this._clearFn = clearFn;\n                }\n                Timeout.prototype.unref = Timeout.prototype.ref = function () {\n                };\n                Timeout.prototype.close = function () {\n                  this._clearFn.call(window, this._id);\n                };\n                exports.enroll = function (item, msecs) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = msecs;\n                };\n                exports.unenroll = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  item._idleTimeout = -1;\n                };\n                exports._unrefActive = exports.active = function (item) {\n                  clearTimeout(item._idleTimeoutId);\n                  var msecs = item._idleTimeout;\n                  if (msecs >= 0) {\n                    item._idleTimeoutId = setTimeout(function onTimeout() {\n                      if (item._onTimeout)\n                        item._onTimeout();\n                    }, msecs);\n                  }\n                };\n                exports.setImmediate = typeof setImmediate === 'function' ? setImmediate : function (fn) {\n                  var id = nextImmediateId++;\n                  var args = arguments.length < 2 ? false : slice.call(arguments, 1);\n                  immediateIds[id] = true;\n                  nextTick(function onNextTick() {\n                    if (immediateIds[id]) {\n                      if (args) {\n                        fn.apply(null, args);\n                      } else {\n                        fn.call(null);\n                      }\n                      exports.clearImmediate(id);\n                    }\n                  });\n                  return id;\n                };\n                exports.clearImmediate = typeof clearImmediate === 'function' ? clearImmediate : function (id) {\n                  delete immediateIds[id];\n                };\n              }.call(this, require('timers').setImmediate, require('timers').clearImmediate));\n            },\n            {\n              'process/browser.js': 1,\n              'timers': 3\n            }\n          ],\n          4: [\n            function (require, module, exports) {\n              var promisePolyfill = require('promise-polyfill');\n              var Global = function () {\n                if (typeof window !== 'undefined') {\n                  return window;\n                } else {\n                  return Function('return this;')();\n                }\n              }();\n              module.exports = { boltExport: Global.Promise || promisePolyfill };\n            },\n            { 'promise-polyfill': 2 }\n          ]\n        }, {}, [4])(4);\n      }));\n    }(undefined, exports$1, module, undefined));\n    var Promise = module.exports.boltExport;\n\n    var nu$a = function (baseFn) {\n      var data = Option.none();\n      var callbacks = [];\n      var map = function (f) {\n        return nu$a(function (nCallback) {\n          get(function (data) {\n            nCallback(f(data));\n          });\n        });\n      };\n      var get = function (nCallback) {\n        if (isReady()) {\n          call(nCallback);\n        } else {\n          callbacks.push(nCallback);\n        }\n      };\n      var set = function (x) {\n        data = Option.some(x);\n        run(callbacks);\n        callbacks = [];\n      };\n      var isReady = function () {\n        return data.isSome();\n      };\n      var run = function (cbs) {\n        each(cbs, call);\n      };\n      var call = function (cb) {\n        data.each(function (x) {\n          domGlobals.setTimeout(function () {\n            cb(x);\n          }, 0);\n        });\n      };\n      baseFn(set);\n      return {\n        get: get,\n        map: map,\n        isReady: isReady\n      };\n    };\n    var pure$1 = function (a) {\n      return nu$a(function (callback) {\n        callback(a);\n      });\n    };\n    var LazyValue = {\n      nu: nu$a,\n      pure: pure$1\n    };\n\n    var errorReporter = function (err) {\n      domGlobals.setTimeout(function () {\n        throw err;\n      }, 0);\n    };\n    var make$3 = function (run) {\n      var get = function (callback) {\n        run().then(callback, errorReporter);\n      };\n      var map = function (fab) {\n        return make$3(function () {\n          return run().then(fab);\n        });\n      };\n      var bind = function (aFutureB) {\n        return make$3(function () {\n          return run().then(function (v) {\n            return aFutureB(v).toPromise();\n          });\n        });\n      };\n      var anonBind = function (futureB) {\n        return make$3(function () {\n          return run().then(function () {\n            return futureB.toPromise();\n          });\n        });\n      };\n      var toLazy = function () {\n        return LazyValue.nu(get);\n      };\n      var toCached = function () {\n        var cache = null;\n        return make$3(function () {\n          if (cache === null) {\n            cache = run();\n          }\n          return cache;\n        });\n      };\n      var toPromise = run;\n      return {\n        map: map,\n        bind: bind,\n        anonBind: anonBind,\n        toLazy: toLazy,\n        toCached: toCached,\n        toPromise: toPromise,\n        get: get\n      };\n    };\n    var nu$b = function (baseFn) {\n      return make$3(function () {\n        return new Promise(baseFn);\n      });\n    };\n    var pure$2 = function (a) {\n      return make$3(function () {\n        return Promise.resolve(a);\n      });\n    };\n    var Future = {\n      nu: nu$b,\n      pure: pure$2\n    };\n\n    var ariaElements = [\n      'input',\n      'textarea'\n    ];\n    var isAriaElement = function (elem) {\n      var name$1 = name(elem);\n      return contains(ariaElements, name$1);\n    };\n    var markValid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element());\n      remove$4(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element())) {\n          set$1(component.element(), 'aria-invalid', false);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set(container, notifyInfo.validHtml);\n        });\n        notifyInfo.onValid(component);\n      });\n    };\n    var markInvalid = function (component, invalidConfig, invalidState, text) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element());\n      add$2(elem, invalidConfig.invalidClass);\n      invalidConfig.notify.each(function (notifyInfo) {\n        if (isAriaElement(component.element())) {\n          set$1(component.element(), 'aria-invalid', true);\n        }\n        notifyInfo.getContainer(component).each(function (container) {\n          set(container, text);\n        });\n        notifyInfo.onInvalid(component, text);\n      });\n    };\n    var query = function (component, invalidConfig, invalidState) {\n      return invalidConfig.validator.fold(function () {\n        return Future.pure(Result.value(true));\n      }, function (validatorInfo) {\n        return validatorInfo.validate(component);\n      });\n    };\n    var run$1 = function (component, invalidConfig, invalidState) {\n      invalidConfig.notify.each(function (notifyInfo) {\n        notifyInfo.onValidate(component);\n      });\n      return query(component, invalidConfig).map(function (valid) {\n        if (component.getSystem().isConnected()) {\n          return valid.fold(function (err) {\n            markInvalid(component, invalidConfig, invalidState, err);\n            return Result.error(err);\n          }, function (v) {\n            markValid(component, invalidConfig);\n            return Result.value(v);\n          });\n        } else {\n          return Result.error('No longer in system');\n        }\n      });\n    };\n    var isInvalid = function (component, invalidConfig) {\n      var elem = invalidConfig.getRoot(component).getOr(component.element());\n      return has$2(elem, invalidConfig.invalidClass);\n    };\n\n    var InvalidateApis = /*#__PURE__*/Object.freeze({\n        markValid: markValid,\n        markInvalid: markInvalid,\n        query: query,\n        run: run$1,\n        isInvalid: isInvalid\n    });\n\n    var events$a = function (invalidConfig, invalidState) {\n      return invalidConfig.validator.map(function (validatorInfo) {\n        return derive([run(validatorInfo.onEvent, function (component) {\n            run$1(component, invalidConfig, invalidState).get(identity);\n          })].concat(validatorInfo.validateOnLoad ? [runOnAttached(function (component) {\n            run$1(component, invalidConfig, invalidState).get(noop);\n          })] : []));\n      }).getOr({});\n    };\n\n    var ActiveInvalidate = /*#__PURE__*/Object.freeze({\n        events: events$a\n    });\n\n    var InvalidateSchema = [\n      strict$1('invalidClass'),\n      defaulted$1('getRoot', Option.none),\n      optionObjOf('notify', [\n        defaulted$1('aria', 'alert'),\n        defaulted$1('getContainer', Option.none),\n        defaulted$1('validHtml', ''),\n        onHandler('onValid'),\n        onHandler('onInvalid'),\n        onHandler('onValidate')\n      ]),\n      optionObjOf('validator', [\n        strict$1('validate'),\n        defaulted$1('onEvent', 'input'),\n        defaulted$1('validateOnLoad', true)\n      ])\n    ];\n\n    var Invalidating = create$1({\n      fields: InvalidateSchema,\n      name: 'invalidating',\n      active: ActiveInvalidate,\n      apis: InvalidateApis,\n      extra: {\n        validation: function (validator) {\n          return function (component) {\n            var v = Representing.getValue(component);\n            return Future.pure(validator(v));\n          };\n        }\n      }\n    });\n\n    var exhibit$4 = function (base, tabConfig) {\n      return nu$6({\n        attributes: wrapAll$1([{\n            key: tabConfig.tabAttr,\n            value: 'true'\n          }])\n      });\n    };\n\n    var ActiveTabstopping = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit$4\n    });\n\n    var TabstopSchema = [defaulted$1('tabAttr', 'data-alloy-tabstop')];\n\n    var Tabstopping = create$1({\n      fields: TabstopSchema,\n      name: 'tabstopping',\n      active: ActiveTabstopping\n    });\n\n    var renderFormFieldWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      var spec = renderFormFieldSpecWith(pLabel, pField, extraClasses, extraBehaviours);\n      return FormField.sketch(spec);\n    };\n    var renderFormField = function (pLabel, pField) {\n      return renderFormFieldWith(pLabel, pField, [], []);\n    };\n    var renderFormFieldSpecWith = function (pLabel, pField, extraClasses, extraBehaviours) {\n      return {\n        dom: renderFormFieldDomWith(extraClasses),\n        components: pLabel.toArray().concat([pField]),\n        fieldBehaviours: derive$1(extraBehaviours)\n      };\n    };\n    var renderFormFieldDom = function () {\n      return renderFormFieldDomWith([]);\n    };\n    var renderFormFieldDomWith = function (extraClasses) {\n      return {\n        tag: 'div',\n        classes: ['tox-form__group'].concat(extraClasses)\n      };\n    };\n    var renderLabel = function (label, providersBackstage) {\n      return FormField.parts().label({\n        dom: {\n          tag: 'label',\n          classes: ['tox-label'],\n          innerHtml: providersBackstage.translate(label)\n        }\n      });\n    };\n\n    var getCoupled = function (component, coupleConfig, coupleState, name) {\n      return coupleState.getOrCreate(component, coupleConfig, name);\n    };\n\n    var CouplingApis = /*#__PURE__*/Object.freeze({\n        getCoupled: getCoupled\n    });\n\n    var CouplingSchema = [strictOf('others', setOf$1(Result.value, anyValue$1()))];\n\n    var init$5 = function (spec) {\n      var coupled = {};\n      var getOrCreate = function (component, coupleConfig, name) {\n        var available = keys(coupleConfig.others);\n        if (!available) {\n          throw new Error('Cannot find coupled component: ' + name + '. Known coupled components: ' + JSON.stringify(available, null, 2));\n        } else {\n          return readOptFrom$1(coupled, name).getOrThunk(function () {\n            var builder = readOptFrom$1(coupleConfig.others, name).getOrDie('No information found for coupled component: ' + name);\n            var spec = builder(component);\n            var built = component.getSystem().build(spec);\n            coupled[name] = built;\n            return built;\n          });\n        }\n      };\n      var readState = constant({});\n      return nu$5({\n        readState: readState,\n        getOrCreate: getOrCreate\n      });\n    };\n\n    var CouplingState = /*#__PURE__*/Object.freeze({\n        init: init$5\n    });\n\n    var Coupling = create$1({\n      fields: CouplingSchema,\n      name: 'coupling',\n      apis: CouplingApis,\n      state: CouplingState\n    });\n\n    var suffix = constant('sink');\n    var partType = constant(optional({\n      name: suffix(),\n      overrides: constant({\n        dom: { tag: 'div' },\n        behaviours: derive$1([Positioning.config({ useFixed: always })]),\n        events: derive([\n          cutter(keydown()),\n          cutter(mousedown()),\n          cutter(click())\n        ])\n      })\n    }));\n\n    var HighlightOnOpen;\n    (function (HighlightOnOpen) {\n      HighlightOnOpen[HighlightOnOpen['HighlightFirst'] = 0] = 'HighlightFirst';\n      HighlightOnOpen[HighlightOnOpen['HighlightNone'] = 1] = 'HighlightNone';\n    }(HighlightOnOpen || (HighlightOnOpen = {})));\n    var getAnchor = function (detail, component) {\n      var hotspot = detail.getHotspot(component).getOr(component);\n      var anchor = 'hotspot';\n      var overrides = detail.getAnchorOverrides();\n      return detail.layouts.fold(function () {\n        return {\n          anchor: anchor,\n          hotspot: hotspot,\n          overrides: overrides\n        };\n      }, function (layouts) {\n        return {\n          anchor: anchor,\n          hotspot: hotspot,\n          overrides: overrides,\n          layouts: layouts\n        };\n      });\n    };\n    var fetch = function (detail, mapFetch, component) {\n      var fetcher = detail.fetch;\n      return fetcher(component).map(mapFetch);\n    };\n    var openF = function (detail, mapFetch, anchor, component, sandbox, externals, highlightOnOpen) {\n      var futureData = fetch(detail, mapFetch, component);\n      var getLazySink = getSink(component, detail);\n      return futureData.map(function (tdata) {\n        return tdata.bind(function (data) {\n          return Option.from(tieredMenu.sketch(__assign(__assign({}, externals.menu()), {\n            uid: generate$2(''),\n            data: data,\n            highlightImmediately: highlightOnOpen === HighlightOnOpen.HighlightFirst,\n            onOpenMenu: function (tmenu, menu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, anchor, menu);\n              Sandboxing.decloak(sandbox);\n            },\n            onOpenSubmenu: function (tmenu, item, submenu) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, {\n                anchor: 'submenu',\n                item: item\n              }, submenu);\n              Sandboxing.decloak(sandbox);\n            },\n            onRepositionMenu: function (tmenu, primaryMenu, submenuTriggers) {\n              var sink = getLazySink().getOrDie();\n              Positioning.position(sink, anchor, primaryMenu);\n              each(submenuTriggers, function (st) {\n                Positioning.position(sink, {\n                  anchor: 'submenu',\n                  item: st.triggeringItem\n                }, st.triggeredMenu);\n              });\n            },\n            onEscape: function () {\n              Focusing.focus(component);\n              Sandboxing.close(sandbox);\n              return Option.some(true);\n            }\n          })));\n        });\n      });\n    };\n    var open$1 = function (detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen) {\n      var anchor = getAnchor(detail, hotspot);\n      var processed = openF(detail, mapFetch, anchor, hotspot, sandbox, externals, highlightOnOpen);\n      return processed.map(function (tdata) {\n        tdata.fold(function () {\n          if (Sandboxing.isOpen(sandbox)) {\n            Sandboxing.close(sandbox);\n          }\n        }, function (data) {\n          Sandboxing.cloak(sandbox);\n          Sandboxing.open(sandbox, data);\n          onOpenSync(sandbox);\n        });\n        return sandbox;\n      });\n    };\n    var close$1 = function (detail, mapFetch, component, sandbox, _externals, _onOpenSync, _highlightOnOpen) {\n      Sandboxing.close(sandbox);\n      return Future.pure(sandbox);\n    };\n    var togglePopup = function (detail, mapFetch, hotspot, externals, onOpenSync, highlightOnOpen) {\n      var sandbox = Coupling.getCoupled(hotspot, 'sandbox');\n      var showing = Sandboxing.isOpen(sandbox);\n      var action = showing ? close$1 : open$1;\n      return action(detail, mapFetch, hotspot, sandbox, externals, onOpenSync, highlightOnOpen);\n    };\n    var matchWidth = function (hotspot, container, useMinWidth) {\n      var menu = Composing.getCurrent(container).getOr(container);\n      var buttonWidth = get$7(hotspot.element());\n      if (useMinWidth) {\n        set$2(menu.element(), 'min-width', buttonWidth + 'px');\n      } else {\n        set$4(menu.element(), buttonWidth);\n      }\n    };\n    var getSink = function (anyInSystem, sinkDetail) {\n      return anyInSystem.getSystem().getByUid(sinkDetail.uid + '-' + suffix()).map(function (internalSink) {\n        return function () {\n          return Result.value(internalSink);\n        };\n      }).getOrThunk(function () {\n        return sinkDetail.lazySink.fold(function () {\n          return function () {\n            return Result.error(new Error('No internal sink is specified, nor could an external sink be found'));\n          };\n        }, function (lazySinkFn) {\n          return function () {\n            return lazySinkFn(anyInSystem);\n          };\n        });\n      });\n    };\n    var doRepositionMenus = function (sandbox) {\n      Sandboxing.getState(sandbox).each(function (tmenu) {\n        tieredMenu.repositionMenus(tmenu);\n      });\n    };\n    var makeSandbox = function (detail, hotspot, extras) {\n      var ariaOwner = manager();\n      var onOpen = function (component, menu) {\n        var anchor = getAnchor(detail, hotspot);\n        ariaOwner.link(hotspot.element());\n        if (detail.matchWidth) {\n          matchWidth(anchor.hotspot, menu, detail.useMinWidth);\n        }\n        detail.onOpen(anchor, component, menu);\n        if (extras !== undefined && extras.onOpen !== undefined) {\n          extras.onOpen(component, menu);\n        }\n      };\n      var onClose = function (component, menu) {\n        ariaOwner.unlink(hotspot.element());\n        if (extras !== undefined && extras.onClose !== undefined) {\n          extras.onClose(component, menu);\n        }\n      };\n      var lazySink = getSink(hotspot, detail);\n      return {\n        dom: {\n          tag: 'div',\n          classes: detail.sandboxClasses,\n          attributes: {\n            id: ariaOwner.id(),\n            role: 'listbox'\n          }\n        },\n        behaviours: SketchBehaviours.augment(detail.sandboxBehaviours, [\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: hotspot\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf(data, queryElem) || isPartOf(hotspot, queryElem);\n            },\n            getAttachPoint: function () {\n              return lazySink().getOrDie();\n            }\n          }),\n          Composing.config({\n            find: function (sandbox) {\n              return Sandboxing.getState(sandbox).bind(function (menu) {\n                return Composing.getCurrent(menu);\n              });\n            }\n          }),\n          Receiving.config({\n            channels: __assign(__assign({}, receivingChannel({ isExtraPart: constant(false) })), receivingChannel$1({\n              isExtraPart: constant(false),\n              doReposition: doRepositionMenus\n            }))\n          })\n        ])\n      };\n    };\n    var repositionMenus = function (comp) {\n      var sandbox = Coupling.getCoupled(comp, 'sandbox');\n      doRepositionMenus(sandbox);\n    };\n\n    var sandboxFields = function () {\n      return [\n        defaulted$1('sandboxClasses', []),\n        SketchBehaviours.field('sandboxBehaviours', [\n          Composing,\n          Receiving,\n          Sandboxing,\n          Representing\n        ])\n      ];\n    };\n\n    var schema$g = constant([\n      strict$1('dom'),\n      strict$1('fetch'),\n      onHandler('onOpen'),\n      onKeyboardHandler('onExecute'),\n      defaulted$1('getHotspot', Option.some),\n      defaulted$1('getAnchorOverrides', constant({})),\n      defaulted$1('layouts', Option.none()),\n      field$1('dropdownBehaviours', [\n        Toggling,\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      strict$1('toggleClass'),\n      defaulted$1('eventOrder', {}),\n      option('lazySink'),\n      defaulted$1('matchWidth', false),\n      defaulted$1('useMinWidth', false),\n      option('role')\n    ].concat(sandboxFields()));\n    var parts$4 = constant([\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return { onExecute: detail.onExecute };\n        }\n      }),\n      partType()\n    ]);\n\n    var factory$6 = function (detail, components, _spec, externals) {\n      var _a;\n      var lookupAttr = function (attr) {\n        return readOptFrom$1(detail.dom, 'attributes').bind(function (attrs) {\n          return readOptFrom$1(attrs, attr);\n        });\n      };\n      var switchToMenu = function (sandbox) {\n        Sandboxing.getState(sandbox).each(function (tmenu) {\n          tieredMenu.highlightPrimary(tmenu);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, function (x) {\n          return x;\n        }, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var apis = {\n        expand: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, function (x) {\n              return x;\n            }, comp, externals, noop, HighlightOnOpen.HighlightNone).get(noop);\n          }\n        },\n        open: function (comp) {\n          if (!Toggling.isOn(comp)) {\n            togglePopup(detail, function (x) {\n              return x;\n            }, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        isOpen: Toggling.isOn,\n        close: function (comp) {\n          if (Toggling.isOn(comp)) {\n            togglePopup(detail, function (x) {\n              return x;\n            }, comp, externals, noop, HighlightOnOpen.HighlightFirst).get(noop);\n          }\n        },\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      var triggerExecute = function (comp, se) {\n        emitExecute(comp);\n        return Option.some(true);\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.dropdownBehaviours, [\n          Toggling.config({\n            toggleClass: detail.toggleClass,\n            aria: { mode: 'expanded' }\n          }),\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                return makeSandbox(detail, hotspot, {\n                  onOpen: function () {\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(hotspot);\n                  }\n                });\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: triggerExecute,\n            onEnter: triggerExecute,\n            onDown: function (comp, se) {\n              if (Dropdown.isOpen(comp)) {\n                var sandbox = Coupling.getCoupled(comp, 'sandbox');\n                switchToMenu(sandbox);\n              } else {\n                Dropdown.open(comp);\n              }\n              return Option.some(true);\n            },\n            onEscape: function (comp, se) {\n              if (Dropdown.isOpen(comp)) {\n                Dropdown.close(comp);\n                return Option.some(true);\n              } else {\n                return Option.none();\n              }\n            }\n          }),\n          Focusing.config({})\n        ]),\n        events: events$7(Option.some(action)),\n        eventOrder: __assign(__assign({}, detail.eventOrder), (_a = {}, _a[execute()] = [\n          'disabling',\n          'toggling',\n          'alloy.base.behaviour'\n        ], _a)),\n        apis: apis,\n        domModification: {\n          attributes: __assign(__assign({ 'aria-haspopup': 'true' }, detail.role.fold(function () {\n            return {};\n          }, function (role) {\n            return { role: role };\n          })), detail.dom.tag === 'button' ? { type: lookupAttr('type').getOr('button') } : {})\n        }\n      };\n    };\n    var Dropdown = composite$1({\n      name: 'Dropdown',\n      configFields: schema$g(),\n      partFields: parts$4(),\n      factory: factory$6,\n      apis: {\n        open: function (apis, comp) {\n          return apis.open(comp);\n        },\n        expand: function (apis, comp) {\n          return apis.expand(comp);\n        },\n        close: function (apis, comp) {\n          return apis.close(comp);\n        },\n        isOpen: function (apis, comp) {\n          return apis.isOpen(comp);\n        },\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var exhibit$5 = function (base, unselectConfig) {\n      return nu$6({\n        styles: {\n          '-webkit-user-select': 'none',\n          'user-select': 'none',\n          '-ms-user-select': 'none',\n          '-moz-user-select': '-moz-none'\n        },\n        attributes: { unselectable: 'on' }\n      });\n    };\n    var events$b = function (unselectConfig) {\n      return derive([abort(selectstart(), constant(true))]);\n    };\n\n    var ActiveUnselecting = /*#__PURE__*/Object.freeze({\n        events: events$b,\n        exhibit: exhibit$5\n    });\n\n    var Unselecting = create$1({\n      fields: [],\n      name: 'unselecting',\n      active: ActiveUnselecting\n    });\n\n    var renderPanelButton = function (spec, sharedBackstage) {\n      return Dropdown.sketch({\n        dom: spec.dom,\n        components: spec.components,\n        toggleClass: 'mce-active',\n        dropdownBehaviours: derive$1([\n          Unselecting.config({}),\n          Tabstopping.config({})\n        ]),\n        layouts: spec.layouts,\n        sandboxClasses: ['tox-dialog__popups'],\n        lazySink: sharedBackstage.getSink,\n        fetch: function (comp) {\n          return Future.nu(function (callback) {\n            return spec.fetch(callback);\n          }).map(function (items) {\n            return Option.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n              spec.onItemAction(comp, value);\n            }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, function () {\n              return false;\n            }, sharedBackstage.providers), { movement: deriveMenuMovement(spec.columns, spec.presets) })));\n          });\n        },\n        parts: { menu: part(false, 1, spec.presets) }\n      });\n    };\n\n    var colorInputChangeEvent = generate$1('color-input-change');\n    var colorSwatchChangeEvent = generate$1('color-swatch-change');\n    var colorPickerCancelEvent = generate$1('color-picker-cancel');\n    var renderColorInput = function (spec, sharedBackstage, colorInputBackstage) {\n      var pField = FormField.parts().field({\n        factory: Input,\n        inputClasses: ['tox-textfield'],\n        onSetValue: function (c) {\n          return Invalidating.run(c).get(function () {\n          });\n        },\n        inputBehaviours: derive$1([\n          Tabstopping.config({}),\n          Invalidating.config({\n            invalidClass: 'tox-textbox-field-invalid',\n            getRoot: function (comp) {\n              return parent(comp.element());\n            },\n            notify: {\n              onValid: function (comp) {\n                var val = Representing.getValue(comp);\n                emitWith(comp, colorInputChangeEvent, { color: val });\n              }\n            },\n            validator: {\n              validateOnLoad: false,\n              validate: function (input) {\n                var inputValue = Representing.getValue(input);\n                if (inputValue.length === 0) {\n                  return Future.pure(Result.value(true));\n                } else {\n                  var span = Element.fromTag('span');\n                  set$2(span, 'background-color', inputValue);\n                  var res = getRaw(span, 'background-color').fold(function () {\n                    return Result.error('blah');\n                  }, function (_) {\n                    return Result.value(inputValue);\n                  });\n                  return Future.pure(res);\n                }\n              }\n            }\n          })\n        ]),\n        selectOnFocus: false\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, sharedBackstage.providers);\n      });\n      var emitSwatchChange = function (colorBit, value) {\n        emitWith(colorBit, colorSwatchChangeEvent, { value: value });\n      };\n      var onItemAction = function (comp, value) {\n        memColorButton.getOpt(comp).each(function (colorBit) {\n          if (value === 'custom') {\n            colorInputBackstage.colorPicker(function (valueOpt) {\n              valueOpt.fold(function () {\n                return emit(colorBit, colorPickerCancelEvent);\n              }, function (value) {\n                emitSwatchChange(colorBit, value);\n                Settings.addColor(value);\n              });\n            }, '#ffffff');\n          } else if (value === 'remove') {\n            emitSwatchChange(colorBit, '');\n          } else {\n            emitSwatchChange(colorBit, value);\n          }\n        });\n      };\n      var memColorButton = record(renderPanelButton({\n        dom: {\n          tag: 'span',\n          attributes: { 'aria-label': sharedBackstage.providers.translate('Color swatch') }\n        },\n        layouts: Option.some({\n          onRtl: function () {\n            return [southeast$1];\n          },\n          onLtr: function () {\n            return [southwest$1];\n          }\n        }),\n        components: [],\n        fetch: ColorSwatch.getFetch(colorInputBackstage.getColors(), colorInputBackstage.hasCustomColors()),\n        columns: colorInputBackstage.getColorCols(),\n        presets: 'color',\n        onItemAction: onItemAction\n      }, sharedBackstage));\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: pLabel.toArray().concat([{\n            dom: {\n              tag: 'div',\n              classes: ['tox-color-input']\n            },\n            components: [\n              pField,\n              memColorButton.asSpec()\n            ]\n          }]),\n        fieldBehaviours: derive$1([config('form-field-events', [\n            run(colorInputChangeEvent, function (comp, se) {\n              memColorButton.getOpt(comp).each(function (colorButton) {\n                set$2(colorButton.element(), 'background-color', se.event().color());\n              });\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            }),\n            run(colorSwatchChangeEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Representing.setValue(field, se.event().value());\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            }),\n            run(colorPickerCancelEvent, function (comp, se) {\n              FormField.getField(comp).each(function (field) {\n                Composing.getCurrent(comp).each(Focusing.focus);\n              });\n            })\n          ])])\n      });\n    };\n\n    var hsvColour = function (hue, saturation, value) {\n      return {\n        hue: constant(hue),\n        saturation: constant(saturation),\n        value: constant(value)\n      };\n    };\n    var fromRgb = function (rgbaColour) {\n      var h = 0;\n      var s = 0;\n      var v = 0;\n      var r = rgbaColour.red() / 255;\n      var g = rgbaColour.green() / 255;\n      var b = rgbaColour.blue() / 255;\n      var minRGB = Math.min(r, Math.min(g, b));\n      var maxRGB = Math.max(r, Math.max(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return hsvColour(0, 0, v * 100);\n      }\n      var d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return hsvColour(Math.round(h), Math.round(s * 100), Math.round(v * 100));\n    };\n\n    var calcHex = function (value) {\n      var hue = (100 - value) / 100 * 360;\n      var hsv = hsvColour(hue, 100, 100);\n      var rgb = fromHsv(hsv);\n      return fromRgba(rgb);\n    };\n\n    var fieldsUpdate = constant(generate$1('rgb-hex-update'));\n    var sliderUpdate = constant(generate$1('slider-update'));\n    var paletteUpdate = constant(generate$1('palette-update'));\n\n    var platform$1 = detect$3();\n    var isTouch = platform$1.deviceType.isTouch();\n    var labelPart = optional({\n      schema: [strict$1('dom')],\n      name: 'label'\n    });\n    var edgePart = function (name) {\n      return optional({\n        name: '' + name + '-edge',\n        overrides: function (detail) {\n          var action = detail.model.manager.edgeActions[name];\n          return action.fold(function () {\n            return {};\n          }, function (a) {\n            var touchEvents = derive([runActionExtra(touchstart(), a, [detail])]);\n            var mouseEvents = derive([\n              runActionExtra(mousedown(), a, [detail]),\n              runActionExtra(mousemove(), function (l, det) {\n                if (det.mouseIsDown.get()) {\n                  a(l, det);\n                }\n              }, [detail])\n            ]);\n            return { events: isTouch ? touchEvents : mouseEvents };\n          });\n        }\n      });\n    };\n    var tlEdgePart = edgePart('top-left');\n    var tedgePart = edgePart('top');\n    var trEdgePart = edgePart('top-right');\n    var redgePart = edgePart('right');\n    var brEdgePart = edgePart('bottom-right');\n    var bedgePart = edgePart('bottom');\n    var blEdgePart = edgePart('bottom-left');\n    var ledgePart = edgePart('left');\n    var thumbPart = required({\n      name: 'thumb',\n      defaults: constant({ dom: { styles: { position: 'absolute' } } }),\n      overrides: function (detail) {\n        return {\n          events: derive([\n            redirectToPart(touchstart(), detail, 'spectrum'),\n            redirectToPart(touchmove(), detail, 'spectrum'),\n            redirectToPart(touchend(), detail, 'spectrum'),\n            redirectToPart(mousedown(), detail, 'spectrum'),\n            redirectToPart(mousemove(), detail, 'spectrum'),\n            redirectToPart(mouseup(), detail, 'spectrum')\n          ])\n        };\n      }\n    });\n    var spectrumPart = required({\n      schema: [state$1('mouseIsDown', function () {\n          return Cell(false);\n        })],\n      name: 'spectrum',\n      overrides: function (detail) {\n        var modelDetail = detail.model;\n        var model = modelDetail.manager;\n        var setValueFrom = function (component, simulatedEvent) {\n          return model.getValueFromEvent(simulatedEvent).map(function (value) {\n            return model.setValueFrom(component, detail, value);\n          });\n        };\n        var touchEvents = derive([\n          run(touchstart(), setValueFrom),\n          run(touchmove(), setValueFrom)\n        ]);\n        var mouseEvents = derive([\n          run(mousedown(), setValueFrom),\n          run(mousemove(), function (spectrum, se) {\n            if (detail.mouseIsDown.get()) {\n              setValueFrom(spectrum, se);\n            }\n          })\n        ]);\n        return {\n          behaviours: derive$1(isTouch ? [] : [\n            Keying.config({\n              mode: 'special',\n              onLeft: function (spectrum) {\n                return model.onLeft(spectrum, detail);\n              },\n              onRight: function (spectrum) {\n                return model.onRight(spectrum, detail);\n              },\n              onUp: function (spectrum) {\n                return model.onUp(spectrum, detail);\n              },\n              onDown: function (spectrum) {\n                return model.onDown(spectrum, detail);\n              }\n            }),\n            Focusing.config({})\n          ]),\n          events: isTouch ? touchEvents : mouseEvents\n        };\n      }\n    });\n    var SliderParts = [\n      labelPart,\n      ledgePart,\n      redgePart,\n      tedgePart,\n      bedgePart,\n      tlEdgePart,\n      trEdgePart,\n      blEdgePart,\n      brEdgePart,\n      thumbPart,\n      spectrumPart\n    ];\n\n    var isTouch$1 = detect$3().deviceType.isTouch();\n    var _sliderChangeEvent = 'slider.change.value';\n    var sliderChangeEvent = constant(_sliderChangeEvent);\n    var getEventSource = function (simulatedEvent) {\n      var evt = simulatedEvent.event().raw();\n      if (isTouch$1) {\n        var touchEvent = evt;\n        return touchEvent.touches !== undefined && touchEvent.touches.length === 1 ? Option.some(touchEvent.touches[0]).map(function (t) {\n          return Position(t.clientX, t.clientY);\n        }) : Option.none();\n      } else {\n        var mouseEvent = evt;\n        return mouseEvent.clientX !== undefined ? Option.some(mouseEvent).map(function (me) {\n          return Position(me.clientX, me.clientY);\n        }) : Option.none();\n      }\n    };\n\n    var t = 'top', r$1 = 'right', b = 'bottom', l = 'left';\n    var minX = function (detail) {\n      return detail.model.minX;\n    };\n    var minY = function (detail) {\n      return detail.model.minY;\n    };\n    var min1X = function (detail) {\n      return detail.model.minX - 1;\n    };\n    var min1Y = function (detail) {\n      return detail.model.minY - 1;\n    };\n    var maxX = function (detail) {\n      return detail.model.maxX;\n    };\n    var maxY = function (detail) {\n      return detail.model.maxY;\n    };\n    var max1X = function (detail) {\n      return detail.model.maxX + 1;\n    };\n    var max1Y = function (detail) {\n      return detail.model.maxY + 1;\n    };\n    var range$2 = function (detail, max, min) {\n      return max(detail) - min(detail);\n    };\n    var xRange = function (detail) {\n      return range$2(detail, maxX, minX);\n    };\n    var yRange = function (detail) {\n      return range$2(detail, maxY, minY);\n    };\n    var halfX = function (detail) {\n      return xRange(detail) / 2;\n    };\n    var halfY = function (detail) {\n      return yRange(detail) / 2;\n    };\n    var step = function (detail) {\n      return detail.stepSize;\n    };\n    var snap = function (detail) {\n      return detail.snapToGrid;\n    };\n    var snapStart = function (detail) {\n      return detail.snapStart;\n    };\n    var rounded = function (detail) {\n      return detail.rounded;\n    };\n    var hasEdge = function (detail, edgeName) {\n      return detail[edgeName + '-edge'] !== undefined;\n    };\n    var hasLEdge = function (detail) {\n      return hasEdge(detail, l);\n    };\n    var hasREdge = function (detail) {\n      return hasEdge(detail, r$1);\n    };\n    var hasTEdge = function (detail) {\n      return hasEdge(detail, t);\n    };\n    var hasBEdge = function (detail) {\n      return hasEdge(detail, b);\n    };\n    var currentValue = function (detail) {\n      return detail.model.value.get();\n    };\n\n    var xValue = function (x) {\n      return { x: constant(x) };\n    };\n    var yValue = function (y) {\n      return { y: constant(y) };\n    };\n    var xyValue = function (x, y) {\n      return {\n        x: constant(x),\n        y: constant(y)\n      };\n    };\n    var fireSliderChange = function (component, value) {\n      emitWith(component, sliderChangeEvent(), { value: value });\n    };\n    var setToTLEdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(min1X(detail), min1Y(detail)));\n    };\n    var setToTEdge = function (edge, detail) {\n      fireSliderChange(edge, yValue(min1Y(detail)));\n    };\n    var setToTEdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(halfX(detail), min1Y(detail)));\n    };\n    var setToTREdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(max1X(detail), min1Y(detail)));\n    };\n    var setToREdge = function (edge, detail) {\n      fireSliderChange(edge, xValue(max1X(detail)));\n    };\n    var setToREdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(max1X(detail), halfY(detail)));\n    };\n    var setToBREdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(max1X(detail), max1Y(detail)));\n    };\n    var setToBEdge = function (edge, detail) {\n      fireSliderChange(edge, yValue(max1Y(detail)));\n    };\n    var setToBEdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(halfX(detail), max1Y(detail)));\n    };\n    var setToBLEdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(min1X(detail), max1Y(detail)));\n    };\n    var setToLEdge = function (edge, detail) {\n      fireSliderChange(edge, xValue(min1X(detail)));\n    };\n    var setToLEdgeXY = function (edge, detail) {\n      fireSliderChange(edge, xyValue(min1X(detail), halfY(detail)));\n    };\n\n    var reduceBy = function (value, min, max, step) {\n      if (value < min) {\n        return value;\n      } else if (value > max) {\n        return max;\n      } else if (value === min) {\n        return min - 1;\n      } else {\n        return Math.max(min, value - step);\n      }\n    };\n    var increaseBy = function (value, min, max, step) {\n      if (value > max) {\n        return value;\n      } else if (value < min) {\n        return min;\n      } else if (value === max) {\n        return max + 1;\n      } else {\n        return Math.min(max, value + step);\n      }\n    };\n    var capValue = function (value, min, max) {\n      return Math.max(min, Math.min(max, value));\n    };\n    var snapValueOf = function (value, min, max, step, snapStart) {\n      return snapStart.fold(function () {\n        var initValue = value - min;\n        var extraValue = Math.round(initValue / step) * step;\n        return capValue(min + extraValue, min - 1, max + 1);\n      }, function (start) {\n        var remainder = (value - start) % step;\n        var adjustment = Math.round(remainder / step);\n        var rawSteps = Math.floor((value - start) / step);\n        var maxSteps = Math.floor((max - start) / step);\n        var numSteps = Math.min(maxSteps, rawSteps + adjustment);\n        var r = start + numSteps * step;\n        return Math.max(start, r);\n      });\n    };\n    var findOffsetOf = function (value, min, max) {\n      return Math.min(max, Math.max(value, min)) - min;\n    };\n    var findValueOf = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, step = args.step, snap = args.snap, snapStart = args.snapStart, rounded = args.rounded, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, minBound = args.minBound, maxBound = args.maxBound, screenRange = args.screenRange;\n      var capMin = hasMinEdge ? min - 1 : min;\n      var capMax = hasMaxEdge ? max + 1 : max;\n      if (value < minBound) {\n        return capMin;\n      } else if (value > maxBound) {\n        return capMax;\n      } else {\n        var offset = findOffsetOf(value, minBound, maxBound);\n        var newValue = capValue(offset / screenRange * range + min, capMin, capMax);\n        if (snap && newValue >= min && newValue <= max) {\n          return snapValueOf(newValue, min, max, step, snapStart);\n        } else if (rounded) {\n          return Math.round(newValue);\n        } else {\n          return newValue;\n        }\n      }\n    };\n    var findOffsetOfValue = function (args) {\n      var min = args.min, max = args.max, range = args.range, value = args.value, hasMinEdge = args.hasMinEdge, hasMaxEdge = args.hasMaxEdge, maxBound = args.maxBound, maxOffset = args.maxOffset, centerMinEdge = args.centerMinEdge, centerMaxEdge = args.centerMaxEdge;\n      if (value < min) {\n        return hasMinEdge ? 0 : centerMinEdge;\n      } else if (value > max) {\n        return hasMaxEdge ? maxBound : centerMaxEdge;\n      } else {\n        return (value - min) / range * maxOffset;\n      }\n    };\n\n    var top = 'top', right = 'right', bottom = 'bottom', left = 'left', width = 'width', height = 'height';\n    var getBounds$1 = function (component) {\n      return component.element().dom().getBoundingClientRect();\n    };\n    var getBoundsProperty = function (bounds, property) {\n      return bounds[property];\n    };\n    var getMinXBounds = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, left);\n    };\n    var getMaxXBounds = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, right);\n    };\n    var getMinYBounds = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, top);\n    };\n    var getMaxYBounds = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, bottom);\n    };\n    var getXScreenRange = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, width);\n    };\n    var getYScreenRange = function (component) {\n      var bounds = getBounds$1(component);\n      return getBoundsProperty(bounds, height);\n    };\n    var getCenterOffsetOf = function (componentMinEdge, componentMaxEdge, spectrumMinEdge) {\n      return (componentMinEdge + componentMaxEdge) / 2 - spectrumMinEdge;\n    };\n    var getXCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds$1(component);\n      var spectrumBounds = getBounds$1(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, left);\n      var componentMaxEdge = getBoundsProperty(componentBounds, right);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, left);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n    var getYCenterOffSetOf = function (component, spectrum) {\n      var componentBounds = getBounds$1(component);\n      var spectrumBounds = getBounds$1(spectrum);\n      var componentMinEdge = getBoundsProperty(componentBounds, top);\n      var componentMaxEdge = getBoundsProperty(componentBounds, bottom);\n      var spectrumMinEdge = getBoundsProperty(spectrumBounds, top);\n      return getCenterOffsetOf(componentMinEdge, componentMaxEdge, spectrumMinEdge);\n    };\n\n    var fireSliderChange$1 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue = function (x) {\n      return { x: constant(x) };\n    };\n    var findValueOfOffset = function (spectrum, detail, left) {\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: left,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        maxBound: getMaxXBounds(spectrum),\n        screenRange: getXScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset(spectrum, detail, value);\n      var sliderVal = sliderValue(xValue);\n      fireSliderChange$1(spectrum, sliderVal);\n      return xValue;\n    };\n    var setToMin = function (spectrum, detail) {\n      var min = minX(detail);\n      fireSliderChange$1(spectrum, sliderValue(min));\n    };\n    var setToMax = function (spectrum, detail) {\n      var max = maxX(detail);\n      fireSliderChange$1(spectrum, sliderValue(max));\n    };\n    var moveBy = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = f(currentValue(detail).x(), minX(detail), maxX(detail), step(detail));\n      fireSliderChange$1(spectrum, sliderValue(xValue));\n      return Option.some(xValue);\n    };\n    var handleMovement = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy(direction, spectrum, detail).map(function () {\n          return true;\n        });\n      };\n    };\n    var getValueFromEvent = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.left();\n      });\n    };\n    var findOffsetOfValue$1 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getXScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Option.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Option.some(getXCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minX(detail),\n        max: maxX(detail),\n        range: xRange(detail),\n        value: value,\n        hasMinEdge: hasLEdge(detail),\n        hasMaxEdge: hasREdge(detail),\n        minBound: getMinXBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxXBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue(args);\n    };\n    var findPositionOfValue = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$1(spectrum, detail, value, minEdge, maxEdge);\n      return getMinXBounds(spectrum) - getMinXBounds(slider) + offset;\n    };\n    var setPositionFromValue = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue(slider, edges.getSpectrum(slider), value.x(), edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var thumbRadius = get$7(thumb.element()) / 2;\n      set$2(thumb.element(), 'left', pos - thumbRadius + 'px');\n    };\n    var onLeft = handleMovement(-1);\n    var onRight = handleMovement(1);\n    var onUp = Option.none;\n    var onDown = Option.none;\n    var edgeActions = {\n      'top-left': Option.none(),\n      'top': Option.none(),\n      'top-right': Option.none(),\n      'right': Option.some(setToREdge),\n      'bottom-right': Option.none(),\n      'bottom': Option.none(),\n      'bottom-left': Option.none(),\n      'left': Option.some(setToLEdge)\n    };\n\n    var HorizontalModel = /*#__PURE__*/Object.freeze({\n        setValueFrom: setValueFrom,\n        setToMin: setToMin,\n        setToMax: setToMax,\n        findValueOfOffset: findValueOfOffset,\n        getValueFromEvent: getValueFromEvent,\n        findPositionOfValue: findPositionOfValue,\n        setPositionFromValue: setPositionFromValue,\n        onLeft: onLeft,\n        onRight: onRight,\n        onUp: onUp,\n        onDown: onDown,\n        edgeActions: edgeActions\n    });\n\n    var fireSliderChange$2 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$1 = function (y) {\n      return { y: constant(y) };\n    };\n    var findValueOfOffset$1 = function (spectrum, detail, top) {\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: top,\n        step: step(detail),\n        snap: snap(detail),\n        snapStart: snapStart(detail),\n        rounded: rounded(detail),\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        maxBound: getMaxYBounds(spectrum),\n        screenRange: getYScreenRange(spectrum)\n      };\n      return findValueOf(args);\n    };\n    var setValueFrom$1 = function (spectrum, detail, value) {\n      var yValue = findValueOfOffset$1(spectrum, detail, value);\n      var sliderVal = sliderValue$1(yValue);\n      fireSliderChange$2(spectrum, sliderVal);\n      return yValue;\n    };\n    var setToMin$1 = function (spectrum, detail) {\n      var min = minY(detail);\n      fireSliderChange$2(spectrum, sliderValue$1(min));\n    };\n    var setToMax$1 = function (spectrum, detail) {\n      var max = maxY(detail);\n      fireSliderChange$2(spectrum, sliderValue$1(max));\n    };\n    var moveBy$1 = function (direction, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var yValue = f(currentValue(detail).y(), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$2(spectrum, sliderValue$1(yValue));\n      return Option.some(yValue);\n    };\n    var handleMovement$1 = function (direction) {\n      return function (spectrum, detail) {\n        return moveBy$1(direction, spectrum, detail).map(function () {\n          return true;\n        });\n      };\n    };\n    var getValueFromEvent$1 = function (simulatedEvent) {\n      var pos = getEventSource(simulatedEvent);\n      return pos.map(function (p) {\n        return p.top();\n      });\n    };\n    var findOffsetOfValue$2 = function (spectrum, detail, value, minEdge, maxEdge) {\n      var minOffset = 0;\n      var maxOffset = getYScreenRange(spectrum);\n      var centerMinEdge = minEdge.bind(function (edge) {\n        return Option.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(minOffset);\n      var centerMaxEdge = maxEdge.bind(function (edge) {\n        return Option.some(getYCenterOffSetOf(edge, spectrum));\n      }).getOr(maxOffset);\n      var args = {\n        min: minY(detail),\n        max: maxY(detail),\n        range: yRange(detail),\n        value: value,\n        hasMinEdge: hasTEdge(detail),\n        hasMaxEdge: hasBEdge(detail),\n        minBound: getMinYBounds(spectrum),\n        minOffset: minOffset,\n        maxBound: getMaxYBounds(spectrum),\n        maxOffset: maxOffset,\n        centerMinEdge: centerMinEdge,\n        centerMaxEdge: centerMaxEdge\n      };\n      return findOffsetOfValue(args);\n    };\n    var findPositionOfValue$1 = function (slider, spectrum, value, minEdge, maxEdge, detail) {\n      var offset = findOffsetOfValue$2(spectrum, detail, value, minEdge, maxEdge);\n      return getMinYBounds(spectrum) - getMinYBounds(slider) + offset;\n    };\n    var setPositionFromValue$1 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var pos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.y(), edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbRadius = get$6(thumb.element()) / 2;\n      set$2(thumb.element(), 'top', pos - thumbRadius + 'px');\n    };\n    var onLeft$1 = Option.none;\n    var onRight$1 = Option.none;\n    var onUp$1 = handleMovement$1(-1);\n    var onDown$1 = handleMovement$1(1);\n    var edgeActions$1 = {\n      'top-left': Option.none(),\n      'top': Option.some(setToTEdge),\n      'top-right': Option.none(),\n      'right': Option.none(),\n      'bottom-right': Option.none(),\n      'bottom': Option.some(setToBEdge),\n      'bottom-left': Option.none(),\n      'left': Option.none()\n    };\n\n    var VerticalModel = /*#__PURE__*/Object.freeze({\n        setValueFrom: setValueFrom$1,\n        setToMin: setToMin$1,\n        setToMax: setToMax$1,\n        findValueOfOffset: findValueOfOffset$1,\n        getValueFromEvent: getValueFromEvent$1,\n        findPositionOfValue: findPositionOfValue$1,\n        setPositionFromValue: setPositionFromValue$1,\n        onLeft: onLeft$1,\n        onRight: onRight$1,\n        onUp: onUp$1,\n        onDown: onDown$1,\n        edgeActions: edgeActions$1\n    });\n\n    var fireSliderChange$3 = function (spectrum, value) {\n      emitWith(spectrum, sliderChangeEvent(), { value: value });\n    };\n    var sliderValue$2 = function (x, y) {\n      return {\n        x: constant(x),\n        y: constant(y)\n      };\n    };\n    var setValueFrom$2 = function (spectrum, detail, value) {\n      var xValue = findValueOfOffset(spectrum, detail, value.left());\n      var yValue = findValueOfOffset$1(spectrum, detail, value.top());\n      var val = sliderValue$2(xValue, yValue);\n      fireSliderChange$3(spectrum, val);\n      return val;\n    };\n    var moveBy$2 = function (direction, isVerticalMovement, spectrum, detail) {\n      var f = direction > 0 ? increaseBy : reduceBy;\n      var xValue = isVerticalMovement ? currentValue(detail).x() : f(currentValue(detail).x(), minX(detail), maxX(detail), step(detail));\n      var yValue = !isVerticalMovement ? currentValue(detail).y() : f(currentValue(detail).y(), minY(detail), maxY(detail), step(detail));\n      fireSliderChange$3(spectrum, sliderValue$2(xValue, yValue));\n      return Option.some(xValue);\n    };\n    var handleMovement$2 = function (direction, isVerticalMovement) {\n      return function (spectrum, detail) {\n        return moveBy$2(direction, isVerticalMovement, spectrum, detail).map(function () {\n          return true;\n        });\n      };\n    };\n    var setToMin$2 = function (spectrum, detail) {\n      var mX = minX(detail);\n      var mY = minY(detail);\n      fireSliderChange$3(spectrum, sliderValue$2(mX, mY));\n    };\n    var setToMax$2 = function (spectrum, detail) {\n      var mX = maxX(detail);\n      var mY = maxY(detail);\n      fireSliderChange$3(spectrum, sliderValue$2(mX, mY));\n    };\n    var getValueFromEvent$2 = function (simulatedEvent) {\n      return getEventSource(simulatedEvent);\n    };\n    var setPositionFromValue$2 = function (slider, thumb, detail, edges) {\n      var value = currentValue(detail);\n      var xPos = findPositionOfValue(slider, edges.getSpectrum(slider), value.x(), edges.getLeftEdge(slider), edges.getRightEdge(slider), detail);\n      var yPos = findPositionOfValue$1(slider, edges.getSpectrum(slider), value.y(), edges.getTopEdge(slider), edges.getBottomEdge(slider), detail);\n      var thumbXRadius = get$7(thumb.element()) / 2;\n      var thumbYRadius = get$6(thumb.element()) / 2;\n      set$2(thumb.element(), 'left', xPos - thumbXRadius + 'px');\n      set$2(thumb.element(), 'top', yPos - thumbYRadius + 'px');\n    };\n    var onLeft$2 = handleMovement$2(-1, false);\n    var onRight$2 = handleMovement$2(1, false);\n    var onUp$2 = handleMovement$2(-1, true);\n    var onDown$2 = handleMovement$2(1, true);\n    var edgeActions$2 = {\n      'top-left': Option.some(setToTLEdgeXY),\n      'top': Option.some(setToTEdgeXY),\n      'top-right': Option.some(setToTREdgeXY),\n      'right': Option.some(setToREdgeXY),\n      'bottom-right': Option.some(setToBREdgeXY),\n      'bottom': Option.some(setToBEdgeXY),\n      'bottom-left': Option.some(setToBLEdgeXY),\n      'left': Option.some(setToLEdgeXY)\n    };\n\n    var TwoDModel = /*#__PURE__*/Object.freeze({\n        setValueFrom: setValueFrom$2,\n        setToMin: setToMin$2,\n        setToMax: setToMax$2,\n        getValueFromEvent: getValueFromEvent$2,\n        setPositionFromValue: setPositionFromValue$2,\n        onLeft: onLeft$2,\n        onRight: onRight$2,\n        onUp: onUp$2,\n        onDown: onDown$2,\n        edgeActions: edgeActions$2\n    });\n\n    var isTouch$2 = detect$3().deviceType.isTouch();\n    var SliderSchema = [\n      defaulted$1('stepSize', 1),\n      defaulted$1('onChange', noop),\n      defaulted$1('onChoose', noop),\n      defaulted$1('onInit', noop),\n      defaulted$1('onDragStart', noop),\n      defaulted$1('onDragEnd', noop),\n      defaulted$1('snapToGrid', false),\n      defaulted$1('rounded', true),\n      option('snapStart'),\n      strictOf('model', choose$1('mode', {\n        x: [\n          defaulted$1('minX', 0),\n          defaulted$1('maxX', 100),\n          state$1('value', function (spec) {\n            return Cell(spec.mode.minX);\n          }),\n          strict$1('getInitialValue'),\n          output('manager', HorizontalModel)\n        ],\n        y: [\n          defaulted$1('minY', 0),\n          defaulted$1('maxY', 100),\n          state$1('value', function (spec) {\n            return Cell(spec.mode.minY);\n          }),\n          strict$1('getInitialValue'),\n          output('manager', VerticalModel)\n        ],\n        xy: [\n          defaulted$1('minX', 0),\n          defaulted$1('maxX', 100),\n          defaulted$1('minY', 0),\n          defaulted$1('maxY', 100),\n          state$1('value', function (spec) {\n            return Cell({\n              x: constant(spec.mode.minX),\n              y: constant(spec.mode.minY)\n            });\n          }),\n          strict$1('getInitialValue'),\n          output('manager', TwoDModel)\n        ]\n      })),\n      field$1('sliderBehaviours', [\n        Keying,\n        Representing\n      ])\n    ].concat(!isTouch$2 ? [state$1('mouseIsDown', function () {\n        return Cell(false);\n      })] : []);\n\n    var isTouch$3 = detect$3().deviceType.isTouch();\n    var sketch = function (detail, components, _spec, _externals) {\n      var getThumb = function (component) {\n        return getPartOrDie(component, detail, 'thumb');\n      };\n      var getSpectrum = function (component) {\n        return getPartOrDie(component, detail, 'spectrum');\n      };\n      var getLeftEdge = function (component) {\n        return getPart(component, detail, 'left-edge');\n      };\n      var getRightEdge = function (component) {\n        return getPart(component, detail, 'right-edge');\n      };\n      var getTopEdge = function (component) {\n        return getPart(component, detail, 'top-edge');\n      };\n      var getBottomEdge = function (component) {\n        return getPart(component, detail, 'bottom-edge');\n      };\n      var modelDetail = detail.model;\n      var model = modelDetail.manager;\n      var refresh = function (slider, thumb) {\n        model.setPositionFromValue(slider, thumb, detail, {\n          getLeftEdge: getLeftEdge,\n          getRightEdge: getRightEdge,\n          getTopEdge: getTopEdge,\n          getBottomEdge: getBottomEdge,\n          getSpectrum: getSpectrum\n        });\n      };\n      var changeValue = function (slider, newValue) {\n        modelDetail.value.set(newValue);\n        var thumb = getThumb(slider);\n        refresh(slider, thumb);\n        detail.onChange(slider, thumb, newValue);\n        return Option.some(true);\n      };\n      var resetToMin = function (slider) {\n        model.setToMin(slider, detail);\n      };\n      var resetToMax = function (slider) {\n        model.setToMax(slider, detail);\n      };\n      var touchEvents = [\n        run(touchstart(), function (slider, _simulatedEvent) {\n          detail.onDragStart(slider, getThumb(slider));\n        }),\n        run(touchend(), function (slider, _simulatedEvent) {\n          detail.onDragEnd(slider, getThumb(slider));\n        })\n      ];\n      var mouseEvents = [\n        run(mousedown(), function (slider, simulatedEvent) {\n          simulatedEvent.stop();\n          detail.onDragStart(slider, getThumb(slider));\n          detail.mouseIsDown.set(true);\n        }),\n        run(mouseup(), function (slider, _simulatedEvent) {\n          detail.onDragEnd(slider, getThumb(slider));\n        })\n      ];\n      var uiEventsArr = isTouch$3 ? touchEvents : mouseEvents;\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.sliderBehaviours, flatten([\n          !isTouch$3 ? [Keying.config({\n              mode: 'special',\n              focusIn: function (slider) {\n                return getPart(slider, detail, 'spectrum').map(Keying.focusIn).map(constant(true));\n              }\n            })] : [],\n          [\n            Representing.config({\n              store: {\n                mode: 'manual',\n                getValue: function (_) {\n                  return modelDetail.value.get();\n                }\n              }\n            }),\n            Receiving.config({\n              channels: {\n                'mouse.released': {\n                  onReceive: function (slider, se) {\n                    var fireOnChoose = function () {\n                      getPart(slider, detail, 'thumb').each(function (thumb) {\n                        var value = modelDetail.value.get();\n                        detail.onChoose(slider, thumb, value);\n                      });\n                    };\n                    if (isTouch$3) {\n                      fireOnChoose();\n                    } else {\n                      var wasDown = detail.mouseIsDown.get();\n                      detail.mouseIsDown.set(false);\n                      if (wasDown) {\n                        fireOnChoose();\n                      }\n                    }\n                  }\n                }\n              }\n            })\n          ]\n        ])),\n        events: derive([\n          run(sliderChangeEvent(), function (slider, simulatedEvent) {\n            changeValue(slider, simulatedEvent.event().value());\n          }),\n          runOnAttached(function (slider, simulatedEvent) {\n            var getInitial = modelDetail.getInitialValue();\n            modelDetail.value.set(getInitial);\n            var thumb = getThumb(slider);\n            refresh(slider, thumb);\n            var spectrum = getSpectrum(slider);\n            detail.onInit(slider, thumb, spectrum, modelDetail.value.get());\n          })\n        ].concat(uiEventsArr)),\n        apis: {\n          resetToMin: resetToMin,\n          resetToMax: resetToMax,\n          changeValue: changeValue,\n          refresh: refresh\n        },\n        domModification: { styles: { position: 'relative' } }\n      };\n    };\n\n    var Slider = composite$1({\n      name: 'Slider',\n      configFields: SliderSchema,\n      partFields: SliderParts,\n      factory: sketch,\n      apis: {\n        resetToMin: function (apis, slider) {\n          apis.resetToMin(slider);\n        },\n        resetToMax: function (apis, slider) {\n          apis.resetToMax(slider);\n        },\n        refresh: function (apis, slider) {\n          apis.refresh(slider);\n        }\n      }\n    });\n\n    var sliderFactory = function (translate, getClass) {\n      var spectrum = Slider.parts().spectrum({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-spectrum')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var thumb = Slider.parts().thumb({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider-thumb')],\n          attributes: { role: 'presentation' }\n        }\n      });\n      return Slider.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('hue-slider')],\n          attributes: { role: 'presentation' }\n        },\n        rounded: false,\n        model: {\n          mode: 'y',\n          getInitialValue: constant({ y: constant(0) })\n        },\n        components: [\n          spectrum,\n          thumb\n        ],\n        sliderBehaviours: derive$1([Focusing.config({})]),\n        onChange: function (slider, _thumb, value) {\n          emitWith(slider, sliderUpdate(), { value: value });\n        }\n      });\n    };\n    var HueSlider = { sliderFactory: sliderFactory };\n\n    var owner$3 = 'form';\n    var schema$h = [field$1('formBehaviours', [Representing])];\n    var getPartName = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$1 = function (fSpec) {\n      var parts = function () {\n        var record = [];\n        var field = function (name, config) {\n          record.push(name);\n          return generateOne(owner$3, getPartName(name), config);\n        };\n        return {\n          field: field,\n          record: function () {\n            return record;\n          }\n        };\n      }();\n      var spec = fSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName(n)\n        });\n      });\n      return composite(owner$3, schema$h, fieldParts, make$4, spec);\n    };\n    var toResult$1 = function (o, e) {\n      return o.fold(function () {\n        return Result.error(e);\n      }, Result.value);\n    };\n    var make$4 = function (detail, components, spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.formBehaviours, [Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (form) {\n                var resPs = getAllParts(form, detail);\n                return map$1(resPs, function (resPThunk, pName) {\n                  return resPThunk().bind(function (v) {\n                    var opt = Composing.getCurrent(v);\n                    return toResult$1(opt, 'missing current');\n                  }).map(Representing.getValue);\n                });\n              },\n              setValue: function (form, values) {\n                each$1(values, function (newValue, key) {\n                  getPart(form, detail, key).each(function (wrapper) {\n                    Composing.getCurrent(wrapper).each(function (field) {\n                      Representing.setValue(field, newValue);\n                    });\n                  });\n                });\n              }\n            }\n          })]),\n        apis: {\n          getField: function (form, key) {\n            return getPart(form, detail, key).bind(Composing.getCurrent);\n          }\n        }\n      };\n    };\n    var Form = {\n      getField: makeApi(function (apis, component, key) {\n        return apis.getField(component, key);\n      }),\n      sketch: sketch$1\n    };\n\n    var validInput = generate$1('valid-input');\n    var invalidInput = generate$1('invalid-input');\n    var validatingInput = generate$1('validating-input');\n    var translatePrefix = 'colorcustom.rgb.';\n    var rgbFormFactory = function (translate, getClass, onValidHexx, onInvalidHexx) {\n      var invalidation = function (label, isValid) {\n        return Invalidating.config({\n          invalidClass: getClass('invalid'),\n          notify: {\n            onValidate: function (comp) {\n              emitWith(comp, validatingInput, { type: label });\n            },\n            onValid: function (comp) {\n              emitWith(comp, validInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            },\n            onInvalid: function (comp) {\n              emitWith(comp, invalidInput, {\n                type: label,\n                value: Representing.getValue(comp)\n              });\n            }\n          },\n          validator: {\n            validate: function (comp) {\n              var value = Representing.getValue(comp);\n              var res = isValid(value) ? Result.value(true) : Result.error(translate('aria.input.invalid'));\n              return Future.pure(res);\n            },\n            validateOnLoad: false\n          }\n        });\n      };\n      var renderTextField = function (isValid, name, label, description, data) {\n        var helptext = translate(translatePrefix + 'range');\n        var pLabel = FormField.parts().label({\n          dom: {\n            tag: 'label',\n            innerHtml: label,\n            attributes: { 'aria-label': description }\n          }\n        });\n        var pField = FormField.parts().field({\n          data: data,\n          factory: Input,\n          inputAttributes: __assign({ type: 'text' }, name === 'hex' ? { 'aria-live': 'polite' } : {}),\n          inputClasses: [getClass('textfield')],\n          inputBehaviours: derive$1([\n            invalidation(name, isValid),\n            Tabstopping.config({})\n          ]),\n          onSetValue: function (input) {\n            if (Invalidating.isInvalid(input)) {\n              var run = Invalidating.run(input);\n              run.get(noop);\n            }\n          }\n        });\n        var comps = [\n          pLabel,\n          pField\n        ];\n        var concats = name !== 'hex' ? [FormField.parts()['aria-descriptor']({ text: helptext })] : [];\n        var components = comps.concat(concats);\n        return {\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' }\n          },\n          components: components\n        };\n      };\n      var copyRgbToHex = function (form, rgba) {\n        var hex = fromRgba(rgba);\n        Form.getField(form, 'hex').each(function (hexField) {\n          if (!Focusing.isFocused(hexField)) {\n            Representing.setValue(form, { hex: hex.value() });\n          }\n        });\n        return hex;\n      };\n      var copyRgbToForm = function (form, rgb) {\n        var red = rgb.red();\n        var green = rgb.green();\n        var blue = rgb.blue();\n        Representing.setValue(form, {\n          red: red,\n          green: green,\n          blue: blue\n        });\n      };\n      var memPreview = record({\n        dom: {\n          tag: 'div',\n          classes: [getClass('rgba-preview')],\n          styles: { 'background-color': 'white' },\n          attributes: { role: 'presentation' }\n        }\n      });\n      var updatePreview = function (anyInSystem, hex) {\n        memPreview.getOpt(anyInSystem).each(function (preview) {\n          set$2(preview.element(), 'background-color', '#' + hex.value());\n        });\n      };\n      var factory = function () {\n        var state = {\n          red: constant(Cell(Option.some(255))),\n          green: constant(Cell(Option.some(255))),\n          blue: constant(Cell(Option.some(255))),\n          hex: constant(Cell(Option.some('ffffff')))\n        };\n        var copyHexToRgb = function (form, hex) {\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n        };\n        var get = function (prop) {\n          return state[prop]().get();\n        };\n        var set = function (prop, value) {\n          state[prop]().set(value);\n        };\n        var getValueRgb = function () {\n          return get('red').bind(function (red) {\n            return get('green').bind(function (green) {\n              return get('blue').map(function (blue) {\n                return rgbaColour(red, green, blue, 1);\n              });\n            });\n          });\n        };\n        var setValueRgb = function (rgb) {\n          var red = rgb.red();\n          var green = rgb.green();\n          var blue = rgb.blue();\n          set('red', Option.some(red));\n          set('green', Option.some(green));\n          set('blue', Option.some(blue));\n        };\n        var onInvalidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event();\n          if (data.type() !== 'hex') {\n            set(data.type(), Option.none());\n          } else {\n            onInvalidHexx(form);\n          }\n        };\n        var onValidHex = function (form, value) {\n          onValidHexx(form);\n          var hex = hexColour(value);\n          set('hex', Option.some(value));\n          var rgb = fromHex(hex);\n          copyRgbToForm(form, rgb);\n          setValueRgb(rgb);\n          emitWith(form, fieldsUpdate(), { hex: hex });\n          updatePreview(form, hex);\n        };\n        var onValidRgb = function (form, prop, value) {\n          var val = parseInt(value, 10);\n          set(prop, Option.some(val));\n          getValueRgb().each(function (rgb) {\n            var hex = copyRgbToHex(form, rgb);\n            updatePreview(form, hex);\n          });\n        };\n        var isHexInputEvent = function (data) {\n          return data.type() === 'hex';\n        };\n        var onValidInput = function (form, simulatedEvent) {\n          var data = simulatedEvent.event();\n          if (isHexInputEvent(data)) {\n            onValidHex(form, data.value());\n          } else {\n            onValidRgb(form, data.type(), data.value());\n          }\n        };\n        var formPartStrings = function (key) {\n          return {\n            label: translate(translatePrefix + key + '.label'),\n            description: translate(translatePrefix + key + '.description')\n          };\n        };\n        var redStrings = formPartStrings('red');\n        var greenStrings = formPartStrings('green');\n        var blueStrings = formPartStrings('blue');\n        var hexStrings = formPartStrings('hex');\n        return deepMerge(Form.sketch(function (parts) {\n          return {\n            dom: {\n              tag: 'form',\n              classes: [getClass('rgb-form')],\n              attributes: { 'aria-label': translate('aria.color.picker') }\n            },\n            components: [\n              parts.field('red', FormField.sketch(renderTextField(isRgbaComponent, 'red', redStrings.label, redStrings.description, 255))),\n              parts.field('green', FormField.sketch(renderTextField(isRgbaComponent, 'green', greenStrings.label, greenStrings.description, 255))),\n              parts.field('blue', FormField.sketch(renderTextField(isRgbaComponent, 'blue', blueStrings.label, blueStrings.description, 255))),\n              parts.field('hex', FormField.sketch(renderTextField(isHexString, 'hex', hexStrings.label, hexStrings.description, 'ffffff'))),\n              memPreview.asSpec()\n            ],\n            formBehaviours: derive$1([\n              Invalidating.config({ invalidClass: getClass('form-invalid') }),\n              config('rgb-form-events', [\n                run(validInput, onValidInput),\n                run(invalidInput, onInvalidInput),\n                run(validatingInput, onInvalidInput)\n              ])\n            ])\n          };\n        }), {\n          apis: {\n            updateHex: function (form, hex) {\n              Representing.setValue(form, { hex: hex.value() });\n              copyHexToRgb(form, hex);\n              updatePreview(form, hex);\n            }\n          }\n        });\n      };\n      var rgbFormSketcher = single$2({\n        factory: factory,\n        name: 'RgbForm',\n        configFields: [],\n        apis: {\n          updateHex: function (apis, form, hex) {\n            apis.updateHex(form, hex);\n          }\n        },\n        extraApis: {}\n      });\n      return rgbFormSketcher;\n    };\n    var RgbForm = { rgbFormFactory: rgbFormFactory };\n\n    var paletteFactory = function (_translate, getClass) {\n      var spectrumPart = Slider.parts().spectrum({\n        dom: {\n          tag: 'canvas',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-spectrum')]\n        }\n      });\n      var thumbPart = Slider.parts().thumb({\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' },\n          classes: [getClass('sv-palette-thumb')],\n          innerHtml: '<div class=' + getClass('sv-palette-inner-thumb') + ' role=\"presentation\"></div>'\n        }\n      });\n      var setColour = function (canvas, rgba) {\n        var width = canvas.width, height = canvas.height;\n        var ctx = canvas.getContext('2d');\n        if (ctx === null) {\n          return;\n        }\n        ctx.fillStyle = rgba;\n        ctx.fillRect(0, 0, width, height);\n        var grdWhite = ctx.createLinearGradient(0, 0, width, 0);\n        grdWhite.addColorStop(0, 'rgba(255,255,255,1)');\n        grdWhite.addColorStop(1, 'rgba(255,255,255,0)');\n        ctx.fillStyle = grdWhite;\n        ctx.fillRect(0, 0, width, height);\n        var grdBlack = ctx.createLinearGradient(0, 0, 0, height);\n        grdBlack.addColorStop(0, 'rgba(0,0,0,0)');\n        grdBlack.addColorStop(1, 'rgba(0,0,0,1)');\n        ctx.fillStyle = grdBlack;\n        ctx.fillRect(0, 0, width, height);\n      };\n      var setSliderColour = function (slider, rgba) {\n        var canvas = slider.components()[0].element().dom();\n        setColour(canvas, toString(rgba));\n      };\n      var factory = function (_detail) {\n        var getInitialValue = constant({\n          x: constant(0),\n          y: constant(0)\n        });\n        var onChange = function (slider, _thumb, value) {\n          emitWith(slider, paletteUpdate(), { value: value });\n        };\n        var onInit = function (_slider, _thumb, spectrum, _value) {\n          setColour(spectrum.element().dom(), toString(redColour()));\n        };\n        var sliderBehaviours = derive$1([\n          Composing.config({ find: Option.some }),\n          Focusing.config({})\n        ]);\n        return Slider.sketch({\n          dom: {\n            tag: 'div',\n            attributes: { role: 'presentation' },\n            classes: [getClass('sv-palette')]\n          },\n          model: {\n            mode: 'xy',\n            getInitialValue: getInitialValue\n          },\n          rounded: false,\n          components: [\n            spectrumPart,\n            thumbPart\n          ],\n          onChange: onChange,\n          onInit: onInit,\n          sliderBehaviours: sliderBehaviours\n        });\n      };\n      var saturationBrightnessPaletteSketcher = single$2({\n        factory: factory,\n        name: 'SaturationBrightnessPalette',\n        configFields: [],\n        apis: {\n          setRgba: function (_apis, slider, rgba) {\n            setSliderColour(slider, rgba);\n          }\n        },\n        extraApis: {}\n      });\n      return saturationBrightnessPaletteSketcher;\n    };\n    var SaturationBrightnessPalette = { paletteFactory: paletteFactory };\n\n    var makeFactory = function (translate, getClass) {\n      var factory = function (detail) {\n        var rgbForm = RgbForm.rgbFormFactory(translate, getClass, detail.onValidHex, detail.onInvalidHex);\n        var sbPalette = SaturationBrightnessPalette.paletteFactory(translate, getClass);\n        var state = { paletteRgba: constant(Cell(redColour())) };\n        var memPalette = record(sbPalette.sketch({}));\n        var memRgb = record(rgbForm.sketch({}));\n        var updatePalette = function (anyInSystem, hex) {\n          memPalette.getOpt(anyInSystem).each(function (palette) {\n            var rgba = fromHex(hex);\n            state.paletteRgba().set(rgba);\n            sbPalette.setRgba(palette, rgba);\n          });\n        };\n        var updateFields = function (anyInSystem, hex) {\n          memRgb.getOpt(anyInSystem).each(function (form) {\n            rgbForm.updateHex(form, hex);\n          });\n        };\n        var runUpdates = function (anyInSystem, hex, updates) {\n          each(updates, function (update) {\n            update(anyInSystem, hex);\n          });\n        };\n        var paletteUpdates = function () {\n          var updates = [updateFields];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event().value();\n            var oldRgb = state.paletteRgba().get();\n            var hsvColour$1 = fromRgb(oldRgb);\n            var newHsvColour = hsvColour(hsvColour$1.hue(), value.x(), 100 - value.y());\n            var rgb = fromHsv(newHsvColour);\n            var nuHex = fromRgba(rgb);\n            runUpdates(form, nuHex, updates);\n          };\n        };\n        var sliderUpdates = function () {\n          var updates = [\n            updatePalette,\n            updateFields\n          ];\n          return function (form, simulatedEvent) {\n            var value = simulatedEvent.event().value();\n            var hex = calcHex(value.y());\n            runUpdates(form, hex, updates);\n          };\n        };\n        return {\n          uid: detail.uid,\n          dom: detail.dom,\n          components: [\n            memPalette.asSpec(),\n            HueSlider.sliderFactory(translate, getClass),\n            memRgb.asSpec()\n          ],\n          behaviours: derive$1([\n            config('colour-picker-events', [\n              run(paletteUpdate(), paletteUpdates()),\n              run(sliderUpdate(), sliderUpdates())\n            ]),\n            Composing.config({\n              find: function (comp) {\n                return memRgb.getOpt(comp);\n              }\n            }),\n            Keying.config({ mode: 'acyclic' })\n          ])\n        };\n      };\n      var colourPickerSketcher = single$2({\n        name: 'ColourPicker',\n        configFields: [\n          strict$1('dom'),\n          defaulted$1('onValidHex', noop),\n          defaulted$1('onInvalidHex', noop)\n        ],\n        factory: factory\n      });\n      return colourPickerSketcher;\n    };\n    var ColourPicker = { makeFactory: makeFactory };\n\n    var self$1 = function () {\n      return Composing.config({ find: Option.some });\n    };\n    var memento = function (mem) {\n      return Composing.config({ find: mem.getOpt });\n    };\n    var childAt = function (index) {\n      return Composing.config({\n        find: function (comp) {\n          return child(comp.element(), index).bind(function (element) {\n            return comp.getSystem().getByDom(element).toOption();\n          });\n        }\n      });\n    };\n    var ComposingConfigs = {\n      self: self$1,\n      memento: memento,\n      childAt: childAt\n    };\n\n    var english = {\n      'colorcustom.rgb.red.label': 'R',\n      'colorcustom.rgb.red.description': 'Red component',\n      'colorcustom.rgb.green.label': 'G',\n      'colorcustom.rgb.green.description': 'Green component',\n      'colorcustom.rgb.blue.label': 'B',\n      'colorcustom.rgb.blue.description': 'Blue component',\n      'colorcustom.rgb.hex.label': '#',\n      'colorcustom.rgb.hex.description': 'Hex color code',\n      'colorcustom.rgb.range': 'Range 0 to 255',\n      'colorcustom.sb.saturation': 'Saturation',\n      'colorcustom.sb.brightness': 'Brightness',\n      'colorcustom.sb.picker': 'Saturation and Brightness Picker',\n      'colorcustom.sb.palette': 'Saturation and Brightness Palette',\n      'colorcustom.sb.instructions': 'Use arrow keys to select saturation and brightness, on x and y axes',\n      'colorcustom.hue.hue': 'Hue',\n      'colorcustom.hue.slider': 'Hue Slider',\n      'colorcustom.hue.palette': 'Hue Palette',\n      'colorcustom.hue.instructions': 'Use arrow keys to select a hue',\n      'aria.color.picker': 'Color Picker',\n      'aria.input.invalid': 'Invalid input'\n    };\n    var getEnglishText = function (key) {\n      return english[key];\n    };\n    var translate$1 = function (key) {\n      return getEnglishText(key);\n    };\n    var renderColorPicker = function (spec) {\n      var getClass = function (key) {\n        return 'tox-' + key;\n      };\n      var colourPickerFactory = ColourPicker.makeFactory(translate$1, getClass);\n      var onValidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: true\n        });\n      };\n      var onInvalidHex = function (form) {\n        emitWith(form, formActionEvent, {\n          name: 'hex-valid',\n          value: false\n        });\n      };\n      var memPicker = record(colourPickerFactory.sketch({\n        dom: {\n          tag: 'div',\n          classes: [getClass('color-picker-container')],\n          attributes: { role: 'presentation' }\n        },\n        onValidHex: onValidHex,\n        onInvalidHex: onInvalidHex\n      }));\n      return {\n        dom: { tag: 'div' },\n        components: [memPicker.asSpec()],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                var optHex = optRgbForm.bind(function (rgbForm) {\n                  var formValues = Representing.getValue(rgbForm);\n                  return formValues.hex;\n                });\n                return optHex.map(function (hex) {\n                  return '#' + hex;\n                }).getOr('');\n              },\n              setValue: function (comp, newValue) {\n                var pattern = /^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/;\n                var m = pattern.exec(newValue);\n                var picker = memPicker.get(comp);\n                var optRgbForm = Composing.getCurrent(picker);\n                optRgbForm.fold(function () {\n                  domGlobals.console.log('Can not find form');\n                }, function (rgbForm) {\n                  Representing.setValue(rgbForm, { hex: Option.from(m[1]).getOr('') });\n                  Form.getField(rgbForm, 'hex').each(function (hexField) {\n                    emit(hexField, input());\n                  });\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var global$a = tinymce.util.Tools.resolve('tinymce.Resource');\n\n    var isOldCustomEditor = function (spec) {\n      return Object.prototype.hasOwnProperty.call(spec, 'init');\n    };\n    var renderCustomEditor = function (spec) {\n      var editorApi = Cell(Option.none());\n      var memReplaced = record({ dom: { tag: spec.tag } });\n      var initialValue = Cell(Option.none());\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-custom-editor']\n        },\n        behaviours: derive$1([\n          config('editor-foo-events', [runOnAttached(function (component) {\n              memReplaced.getOpt(component).each(function (ta) {\n                (isOldCustomEditor(spec) ? spec.init(ta.element().dom()) : global$a.load(spec.scriptId, spec.scriptUrl).then(function (init) {\n                  return init(ta.element().dom(), spec.settings);\n                })).then(function (ea) {\n                  initialValue.get().each(function (cvalue) {\n                    ea.setValue(cvalue);\n                  });\n                  initialValue.set(Option.none());\n                  editorApi.set(Option.some(ea));\n                });\n              });\n            })]),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return editorApi.get().fold(function () {\n                  return initialValue.get().getOr('');\n                }, function (ed) {\n                  return ed.getValue();\n                });\n              },\n              setValue: function (component, value) {\n                editorApi.get().fold(function () {\n                  initialValue.set(Option.some(value));\n                }, function (ed) {\n                  return ed.setValue(value);\n                });\n              }\n            }\n          }),\n          ComposingConfigs.self()\n        ]),\n        components: [memReplaced.asSpec()]\n      };\n    };\n\n    var processors = objOf([\n      defaulted$1('preprocess', identity),\n      defaulted$1('postprocess', identity)\n    ]);\n    var memento$1 = function (mem, rawProcessors) {\n      var ps = asRawOrDie('RepresentingConfigs.memento processors', processors, rawProcessors);\n      return Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var other = mem.get(comp);\n            var rawValue = Representing.getValue(other);\n            return ps.postprocess(rawValue);\n          },\n          setValue: function (comp, rawValue) {\n            var newValue = ps.preprocess(rawValue);\n            var other = mem.get(comp);\n            Representing.setValue(other, newValue);\n          }\n        }\n      });\n    };\n    var withComp = function (optInitialValue, getter, setter) {\n      return Representing.config(deepMerge({\n        store: {\n          mode: 'manual',\n          getValue: getter,\n          setValue: setter\n        }\n      }, optInitialValue.map(function (initialValue) {\n        return { store: { initialValue: initialValue } };\n      }).getOr({})));\n    };\n    var withElement = function (initialValue, getter, setter) {\n      return withComp(initialValue, function (c) {\n        return getter(c.element());\n      }, function (c, v) {\n        return setter(c.element(), v);\n      });\n    };\n    var domValue = function (optInitialValue) {\n      return withElement(optInitialValue, get$5, set$3);\n    };\n    var domHtml = function (optInitialValue) {\n      return withElement(optInitialValue, get$1, set);\n    };\n    var memory$1 = function (initialValue) {\n      return Representing.config({\n        store: {\n          mode: 'memory',\n          initialValue: initialValue\n        }\n      });\n    };\n    var RepresentingConfigs = {\n      memento: memento$1,\n      withElement: withElement,\n      withComp: withComp,\n      domValue: domValue,\n      domHtml: domHtml,\n      memory: memory$1\n    };\n\n    var extensionsAccepted = '.jpg,.jpeg,.png,.gif';\n    var filterByExtension = function (files) {\n      var re = new RegExp('(' + extensionsAccepted.split(/\\s*,\\s*/).join('|') + ')$', 'i');\n      return filter(from$1(files), function (file) {\n        return re.test(file.name);\n      });\n    };\n    var renderDropZone = function (spec, providersBackstage) {\n      var stopper = function (_, se) {\n        se.stop();\n      };\n      var sequence = function (actions) {\n        return function (comp, se) {\n          each(actions, function (a) {\n            a(comp, se);\n          });\n        };\n      };\n      var onDrop = function (comp, se) {\n        if (!Disabling.isDisabled(comp)) {\n          var transferEvent = se.event().raw();\n          handleFiles(comp, transferEvent.dataTransfer.files);\n        }\n      };\n      var onSelect = function (component, simulatedEvent) {\n        var files = simulatedEvent.event().raw().target.files;\n        handleFiles(component, files);\n      };\n      var handleFiles = function (component, files) {\n        Representing.setValue(component, filterByExtension(files));\n        emitWith(component, formChangeEvent, { name: spec.name });\n      };\n      var memInput = record({\n        dom: {\n          tag: 'input',\n          attributes: {\n            type: 'file',\n            accept: 'image/*'\n          },\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([config('input-file-events', [cutter(tapOrClick())])])\n      });\n      var renderField = function (s) {\n        return {\n          uid: s.uid,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dropzone-container']\n          },\n          behaviours: derive$1([\n            RepresentingConfigs.memory([]),\n            ComposingConfigs.self(),\n            Disabling.config({}),\n            Toggling.config({\n              toggleClass: 'dragenter',\n              toggleOnExecute: false\n            }),\n            config('dropzone-events', [\n              run('dragenter', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run('dragleave', sequence([\n                stopper,\n                Toggling.toggle\n              ])),\n              run('dragover', stopper),\n              run('drop', sequence([\n                stopper,\n                onDrop\n              ])),\n              run(change(), onSelect)\n            ])\n          ]),\n          components: [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-dropzone'],\n                styles: {}\n              },\n              components: [\n                {\n                  dom: {\n                    tag: 'p',\n                    innerHtml: providersBackstage.translate('Drop an image here')\n                  }\n                },\n                Button.sketch({\n                  dom: {\n                    tag: 'button',\n                    innerHtml: providersBackstage.translate('Browse for an image'),\n                    styles: { position: 'relative' },\n                    classes: [\n                      'tox-button',\n                      'tox-button--secondary'\n                    ]\n                  },\n                  components: [memInput.asSpec()],\n                  action: function (comp) {\n                    var inputComp = memInput.get(comp);\n                    inputComp.element().dom().click();\n                  },\n                  buttonBehaviours: derive$1([Tabstopping.config({})])\n                })\n              ]\n            }]\n        };\n      };\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var pField = FormField.parts().field({ factory: { sketch: renderField } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    var renderGrid = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-form__grid',\n            'tox-form__grid--' + spec.columns + 'col'\n          ]\n        },\n        components: map(spec.items, backstage.interpreter)\n      };\n    };\n\n    var beforeObject = generate$1('alloy-fake-before-tabstop');\n    var afterObject = generate$1('alloy-fake-after-tabstop');\n    var craftWithClasses = function (classes) {\n      return {\n        dom: {\n          tag: 'div',\n          styles: {\n            width: '1px',\n            height: '1px',\n            outline: 'none'\n          },\n          attributes: { tabindex: '0' },\n          classes: classes\n        },\n        behaviours: derive$1([\n          Focusing.config({ ignore: true }),\n          Tabstopping.config({})\n        ])\n      };\n    };\n    var craft = function (spec) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-navobj']\n        },\n        components: [\n          craftWithClasses([beforeObject]),\n          spec,\n          craftWithClasses([afterObject])\n        ],\n        behaviours: derive$1([ComposingConfigs.childAt(1)])\n      };\n    };\n    var triggerTab = function (placeholder, shiftKey) {\n      emitWith(placeholder, keydown(), {\n        raw: {\n          which: 9,\n          shiftKey: shiftKey\n        }\n      });\n    };\n    var onFocus$1 = function (container, targetComp) {\n      var target = targetComp.element();\n      if (has$2(target, beforeObject)) {\n        triggerTab(container, true);\n      } else if (has$2(target, afterObject)) {\n        triggerTab(container, false);\n      }\n    };\n    var isPseudoStop = function (element) {\n      return closest$4(element, [\n        '.' + beforeObject,\n        '.' + afterObject\n      ].join(','), constant(false));\n    };\n    var NavigableObject = {\n      isPseudoStop: isPseudoStop,\n      onFocus: onFocus$1,\n      craft: craft\n    };\n\n    var platformNeedsSandboxing = !(detect$3().browser.isIE() || detect$3().browser.isEdge());\n    var getDynamicSource = function (isSandbox) {\n      var cachedValue = Cell('');\n      return {\n        getValue: function (frameComponent) {\n          return cachedValue.get();\n        },\n        setValue: function (frameComponent, html) {\n          if (!isSandbox) {\n            set$1(frameComponent.element(), 'src', 'javascript:\\'\\'');\n            var doc = frameComponent.element().dom().contentWindow.document;\n            doc.open();\n            doc.write(html);\n            doc.close();\n          } else {\n            set$1(frameComponent.element(), 'srcdoc', html);\n          }\n          cachedValue.set(html);\n        }\n      };\n    };\n    var renderIFrame = function (spec, providersBackstage) {\n      var isSandbox = platformNeedsSandboxing && spec.sandboxed;\n      var attributes = __assign(__assign({}, spec.label.map(function (title) {\n        return { title: title };\n      }).getOr({})), isSandbox ? { sandbox: 'allow-scripts allow-same-origin' } : {});\n      var sourcing = getDynamicSource(isSandbox);\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var factory = function (newSpec) {\n        return NavigableObject.craft({\n          uid: newSpec.uid,\n          dom: {\n            tag: 'iframe',\n            attributes: attributes\n          },\n          behaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({}),\n            RepresentingConfigs.withComp(Option.none(), sourcing.getValue, sourcing.setValue)\n          ])\n        });\n      };\n      var pField = FormField.parts().field({ factory: { sketch: factory } });\n      return renderFormFieldWith(pLabel, pField, ['tox-form__group--stretched'], []);\n    };\n\n    function create$5(width, height) {\n      return resize(domGlobals.document.createElement('canvas'), width, height);\n    }\n    function clone$1(canvas) {\n      var tCanvas = create$5(canvas.width, canvas.height);\n      var ctx = get2dContext(tCanvas);\n      ctx.drawImage(canvas, 0, 0);\n      return tCanvas;\n    }\n    function get2dContext(canvas) {\n      return canvas.getContext('2d');\n    }\n    function resize(canvas, width, height) {\n      canvas.width = width;\n      canvas.height = height;\n      return canvas;\n    }\n\n    function getWidth(image) {\n      return image.naturalWidth || image.width;\n    }\n    function getHeight(image) {\n      return image.naturalHeight || image.height;\n    }\n\n    var promise = function () {\n      var Promise = function (fn) {\n        if (typeof this !== 'object') {\n          throw new TypeError('Promises must be constructed via new');\n        }\n        if (typeof fn !== 'function') {\n          throw new TypeError('not a function');\n        }\n        this._state = null;\n        this._value = null;\n        this._deferreds = [];\n        doResolve(fn, bind(resolve, this), bind(reject, this));\n      };\n      var asap = Promise.immediateFn || typeof window.setImmediate === 'function' && window.setImmediate || function (fn) {\n        domGlobals.setTimeout(fn, 1);\n      };\n      function bind(fn, thisArg) {\n        return function () {\n          return fn.apply(thisArg, arguments);\n        };\n      }\n      var isArray = Array.isArray || function (value) {\n        return Object.prototype.toString.call(value) === '[object Array]';\n      };\n      function handle(deferred) {\n        var me = this;\n        if (this._state === null) {\n          this._deferreds.push(deferred);\n          return;\n        }\n        asap(function () {\n          var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n          if (cb === null) {\n            (me._state ? deferred.resolve : deferred.reject)(me._value);\n            return;\n          }\n          var ret;\n          try {\n            ret = cb(me._value);\n          } catch (e) {\n            deferred.reject(e);\n            return;\n          }\n          deferred.resolve(ret);\n        });\n      }\n      function resolve(newValue) {\n        try {\n          if (newValue === this) {\n            throw new TypeError('A promise cannot be resolved with itself.');\n          }\n          if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (typeof then === 'function') {\n              doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n              return;\n            }\n          }\n          this._state = true;\n          this._value = newValue;\n          finale.call(this);\n        } catch (e) {\n          reject.call(this, e);\n        }\n      }\n      function reject(newValue) {\n        this._state = false;\n        this._value = newValue;\n        finale.call(this);\n      }\n      function finale() {\n        for (var _i = 0, _a = this._deferreds; _i < _a.length; _i++) {\n          var deferred = _a[_i];\n          handle.call(this, deferred);\n        }\n        this._deferreds = [];\n      }\n      function Handler(onFulfilled, onRejected, resolve, reject) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n      }\n      function doResolve(fn, onFulfilled, onRejected) {\n        var done = false;\n        try {\n          fn(function (value) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onFulfilled(value);\n          }, function (reason) {\n            if (done) {\n              return;\n            }\n            done = true;\n            onRejected(reason);\n          });\n        } catch (ex) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(ex);\n        }\n      }\n      Promise.prototype.catch = function (onRejected) {\n        return this.then(null, onRejected);\n      };\n      Promise.prototype.then = function (onFulfilled, onRejected) {\n        var me = this;\n        return new Promise(function (resolve, reject) {\n          handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n        });\n      };\n      Promise.all = function () {\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n        var args = Array.prototype.slice.call(values.length === 1 && isArray(values[0]) ? values[0] : values);\n        return new Promise(function (resolve, reject) {\n          if (args.length === 0) {\n            return resolve([]);\n          }\n          var remaining = args.length;\n          function res(i, val) {\n            try {\n              if (val && (typeof val === 'object' || typeof val === 'function')) {\n                var then = val.then;\n                if (typeof then === 'function') {\n                  then.call(val, function (val) {\n                    res(i, val);\n                  }, reject);\n                  return;\n                }\n              }\n              args[i] = val;\n              if (--remaining === 0) {\n                resolve(args);\n              }\n            } catch (ex) {\n              reject(ex);\n            }\n          }\n          for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n          }\n        });\n      };\n      Promise.resolve = function (value) {\n        if (value && typeof value === 'object' && value.constructor === Promise) {\n          return value;\n        }\n        return new Promise(function (resolve) {\n          resolve(value);\n        });\n      };\n      Promise.reject = function (reason) {\n        return new Promise(function (resolve, reject) {\n          reject(reason);\n        });\n      };\n      Promise.race = function (values) {\n        return new Promise(function (resolve, reject) {\n          for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n            var value = values_1[_i];\n            value.then(resolve, reject);\n          }\n        });\n      };\n      return Promise;\n    };\n    var Promise$1 = window.Promise ? window.Promise : promise();\n\n    function blobToImage(blob) {\n      return new Promise$1(function (resolve, reject) {\n        var blobUrl = domGlobals.URL.createObjectURL(blob);\n        var image = new domGlobals.Image();\n        var removeListeners = function () {\n          image.removeEventListener('load', loaded);\n          image.removeEventListener('error', error);\n        };\n        function loaded() {\n          removeListeners();\n          resolve(image);\n        }\n        function error() {\n          removeListeners();\n          reject('Unable to load data of type ' + blob.type + ': ' + blobUrl);\n        }\n        image.addEventListener('load', loaded);\n        image.addEventListener('error', error);\n        image.src = blobUrl;\n        if (image.complete) {\n          loaded();\n        }\n      });\n    }\n    function dataUriToBlobSync(uri) {\n      var data = uri.split(',');\n      var matches = /data:([^;]+)/.exec(data[0]);\n      if (!matches) {\n        return Option.none();\n      }\n      var mimetype = matches[1];\n      var base64 = data[1];\n      var sliceSize = 1024;\n      var byteCharacters = domGlobals.atob(base64);\n      var bytesLength = byteCharacters.length;\n      var slicesCount = Math.ceil(bytesLength / sliceSize);\n      var byteArrays = new Array(slicesCount);\n      for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n        var begin = sliceIndex * sliceSize;\n        var end = Math.min(begin + sliceSize, bytesLength);\n        var bytes = new Array(end - begin);\n        for (var offset = begin, i = 0; offset < end; ++i, ++offset) {\n          bytes[i] = byteCharacters[offset].charCodeAt(0);\n        }\n        byteArrays[sliceIndex] = new Uint8Array(bytes);\n      }\n      return Option.some(new domGlobals.Blob(byteArrays, { type: mimetype }));\n    }\n    function dataUriToBlob(uri) {\n      return new Promise$1(function (resolve, reject) {\n        dataUriToBlobSync(uri).fold(function () {\n          reject('uri is not base64: ' + uri);\n        }, resolve);\n      });\n    }\n    function canvasToBlob(canvas, type, quality) {\n      type = type || 'image/png';\n      if (domGlobals.HTMLCanvasElement.prototype.toBlob) {\n        return new Promise$1(function (resolve, reject) {\n          canvas.toBlob(function (blob) {\n            if (blob) {\n              resolve(blob);\n            } else {\n              reject();\n            }\n          }, type, quality);\n        });\n      } else {\n        return dataUriToBlob(canvas.toDataURL(type, quality));\n      }\n    }\n    function canvasToDataURL(canvas, type, quality) {\n      type = type || 'image/png';\n      return canvas.toDataURL(type, quality);\n    }\n    function blobToCanvas(blob) {\n      return blobToImage(blob).then(function (image) {\n        revokeImageUrl(image);\n        var canvas = create$5(getWidth(image), getHeight(image));\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0);\n        return canvas;\n      });\n    }\n    function blobToDataUri(blob) {\n      return new Promise$1(function (resolve) {\n        var reader = new domGlobals.FileReader();\n        reader.onloadend = function () {\n          resolve(reader.result);\n        };\n        reader.readAsDataURL(blob);\n      });\n    }\n    function revokeImageUrl(image) {\n      domGlobals.URL.revokeObjectURL(image.src);\n    }\n\n    function create$6(getCanvas, blob, uri) {\n      var initialType = blob.type;\n      var getType = constant(initialType);\n      function toBlob() {\n        return Promise$1.resolve(blob);\n      }\n      function toDataURL() {\n        return uri;\n      }\n      function toBase64() {\n        return uri.split(',')[1];\n      }\n      function toAdjustedBlob(type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToBlob(canvas, type, quality);\n        });\n      }\n      function toAdjustedDataURL(type, quality) {\n        return getCanvas.then(function (canvas) {\n          return canvasToDataURL(canvas, type, quality);\n        });\n      }\n      function toAdjustedBase64(type, quality) {\n        return toAdjustedDataURL(type, quality).then(function (dataurl) {\n          return dataurl.split(',')[1];\n        });\n      }\n      function toCanvas() {\n        return getCanvas.then(clone$1);\n      }\n      return {\n        getType: getType,\n        toBlob: toBlob,\n        toDataURL: toDataURL,\n        toBase64: toBase64,\n        toAdjustedBlob: toAdjustedBlob,\n        toAdjustedDataURL: toAdjustedDataURL,\n        toAdjustedBase64: toAdjustedBase64,\n        toCanvas: toCanvas\n      };\n    }\n    function fromBlob(blob) {\n      return blobToDataUri(blob).then(function (uri) {\n        return create$6(blobToCanvas(blob), blob, uri);\n      });\n    }\n    function fromCanvas(canvas, type) {\n      return canvasToBlob(canvas, type).then(function (blob) {\n        return create$6(Promise$1.resolve(canvas), blob, canvas.toDataURL());\n      });\n    }\n\n    var blobToImageResult = function (blob) {\n      return fromBlob(blob);\n    };\n\n    function clamp(value, min, max) {\n      var parsedValue = typeof value === 'string' ? parseFloat(value) : value;\n      if (parsedValue > max) {\n        parsedValue = max;\n      } else if (parsedValue < min) {\n        parsedValue = min;\n      }\n      return parsedValue;\n    }\n    function identity$1() {\n      return [\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ];\n    }\n    var DELTA_INDEX = [\n      0,\n      0.01,\n      0.02,\n      0.04,\n      0.05,\n      0.06,\n      0.07,\n      0.08,\n      0.1,\n      0.11,\n      0.12,\n      0.14,\n      0.15,\n      0.16,\n      0.17,\n      0.18,\n      0.2,\n      0.21,\n      0.22,\n      0.24,\n      0.25,\n      0.27,\n      0.28,\n      0.3,\n      0.32,\n      0.34,\n      0.36,\n      0.38,\n      0.4,\n      0.42,\n      0.44,\n      0.46,\n      0.48,\n      0.5,\n      0.53,\n      0.56,\n      0.59,\n      0.62,\n      0.65,\n      0.68,\n      0.71,\n      0.74,\n      0.77,\n      0.8,\n      0.83,\n      0.86,\n      0.89,\n      0.92,\n      0.95,\n      0.98,\n      1,\n      1.06,\n      1.12,\n      1.18,\n      1.24,\n      1.3,\n      1.36,\n      1.42,\n      1.48,\n      1.54,\n      1.6,\n      1.66,\n      1.72,\n      1.78,\n      1.84,\n      1.9,\n      1.96,\n      2,\n      2.12,\n      2.25,\n      2.37,\n      2.5,\n      2.62,\n      2.75,\n      2.87,\n      3,\n      3.2,\n      3.4,\n      3.6,\n      3.8,\n      4,\n      4.3,\n      4.7,\n      4.9,\n      5,\n      5.5,\n      6,\n      6.5,\n      6.8,\n      7,\n      7.3,\n      7.5,\n      7.8,\n      8,\n      8.4,\n      8.7,\n      9,\n      9.4,\n      9.6,\n      9.8,\n      10\n    ];\n    function multiply(matrix1, matrix2) {\n      var col = [];\n      var out = new Array(25);\n      var val;\n      for (var i = 0; i < 5; i++) {\n        for (var j = 0; j < 5; j++) {\n          col[j] = matrix2[j + i * 5];\n        }\n        for (var j = 0; j < 5; j++) {\n          val = 0;\n          for (var k = 0; k < 5; k++) {\n            val += matrix1[j + k * 5] * col[k];\n          }\n          out[j + i * 5] = val;\n        }\n      }\n      return out;\n    }\n    function adjustContrast(matrix, value) {\n      var x;\n      value = clamp(value, -1, 1);\n      value *= 100;\n      if (value < 0) {\n        x = 127 + value / 100 * 127;\n      } else {\n        x = value % 1;\n        if (x === 0) {\n          x = DELTA_INDEX[value];\n        } else {\n          x = DELTA_INDEX[Math.floor(value)] * (1 - x) + DELTA_INDEX[Math.floor(value) + 1] * x;\n        }\n        x = x * 127 + 127;\n      }\n      return multiply(matrix, [\n        x / 127,\n        0,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        x / 127,\n        0,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        x / 127,\n        0,\n        0.5 * (127 - x),\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustBrightness(matrix, value) {\n      value = clamp(255 * value, -255, 255);\n      return multiply(matrix, [\n        1,\n        0,\n        0,\n        0,\n        value,\n        0,\n        1,\n        0,\n        0,\n        value,\n        0,\n        0,\n        1,\n        0,\n        value,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n    function adjustColors(matrix, adjustR, adjustG, adjustB) {\n      adjustR = clamp(adjustR, 0, 2);\n      adjustG = clamp(adjustG, 0, 2);\n      adjustB = clamp(adjustB, 0, 2);\n      return multiply(matrix, [\n        adjustR,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustG,\n        0,\n        0,\n        0,\n        0,\n        0,\n        adjustB,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n    }\n\n    function colorFilter(ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyColorFilter(canvas, ir.getType(), matrix);\n      });\n    }\n    function applyColorFilter(canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      function applyMatrix(pixelsData, m) {\n        var r, g, b, a;\n        var data = pixelsData.data, m0 = m[0], m1 = m[1], m2 = m[2], m3 = m[3], m4 = m[4], m5 = m[5], m6 = m[6], m7 = m[7], m8 = m[8], m9 = m[9], m10 = m[10], m11 = m[11], m12 = m[12], m13 = m[13], m14 = m[14], m15 = m[15], m16 = m[16], m17 = m[17], m18 = m[18], m19 = m[19];\n        for (var i = 0; i < data.length; i += 4) {\n          r = data[i];\n          g = data[i + 1];\n          b = data[i + 2];\n          a = data[i + 3];\n          data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4;\n          data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9;\n          data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14;\n          data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19;\n        }\n        return pixelsData;\n      }\n      var pixels = applyMatrix(context.getImageData(0, 0, canvas.width, canvas.height), matrix);\n      context.putImageData(pixels, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function convoluteFilter(ir, matrix) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyConvoluteFilter(canvas, ir.getType(), matrix);\n      });\n    }\n    function applyConvoluteFilter(canvas, type, matrix) {\n      var context = get2dContext(canvas);\n      function applyMatrix(pIn, pOut, aMatrix) {\n        function clamp(value, min, max) {\n          if (value > max) {\n            value = max;\n          } else if (value < min) {\n            value = min;\n          }\n          return value;\n        }\n        var side = Math.round(Math.sqrt(aMatrix.length));\n        var halfSide = Math.floor(side / 2);\n        var rgba = pIn.data;\n        var drgba = pOut.data;\n        var w = pIn.width;\n        var h = pIn.height;\n        for (var y = 0; y < h; y++) {\n          for (var x = 0; x < w; x++) {\n            var r = 0;\n            var g = 0;\n            var b = 0;\n            for (var cy = 0; cy < side; cy++) {\n              for (var cx = 0; cx < side; cx++) {\n                var scx = clamp(x + cx - halfSide, 0, w - 1);\n                var scy = clamp(y + cy - halfSide, 0, h - 1);\n                var innerOffset = (scy * w + scx) * 4;\n                var wt = aMatrix[cy * side + cx];\n                r += rgba[innerOffset] * wt;\n                g += rgba[innerOffset + 1] * wt;\n                b += rgba[innerOffset + 2] * wt;\n              }\n            }\n            var offset = (y * w + x) * 4;\n            drgba[offset] = clamp(r, 0, 255);\n            drgba[offset + 1] = clamp(g, 0, 255);\n            drgba[offset + 2] = clamp(b, 0, 255);\n          }\n        }\n        return pOut;\n      }\n      var pixelsIn = context.getImageData(0, 0, canvas.width, canvas.height);\n      var pixelsOut = context.getImageData(0, 0, canvas.width, canvas.height);\n      pixelsOut = applyMatrix(pixelsIn, pixelsOut, matrix);\n      context.putImageData(pixelsOut, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function functionColorFilter(colorFn) {\n      var filterImpl = function (canvas, type, value) {\n        var context = get2dContext(canvas);\n        var lookup = new Array(256);\n        function applyLookup(pixelsData, lookupData) {\n          var data = pixelsData.data;\n          for (var i = 0; i < data.length; i += 4) {\n            data[i] = lookupData[data[i]];\n            data[i + 1] = lookupData[data[i + 1]];\n            data[i + 2] = lookupData[data[i + 2]];\n          }\n          return pixelsData;\n        }\n        for (var i = 0; i < lookup.length; i++) {\n          lookup[i] = colorFn(i, value);\n        }\n        var pixels = applyLookup(context.getImageData(0, 0, canvas.width, canvas.height), lookup);\n        context.putImageData(pixels, 0, 0);\n        return fromCanvas(canvas, type);\n      };\n      return function (ir, value) {\n        return ir.toCanvas().then(function (canvas) {\n          return filterImpl(canvas, ir.getType(), value);\n        });\n      };\n    }\n    function complexAdjustableColorFilter(matrixAdjustFn) {\n      return function (ir, adjust) {\n        return colorFilter(ir, matrixAdjustFn(identity$1(), adjust));\n      };\n    }\n    function basicColorFilter(matrix) {\n      return function (ir) {\n        return colorFilter(ir, matrix);\n      };\n    }\n    function basicConvolutionFilter(kernel) {\n      return function (ir) {\n        return convoluteFilter(ir, kernel);\n      };\n    }\n    var invert = basicColorFilter([\n      -1,\n      0,\n      0,\n      0,\n      255,\n      0,\n      -1,\n      0,\n      0,\n      255,\n      0,\n      0,\n      -1,\n      0,\n      255,\n      0,\n      0,\n      0,\n      1,\n      0,\n      0,\n      0,\n      0,\n      0,\n      1\n    ]);\n    var brightness = complexAdjustableColorFilter(adjustBrightness);\n    var contrast = complexAdjustableColorFilter(adjustContrast);\n    var colorize = function (ir, adjustR, adjustG, adjustB) {\n      return colorFilter(ir, adjustColors(identity$1(), adjustR, adjustG, adjustB));\n    };\n    var sharpen = basicConvolutionFilter([\n      0,\n      -1,\n      0,\n      -1,\n      5,\n      -1,\n      0,\n      -1,\n      0\n    ]);\n    var gamma = functionColorFilter(function (color, value) {\n      return Math.pow(color / 255, 1 - value) * 255;\n    });\n\n    function scale(image, dW, dH) {\n      var sW = getWidth(image);\n      var sH = getHeight(image);\n      var wRatio = dW / sW;\n      var hRatio = dH / sH;\n      var scaleCapped = false;\n      if (wRatio < 0.5 || wRatio > 2) {\n        wRatio = wRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      if (hRatio < 0.5 || hRatio > 2) {\n        hRatio = hRatio < 0.5 ? 0.5 : 2;\n        scaleCapped = true;\n      }\n      var scaled = _scale(image, wRatio, hRatio);\n      return !scaleCapped ? scaled : scaled.then(function (tCanvas) {\n        return scale(tCanvas, dW, dH);\n      });\n    }\n    function _scale(image, wRatio, hRatio) {\n      return new Promise$1(function (resolve) {\n        var sW = getWidth(image);\n        var sH = getHeight(image);\n        var dW = Math.floor(sW * wRatio);\n        var dH = Math.floor(sH * hRatio);\n        var canvas = create$5(dW, dH);\n        var context = get2dContext(canvas);\n        context.drawImage(image, 0, 0, sW, sH, 0, 0, dW, dH);\n        resolve(canvas);\n      });\n    }\n\n    function rotate(ir, angle) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyRotate(canvas, ir.getType(), angle);\n      });\n    }\n    function applyRotate(image, type, angle) {\n      var canvas = create$5(image.width, image.height);\n      var context = get2dContext(canvas);\n      var translateX = 0;\n      var translateY = 0;\n      angle = angle < 0 ? 360 + angle : angle;\n      if (angle === 90 || angle === 270) {\n        resize(canvas, canvas.height, canvas.width);\n      }\n      if (angle === 90 || angle === 180) {\n        translateX = canvas.width;\n      }\n      if (angle === 270 || angle === 180) {\n        translateY = canvas.height;\n      }\n      context.translate(translateX, translateY);\n      context.rotate(angle * Math.PI / 180);\n      context.drawImage(image, 0, 0);\n      return fromCanvas(canvas, type);\n    }\n    function flip(ir, axis) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyFlip(canvas, ir.getType(), axis);\n      });\n    }\n    function applyFlip(image, type, axis) {\n      var canvas = create$5(image.width, image.height);\n      var context = get2dContext(canvas);\n      if (axis === 'v') {\n        context.scale(1, -1);\n        context.drawImage(image, 0, -canvas.height);\n      } else {\n        context.scale(-1, 1);\n        context.drawImage(image, -canvas.width, 0);\n      }\n      return fromCanvas(canvas, type);\n    }\n    function crop(ir, x, y, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return applyCrop(canvas, ir.getType(), x, y, w, h);\n      });\n    }\n    function applyCrop(image, type, x, y, w, h) {\n      var canvas = create$5(w, h);\n      var context = get2dContext(canvas);\n      context.drawImage(image, -x, -y);\n      return fromCanvas(canvas, type);\n    }\n    function resize$1(ir, w, h) {\n      return ir.toCanvas().then(function (canvas) {\n        return scale(canvas, w, h).then(function (newCanvas) {\n          return fromCanvas(newCanvas, ir.getType());\n        });\n      });\n    }\n\n    var invert$1 = function (ir) {\n      return invert(ir);\n    };\n    var sharpen$1 = function (ir) {\n      return sharpen(ir);\n    };\n    var gamma$1 = function (ir, value) {\n      return gamma(ir, value);\n    };\n    var colorize$1 = function (ir, adjustR, adjustG, adjustB) {\n      return colorize(ir, adjustR, adjustG, adjustB);\n    };\n    var brightness$1 = function (ir, adjust) {\n      return brightness(ir, adjust);\n    };\n    var contrast$1 = function (ir, adjust) {\n      return contrast(ir, adjust);\n    };\n    var flip$1 = function (ir, axis) {\n      return flip(ir, axis);\n    };\n    var crop$1 = function (ir, x, y, w, h) {\n      return crop(ir, x, y, w, h);\n    };\n    var resize$2 = function (ir, w, h) {\n      return resize$1(ir, w, h);\n    };\n    var rotate$1 = function (ir, angle) {\n      return rotate(ir, angle);\n    };\n\n    var renderIcon$1 = function (iconHtml, behaviours) {\n      return __assign({\n        dom: {\n          tag: 'span',\n          innerHtml: iconHtml,\n          classes: [\n            'tox-icon',\n            'tox-tbtn__icon-wrap'\n          ]\n        }\n      }, behaviours);\n    };\n    var renderIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon$1(get$c(iconName, iconsProvider), {});\n    };\n    var renderReplacableIconFromPack = function (iconName, iconsProvider) {\n      return renderIcon$1(get$c(iconName, iconsProvider), { behaviours: derive$1([Replacing.config({})]) });\n    };\n    var renderLabel$1 = function (text, prefix, providersBackstage) {\n      return {\n        dom: {\n          tag: 'span',\n          innerHtml: providersBackstage.translate(text),\n          classes: [prefix + '__select-label']\n        },\n        behaviours: derive$1([Replacing.config({})])\n      };\n    };\n\n    var internalToolbarButtonExecute = generate$1('toolbar.button.execute');\n    var onToolbarButtonExecute = function (info) {\n      return runOnExecute(function (comp, simulatedEvent) {\n        runWithApi(info, comp)(function (itemApi) {\n          emitWith(comp, internalToolbarButtonExecute, { buttonApi: itemApi });\n          info.onAction(itemApi);\n        });\n      });\n    };\n    var toolbarButtonEventOrder = {\n      'alloy.execute': [\n        'disabling',\n        'alloy.base.behaviour',\n        'toggling',\n        'toolbar-button-events'\n      ]\n    };\n\n    var updateMenuText = generate$1('update-menu-text');\n    var updateMenuIcon = generate$1('update-menu-icon');\n    var renderCommonDropdown = function (spec, prefix, sharedBackstage) {\n      var editorOffCell = Cell(noop);\n      var optMemDisplayText = spec.text.map(function (text) {\n        return record(renderLabel$1(text, prefix, sharedBackstage.providers));\n      });\n      var optMemDisplayIcon = spec.icon.map(function (iconName) {\n        return record(renderReplacableIconFromPack(iconName, sharedBackstage.providers.icons));\n      });\n      var onLeftOrRightInMenu = function (comp, se) {\n        var dropdown = Representing.getValue(comp);\n        Focusing.focus(dropdown);\n        emitWith(dropdown, 'keydown', { raw: se.event().raw() });\n        Dropdown.close(dropdown);\n        return Option.some(true);\n      };\n      var role = spec.role.fold(function () {\n        return {};\n      }, function (role) {\n        return { role: role };\n      });\n      var tooltipAttributes = spec.tooltip.fold(function () {\n        return {};\n      }, function (tooltip) {\n        var translatedTooltip = sharedBackstage.providers.translate(tooltip);\n        return {\n          'title': translatedTooltip,\n          'aria-label': translatedTooltip\n        };\n      });\n      var memDropdown = record(Dropdown.sketch(__assign(__assign({}, role), {\n        dom: {\n          tag: 'button',\n          classes: [\n            prefix,\n            prefix + '--select'\n          ].concat(map(spec.classes, function (c) {\n            return prefix + '--' + c;\n          })),\n          attributes: __assign({}, tooltipAttributes)\n        },\n        components: componentRenderPipeline([\n          optMemDisplayIcon.map(function (mem) {\n            return mem.asSpec();\n          }),\n          optMemDisplayText.map(function (mem) {\n            return mem.asSpec();\n          }),\n          Option.some({\n            dom: {\n              tag: 'div',\n              classes: [prefix + '__select-chevron'],\n              innerHtml: get$c('chevron-down', sharedBackstage.providers.icons)\n            }\n          })\n        ]),\n        matchWidth: true,\n        useMinWidth: true,\n        dropdownBehaviours: derive$1(__spreadArrays(spec.dropdownBehaviours, [\n          DisablingConfigs.button(spec.disabled),\n          Unselecting.config({}),\n          Replacing.config({}),\n          config('dropdown-events', [\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell)\n          ]),\n          config('menubutton-update-display-text', [\n            run(updateMenuText, function (comp, se) {\n              optMemDisplayText.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayText) {\n                Replacing.set(displayText, [text(sharedBackstage.providers.translate(se.event().text()))]);\n              });\n            }),\n            run(updateMenuIcon, function (comp, se) {\n              optMemDisplayIcon.bind(function (mem) {\n                return mem.getOpt(comp);\n              }).each(function (displayIcon) {\n                Replacing.set(displayIcon, [renderReplacableIconFromPack(se.event().icon(), sharedBackstage.providers.icons)]);\n              });\n            })\n          ])\n        ])),\n        eventOrder: deepMerge(toolbarButtonEventOrder, {\n          mousedown: [\n            'focusing',\n            'alloy.base.behaviour',\n            'item-type-events',\n            'normal-dropdown-events'\n          ]\n        }),\n        sandboxBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onLeft: onLeftOrRightInMenu,\n            onRight: onLeftOrRightInMenu\n          })]),\n        lazySink: sharedBackstage.getSink,\n        toggleClass: prefix + '--active',\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        fetch: function () {\n          return Future.nu(spec.fetch);\n        }\n      })));\n      return memDropdown.asSpec();\n    };\n\n    var isMenuItemReference = function (item) {\n      return isString(item);\n    };\n    var isSeparator = function (item) {\n      return item.type === 'separator';\n    };\n    var isExpandingMenuItem = function (item) {\n      return has(item, 'getSubmenuItems');\n    };\n    var separator$1 = { type: 'separator' };\n    var unwrapReferences = function (items, menuItems) {\n      var realItems = foldl(items, function (acc, item) {\n        if (isMenuItemReference(item)) {\n          if (item === '') {\n            return acc;\n          } else if (item === '|') {\n            return acc.length > 0 && !isSeparator(acc[acc.length - 1]) ? acc.concat([separator$1]) : acc;\n          } else if (has(menuItems, item.toLowerCase())) {\n            return acc.concat([menuItems[item.toLowerCase()]]);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([item]);\n        }\n      }, []);\n      if (realItems.length > 0 && isSeparator(realItems[realItems.length - 1])) {\n        realItems.pop();\n      }\n      return realItems;\n    };\n    var getFromExpandingItem = function (item, menuItems) {\n      var submenuItems = item.getSubmenuItems();\n      var rest = expand(submenuItems, menuItems);\n      var newMenus = deepMerge(rest.menus, wrap$1(item.value, rest.items));\n      var newExpansions = deepMerge(rest.expansions, wrap$1(item.value, item.value));\n      return {\n        item: item,\n        menus: newMenus,\n        expansions: newExpansions\n      };\n    };\n    var getFromItem = function (item, menuItems) {\n      return isExpandingMenuItem(item) ? getFromExpandingItem(item, menuItems) : {\n        item: item,\n        menus: {},\n        expansions: {}\n      };\n    };\n    var generateValueIfRequired = function (item) {\n      if (isSeparator(item)) {\n        return item;\n      } else {\n        var itemValue = readOptFrom$1(item, 'value').getOrThunk(function () {\n          return generate$1('generated-menu-item');\n        });\n        return deepMerge({ value: itemValue }, item);\n      }\n    };\n    var expand = function (items, menuItems) {\n      var realItems = unwrapReferences(isString(items) ? items.split(' ') : items, menuItems);\n      return foldr(realItems, function (acc, item) {\n        var itemWithValue = generateValueIfRequired(item);\n        var newData = getFromItem(itemWithValue, menuItems);\n        return {\n          menus: deepMerge(acc.menus, newData.menus),\n          items: [newData.item].concat(acc.items),\n          expansions: deepMerge(acc.expansions, newData.expansions)\n        };\n      }, {\n        menus: {},\n        expansions: {},\n        items: []\n      });\n    };\n\n    var build$2 = function (items, itemResponse, backstage, isHorizontalMenu) {\n      var primary = generate$1('primary-menu');\n      var data = expand(items, backstage.shared.providers.menuItems());\n      if (data.items.length === 0) {\n        return Option.none();\n      }\n      var mainMenu = createPartialMenu(primary, data.items, itemResponse, backstage, isHorizontalMenu);\n      var submenus = map$1(data.menus, function (menuItems, menuName) {\n        return createPartialMenu(menuName, menuItems, itemResponse, backstage, false);\n      });\n      var menus = deepMerge(submenus, wrap$1(primary, mainMenu));\n      return Option.from(tieredMenu.tieredData(primary, menus, data.expansions));\n    };\n\n    var getMenuButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        },\n        setActive: function (state) {\n          var elm = component.element();\n          if (state) {\n            add$2(elm, 'tox-tbtn--enabled');\n            set$1(elm, 'aria-pressed', true);\n          } else {\n            remove$4(elm, 'tox-tbtn--enabled');\n            remove$1(elm, 'aria-pressed');\n          }\n        },\n        isActive: function () {\n          return has$2(component.element(), 'tox-tbtn--enabled');\n        }\n      };\n    };\n    var renderMenuButton = function (spec, prefix, backstage, role) {\n      return renderCommonDropdown({\n        text: spec.text,\n        icon: spec.icon,\n        tooltip: spec.tooltip,\n        role: role,\n        fetch: function (callback) {\n          spec.fetch(function (items) {\n            callback(build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false));\n          });\n        },\n        onSetup: spec.onSetup,\n        getApi: getMenuButtonApi,\n        columns: 1,\n        presets: 'normal',\n        classes: [],\n        dropdownBehaviours: [Tabstopping.config({})]\n      }, prefix, backstage.shared);\n    };\n    var getFetch$1 = function (items, getButton, backstage) {\n      var getMenuItemAction = function (item) {\n        return function (api) {\n          backstage.shared.getSink().each(function (sink) {\n            getButton().getOpt(sink).each(function (orig) {\n              focus$1(orig.element());\n              emitWith(orig, formActionEvent, {\n                name: item.name,\n                value: item.storage.get()\n              });\n            });\n          });\n          var newValue = !api.isActive();\n          api.setActive(newValue);\n          item.storage.set(newValue);\n        };\n      };\n      var getMenuItemSetup = function (item) {\n        return function (api) {\n          api.setActive(item.storage.get());\n        };\n      };\n      return function (success) {\n        success(map(items, function (item) {\n          var text = item.text.fold(function () {\n            return {};\n          }, function (text) {\n            return { text: text };\n          });\n          return __assign(__assign({ type: item.type }, text), {\n            onAction: getMenuItemAction(item),\n            onSetup: getMenuItemSetup(item)\n          });\n        }));\n      };\n    };\n\n    var renderCommonSpec = function (spec, actionOpt, extraBehaviours, dom, components) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var action = actionOpt.fold(function () {\n        return {};\n      }, function (action) {\n        return { action: action };\n      });\n      var common = __assign({\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(spec.disabled),\n          Tabstopping.config({}),\n          config('button press', [\n            preventDefault('click'),\n            preventDefault('mousedown')\n          ])\n        ].concat(extraBehaviours)),\n        eventOrder: {\n          click: [\n            'button press',\n            'alloy.base.behaviour'\n          ],\n          mousedown: [\n            'button press',\n            'alloy.base.behaviour'\n          ]\n        }\n      }, action);\n      var domFinal = deepMerge(common, { dom: dom });\n      return deepMerge(domFinal, { components: components });\n    };\n    var renderIconButtonSpec = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var tooltipAttributes = spec.tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n      var dom = {\n        tag: 'button',\n        classes: ['tox-tbtn'],\n        attributes: tooltipAttributes\n      };\n      var icon = spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      });\n      var components = componentRenderPipeline([icon]);\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components);\n    };\n    var renderIconButton = function (spec, action, providersBackstage, extraBehaviours) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      var iconButtonSpec = renderIconButtonSpec(spec, Option.some(action), providersBackstage, extraBehaviours);\n      return Button.sketch(iconButtonSpec);\n    };\n    var renderButtonSpec = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var translatedText = providersBackstage.translate(spec.text);\n      var icon = spec.icon ? spec.icon.map(function (iconName) {\n        return renderIconFromPack(iconName, providersBackstage.icons);\n      }) : Option.none();\n      var components = icon.isSome() ? componentRenderPipeline([icon]) : [];\n      var innerHtml = icon.isSome() ? {} : { innerHtml: translatedText };\n      var classes = __spreadArrays(!spec.primary && !spec.borderless ? [\n        'tox-button',\n        'tox-button--secondary'\n      ] : ['tox-button'], icon.isSome() ? ['tox-button--icon'] : [], spec.borderless ? ['tox-button--naked'] : [], extraClasses);\n      var dom = __assign(__assign({\n        tag: 'button',\n        classes: classes\n      }, innerHtml), { attributes: { title: translatedText } });\n      return renderCommonSpec(spec, action, extraBehaviours, dom, components);\n    };\n    var renderButton = function (spec, action, providersBackstage, extraBehaviours, extraClasses) {\n      if (extraBehaviours === void 0) {\n        extraBehaviours = [];\n      }\n      if (extraClasses === void 0) {\n        extraClasses = [];\n      }\n      var buttonSpec = renderButtonSpec(spec, Option.some(action), providersBackstage, extraBehaviours, extraClasses);\n      return Button.sketch(buttonSpec);\n    };\n    var getAction = function (name, buttonType) {\n      return function (comp) {\n        if (buttonType === 'custom') {\n          emitWith(comp, formActionEvent, {\n            name: name,\n            value: {}\n          });\n        } else if (buttonType === 'submit') {\n          emit(comp, formSubmitEvent);\n        } else if (buttonType === 'cancel') {\n          emit(comp, formCancelEvent);\n        } else {\n          domGlobals.console.error('Unknown button type: ', buttonType);\n        }\n      };\n    };\n    var isMenuFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'menu';\n    };\n    var isNormalFooterButtonSpec = function (spec, buttonType) {\n      return buttonType === 'custom' || buttonType === 'cancel' || buttonType === 'submit';\n    };\n    var renderFooterButton = function (spec, buttonType, backstage) {\n      if (isMenuFooterButtonSpec(spec, buttonType)) {\n        var getButton = function () {\n          return memButton_1;\n        };\n        var menuButtonSpec = spec;\n        var fixedSpec = __assign(__assign({}, spec), { fetch: getFetch$1(menuButtonSpec.items, getButton, backstage) });\n        var memButton_1 = record(renderMenuButton(fixedSpec, 'tox-tbtn', backstage, Option.none()));\n        return memButton_1.asSpec();\n      } else if (isNormalFooterButtonSpec(spec, buttonType)) {\n        var action = getAction(spec.name, buttonType);\n        var buttonSpec = __assign(__assign({}, spec), { borderless: false });\n        return renderButton(buttonSpec, action, backstage.shared.providers, []);\n      } else {\n        domGlobals.console.error('Unknown footer button type: ', buttonType);\n      }\n    };\n    var renderDialogButton = function (spec, providersBackstage) {\n      var action = getAction(spec.name, 'custom');\n      return renderFormField(Option.none(), FormField.parts().field(__assign({ factory: Button }, renderButtonSpec(spec, Option.some(action), providersBackstage, [\n        RepresentingConfigs.memory(''),\n        ComposingConfigs.self()\n      ]))));\n    };\n\n    var schema$i = constant([\n      defaulted$1('field1Name', 'field1'),\n      defaulted$1('field2Name', 'field2'),\n      onStrictHandler('onLockedChange'),\n      markers(['lockClass']),\n      defaulted$1('locked', false),\n      SketchBehaviours.field('coupledFieldBehaviours', [\n        Composing,\n        Representing\n      ])\n    ]);\n    var getField = function (comp, detail, partName) {\n      return getPart(comp, detail, partName).bind(Composing.getCurrent);\n    };\n    var coupledPart = function (selfName, otherName) {\n      return required({\n        factory: FormField,\n        name: selfName,\n        overrides: function (detail) {\n          return {\n            fieldBehaviours: derive$1([config('coupled-input-behaviour', [run(input(), function (me) {\n                  getField(me, detail, otherName).each(function (other) {\n                    getPart(me, detail, 'lock').each(function (lock) {\n                      if (Toggling.isOn(lock)) {\n                        detail.onLockedChange(me, other, lock);\n                      }\n                    });\n                  });\n                })])])\n          };\n        }\n      });\n    };\n    var parts$5 = constant([\n      coupledPart('field1', 'field2'),\n      coupledPart('field2', 'field1'),\n      required({\n        factory: Button,\n        schema: [strict$1('dom')],\n        name: 'lock',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                selected: detail.locked,\n                toggleClass: detail.markers.lockClass,\n                aria: { mode: 'pressed' }\n              })])\n          };\n        }\n      })\n    ]);\n\n    var factory$7 = function (detail, components, spec, externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: SketchBehaviours.augment(detail.coupledFieldBehaviours, [\n          Composing.config({ find: Option.some }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (comp) {\n                var _a;\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                return _a = {}, _a[detail.field1Name] = Representing.getValue(parts.field1()), _a[detail.field2Name] = Representing.getValue(parts.field2()), _a;\n              },\n              setValue: function (comp, value) {\n                var parts = getPartsOrDie(comp, detail, [\n                  'field1',\n                  'field2'\n                ]);\n                if (hasKey$1(value, detail.field1Name)) {\n                  Representing.setValue(parts.field1(), value[detail.field1Name]);\n                }\n                if (hasKey$1(value, detail.field2Name)) {\n                  Representing.setValue(parts.field2(), value[detail.field2Name]);\n                }\n              }\n            }\n          })\n        ]),\n        apis: {\n          getField1: function (component) {\n            return getPart(component, detail, 'field1');\n          },\n          getField2: function (component) {\n            return getPart(component, detail, 'field2');\n          },\n          getLock: function (component) {\n            return getPart(component, detail, 'lock');\n          }\n        }\n      };\n    };\n    var FormCoupledInputs = composite$1({\n      name: 'FormCoupledInputs',\n      configFields: schema$i(),\n      partFields: parts$5(),\n      factory: factory$7,\n      apis: {\n        getField1: function (apis, component) {\n          return apis.getField1(component);\n        },\n        getField2: function (apis, component) {\n          return apis.getField2(component);\n        },\n        getLock: function (apis, component) {\n          return apis.getLock(component);\n        }\n      }\n    });\n\n    var formatSize = function (size) {\n      var unitDec = {\n        '': 0,\n        'px': 0,\n        'pt': 1,\n        'mm': 1,\n        'pc': 2,\n        'ex': 2,\n        'em': 2,\n        'ch': 2,\n        'rem': 2,\n        'cm': 3,\n        'in': 4,\n        '%': 4\n      };\n      var maxDecimal = function (unit) {\n        return unit in unitDec ? unitDec[unit] : 1;\n      };\n      var numText = size.value.toFixed(maxDecimal(size.unit));\n      if (numText.indexOf('.') !== -1) {\n        numText = numText.replace(/\\.?0*$/, '');\n      }\n      return numText + size.unit;\n    };\n    var parseSize = function (sizeText) {\n      var numPattern = /^\\s*(\\d+(?:\\.\\d+)?)\\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\\s*$/;\n      var match = numPattern.exec(sizeText);\n      if (match !== null) {\n        var value = parseFloat(match[1]);\n        var unit = match[2];\n        return Result.value({\n          value: value,\n          unit: unit\n        });\n      } else {\n        return Result.error(sizeText);\n      }\n    };\n    var convertUnit = function (size, unit) {\n      var inInch = {\n        '': 96,\n        'px': 96,\n        'pt': 72,\n        'cm': 2.54,\n        'pc': 12,\n        'mm': 25.4,\n        'in': 1\n      };\n      var supported = function (u) {\n        return Object.prototype.hasOwnProperty.call(inInch, u);\n      };\n      if (size.unit === unit) {\n        return Option.some(size.value);\n      } else if (supported(size.unit) && supported(unit)) {\n        if (inInch[size.unit] === inInch[unit]) {\n          return Option.some(size.value);\n        } else {\n          return Option.some(size.value / inInch[size.unit] * inInch[unit]);\n        }\n      } else {\n        return Option.none();\n      }\n    };\n    var noSizeConversion = function (input) {\n      return Option.none();\n    };\n    var ratioSizeConversion = function (scale, unit) {\n      return function (size) {\n        return convertUnit(size, unit).map(function (value) {\n          return {\n            value: value * scale,\n            unit: unit\n          };\n        });\n      };\n    };\n    var makeRatioConverter = function (currentFieldText, otherFieldText) {\n      var cValue = parseSize(currentFieldText).toOption();\n      var oValue = parseSize(otherFieldText).toOption();\n      return lift2(cValue, oValue, function (cSize, oSize) {\n        return convertUnit(cSize, oSize.unit).map(function (val) {\n          return oSize.value / val;\n        }).map(function (r) {\n          return ratioSizeConversion(r, oSize.unit);\n        }).getOr(noSizeConversion);\n      }).getOr(noSizeConversion);\n    };\n\n    var renderSizeInput = function (spec, providersBackstage) {\n      var converter = noSizeConversion;\n      var ratioEvent = generate$1('ratio-event');\n      var pLock = FormCoupledInputs.parts().lock({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-lock',\n            'tox-button',\n            'tox-button--naked',\n            'tox-button--icon'\n          ],\n          attributes: { title: providersBackstage.translate(spec.label.getOr('Constrain proportions')) }\n        },\n        components: [\n          {\n            dom: {\n              tag: 'span',\n              classes: [\n                'tox-icon',\n                'tox-lock-icon__lock'\n              ],\n              innerHtml: get$c('lock', providersBackstage.icons)\n            }\n          },\n          {\n            dom: {\n              tag: 'span',\n              classes: [\n                'tox-icon',\n                'tox-lock-icon__unlock'\n              ],\n              innerHtml: get$c('unlock', providersBackstage.icons)\n            }\n          }\n        ],\n        buttonBehaviours: derive$1([\n          DisablingConfigs.button(spec.disabled),\n          Tabstopping.config({})\n        ])\n      });\n      var formGroup = function (components) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group']\n          },\n          components: components\n        };\n      };\n      var getFieldPart = function (isField1) {\n        return FormField.parts().field({\n          factory: Input,\n          inputClasses: ['tox-textfield'],\n          inputBehaviours: derive$1([\n            Disabling.config({ disabled: spec.disabled }),\n            Tabstopping.config({}),\n            config('size-input-events', [\n              run(focusin(), function (component, simulatedEvent) {\n                emitWith(component, ratioEvent, { isField1: isField1 });\n              }),\n              run(change(), function (component, simulatedEvent) {\n                emitWith(component, formChangeEvent, { name: spec.name });\n              })\n            ])\n          ]),\n          selectOnFocus: false\n        });\n      };\n      var getLabel = function (label) {\n        return {\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        };\n      };\n      var widthField = FormCoupledInputs.parts().field1(formGroup([\n        FormField.parts().label(getLabel('Width')),\n        getFieldPart(true)\n      ]));\n      var heightField = FormCoupledInputs.parts().field2(formGroup([\n        FormField.parts().label(getLabel('Height')),\n        getFieldPart(false)\n      ]));\n      return FormCoupledInputs.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-form__controls-h-stack']\n            },\n            components: [\n              widthField,\n              heightField,\n              formGroup([\n                getLabel('&nbsp;'),\n                pLock\n              ])\n            ]\n          }],\n        field1Name: 'width',\n        field2Name: 'height',\n        locked: true,\n        markers: { lockClass: 'tox-locked' },\n        onLockedChange: function (current, other, lock) {\n          parseSize(Representing.getValue(current)).each(function (size) {\n            converter(size).each(function (newSize) {\n              Representing.setValue(other, formatSize(newSize));\n            });\n          });\n        },\n        coupledFieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: spec.disabled,\n            onDisabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.disable);\n              FormCoupledInputs.getLock(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormCoupledInputs.getField1(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getField2(comp).bind(FormField.getField).each(Disabling.enable);\n              FormCoupledInputs.getLock(comp).each(Disabling.enable);\n            }\n          }),\n          config('size-input-events2', [run(ratioEvent, function (component, simulatedEvent) {\n              var isField1 = simulatedEvent.event().isField1();\n              var optCurrent = isField1 ? FormCoupledInputs.getField1(component) : FormCoupledInputs.getField2(component);\n              var optOther = isField1 ? FormCoupledInputs.getField2(component) : FormCoupledInputs.getField1(component);\n              var value1 = optCurrent.map(Representing.getValue).getOr('');\n              var value2 = optOther.map(Representing.getValue).getOr('');\n              converter = makeRatioConverter(value1, value2);\n            })])\n        ])\n      });\n    };\n\n    var undo = constant(generate$1('undo'));\n    var redo = constant(generate$1('redo'));\n    var zoom = constant(generate$1('zoom'));\n    var back = constant(generate$1('back'));\n    var apply = constant(generate$1('apply'));\n    var swap = constant(generate$1('swap'));\n    var transform = constant(generate$1('transform'));\n    var tempTransform = constant(generate$1('temp-transform'));\n    var transformApply = constant(generate$1('transform-apply'));\n    var internal = {\n      undo: undo,\n      redo: redo,\n      zoom: zoom,\n      back: back,\n      apply: apply,\n      swap: swap,\n      transform: transform,\n      tempTransform: tempTransform,\n      transformApply: transformApply\n    };\n    var saveState = constant('save-state');\n    var disable$1 = constant('disable');\n    var enable$1 = constant('enable');\n    var external$2 = {\n      formActionEvent: formActionEvent,\n      saveState: saveState,\n      disable: disable$1,\n      enable: enable$1\n    };\n\n    var renderEditPanel = function (imagePanel, providersBackstage) {\n      var createButton = function (text, action, disabled, primary) {\n        return record(renderButton({\n          name: text,\n          text: text,\n          disabled: disabled,\n          primary: primary,\n          icon: Option.none(),\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var createIconButton = function (icon, tooltip, action, disabled) {\n        return record(renderIconButton({\n          name: icon,\n          icon: Option.some(icon),\n          tooltip: Option.some(tooltip),\n          disabled: disabled,\n          primary: false,\n          borderless: false\n        }, action, providersBackstage));\n      };\n      var disableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.disable(component);\n          }\n        });\n      };\n      var enableAllComponents = function (comps, eventcomp) {\n        comps.map(function (mem) {\n          var component = mem.get(eventcomp);\n          if (component.hasConfigured(Disabling)) {\n            Disabling.enable(component);\n          }\n        });\n      };\n      var panelDom = {\n        tag: 'div',\n        classes: [\n          'tox-image-tools__toolbar',\n          'tox-image-tools-edit-panel'\n        ]\n      };\n      var noop$1 = noop;\n      var emit$1 = function (comp, event, data) {\n        emitWith(comp, event, data);\n      };\n      var emitDisable = function (component) {\n        return emit(component, external$2.disable());\n      };\n      var emitEnable = function (component) {\n        return emit(component, external$2.enable());\n      };\n      var emitTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var emitTempTransform = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.tempTransform(), { transform: transform });\n        emitEnable(comp);\n      };\n      var getBackSwap = function (anyInSystem) {\n        return function () {\n          memContainer.getOpt(anyInSystem).each(function (container) {\n            Replacing.set(container, [ButtonPanel]);\n          });\n        };\n      };\n      var emitTransformApply = function (comp, transform) {\n        emitDisable(comp);\n        emit$1(comp, internal.transformApply(), {\n          transform: transform,\n          swap: getBackSwap(comp)\n        });\n        emitEnable(comp);\n      };\n      var createBackButton = function () {\n        return createButton('Back', function (button) {\n          return emit$1(button, internal.back(), { swap: getBackSwap(button) });\n        }, false, false);\n      };\n      var createSpacer = function () {\n        return record({\n          dom: {\n            tag: 'div',\n            classes: ['tox-spacer']\n          },\n          behaviours: derive$1([Disabling.config({})])\n        });\n      };\n      var createApplyButton = function () {\n        return createButton('Apply', function (button) {\n          return emit$1(button, internal.apply(), { swap: getBackSwap(button) });\n        }, true, true);\n      };\n      var makeCropTransform = function () {\n        return function (ir) {\n          var rect = imagePanel.getRect();\n          return crop$1(ir, rect.x, rect.y, rect.w, rect.h);\n        };\n      };\n      var cropPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createButton('Apply', function (button) {\n          var transform = makeCropTransform();\n          emitTransformApply(button, transform);\n          imagePanel.hideCrop();\n        }, false, true)\n      ];\n      var CropPanel = Container.sketch({\n        dom: panelDom,\n        components: cropPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-crop-buttons-events', [\n            run(external$2.disable(), function (comp, se) {\n              disableAllComponents(cropPanelComponents, comp);\n            }),\n            run(external$2.enable(), function (comp, se) {\n              enableAllComponents(cropPanelComponents, comp);\n            })\n          ])])\n      });\n      var memSize = record(renderSizeInput({\n        name: 'size',\n        label: Option.none(),\n        constrain: true,\n        disabled: false\n      }, providersBackstage));\n      var makeResizeTransform = function (width, height) {\n        return function (ir) {\n          return resize$2(ir, width, height);\n        };\n      };\n      var resizePanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        memSize,\n        createSpacer(),\n        createButton('Apply', function (button) {\n          memSize.getOpt(button).each(function (sizeInput) {\n            var value = Representing.getValue(sizeInput);\n            var width = parseInt(value.width, 10);\n            var height = parseInt(value.height, 10);\n            var transform = makeResizeTransform(width, height);\n            emitTransformApply(button, transform);\n          });\n        }, false, true)\n      ];\n      var ResizePanel = Container.sketch({\n        dom: panelDom,\n        components: resizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-resize-buttons-events', [\n            run(external$2.disable(), function (comp, se) {\n              disableAllComponents(resizePanelComponents, comp);\n            }),\n            run(external$2.enable(), function (comp, se) {\n              enableAllComponents(resizePanelComponents, comp);\n            })\n          ])])\n      });\n      var makeValueTransform = function (transform, value) {\n        return function (ir) {\n          return transform(ir, value);\n        };\n      };\n      var horizontalFlip = makeValueTransform(flip$1, 'h');\n      var verticalFlip = makeValueTransform(flip$1, 'v');\n      var counterclockwiseRotate = makeValueTransform(rotate$1, -90);\n      var clockwiseRotate = makeValueTransform(rotate$1, 90);\n      var flipRotateOnAction = function (comp, operation) {\n        emitTempTransform(comp, operation);\n      };\n      var flipRotateComponents = [\n        createBackButton(),\n        createSpacer(),\n        createIconButton('flip-horizontally', 'Flip horizontally', function (button) {\n          flipRotateOnAction(button, horizontalFlip);\n        }, false),\n        createIconButton('flip-vertically', 'Flip vertically', function (button) {\n          flipRotateOnAction(button, verticalFlip);\n        }, false),\n        createIconButton('rotate-left', 'Rotate counterclockwise', function (button) {\n          flipRotateOnAction(button, counterclockwiseRotate);\n        }, false),\n        createIconButton('rotate-right', 'Rotate clockwise', function (button) {\n          flipRotateOnAction(button, clockwiseRotate);\n        }, false),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FlipRotatePanel = Container.sketch({\n        dom: panelDom,\n        components: flipRotateComponents.map(function (mem) {\n          return mem.asSpec();\n        }),\n        containerBehaviours: derive$1([config('image-tools-fliprotate-buttons-events', [\n            run(external$2.disable(), function (comp, se) {\n              disableAllComponents(flipRotateComponents, comp);\n            }),\n            run(external$2.enable(), function (comp, se) {\n              enableAllComponents(flipRotateComponents, comp);\n            })\n          ])])\n      });\n      var makeSlider = function (label, onChoose, min, value, max) {\n        var labelPart = Slider.parts().label({\n          dom: {\n            tag: 'label',\n            classes: ['tox-label'],\n            innerHtml: providersBackstage.translate(label)\n          }\n        });\n        var spectrum = Slider.parts().spectrum({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__rail'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        var thumb = Slider.parts().thumb({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider__handle'],\n            attributes: { role: 'presentation' }\n          }\n        });\n        return record(Slider.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-slider'],\n            attributes: { role: 'presentation' }\n          },\n          model: {\n            mode: 'x',\n            minX: min,\n            maxX: max,\n            getInitialValue: constant({ x: constant(value) })\n          },\n          components: [\n            labelPart,\n            spectrum,\n            thumb\n          ],\n          sliderBehaviours: derive$1([Focusing.config({})]),\n          onChoose: onChoose\n        }));\n      };\n      var makeVariableSlider = function (label, transform, min, value, max) {\n        var onChoose = function (slider, thumb, value) {\n          var valTransform = makeValueTransform(transform, value.x() / 100);\n          emitTransform(slider, valTransform);\n        };\n        return makeSlider(label, onChoose, min, value, max);\n      };\n      var variableFilterPanelComponents = function (label, transform, min, value, max) {\n        return [\n          createBackButton(),\n          makeVariableSlider(label, transform, min, value, max),\n          createApplyButton()\n        ];\n      };\n      var createVariableFilterPanel = function (label, transform, min, value, max) {\n        var filterPanelComponents = variableFilterPanelComponents(label, transform, min, value, max);\n        return Container.sketch({\n          dom: panelDom,\n          components: filterPanelComponents.map(function (mem) {\n            return mem.asSpec();\n          }),\n          containerBehaviours: derive$1([config('image-tools-filter-panel-buttons-events', [\n              run(external$2.disable(), function (comp, se) {\n                disableAllComponents(filterPanelComponents, comp);\n              }),\n              run(external$2.enable(), function (comp, se) {\n                enableAllComponents(filterPanelComponents, comp);\n              })\n            ])])\n        });\n      };\n      var filterPanelComponents = [\n        createBackButton(),\n        createSpacer(),\n        createApplyButton()\n      ];\n      var FilterPanel = Container.sketch({\n        dom: panelDom,\n        components: filterPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var BrightnessPanel = createVariableFilterPanel('Brightness', brightness$1, -100, 0, 100);\n      var ContrastPanel = createVariableFilterPanel('Contrast', contrast$1, -100, 0, 100);\n      var GammaPanel = createVariableFilterPanel('Gamma', gamma$1, -100, 0, 100);\n      var makeColorTransform = function (red, green, blue) {\n        return function (ir) {\n          return colorize$1(ir, red, green, blue);\n        };\n      };\n      var makeColorSlider = function (label) {\n        var onChoose = function (slider, thumb, value) {\n          var redOpt = memRed.getOpt(slider);\n          var blueOpt = memBlue.getOpt(slider);\n          var greenOpt = memGreen.getOpt(slider);\n          redOpt.each(function (red) {\n            blueOpt.each(function (blue) {\n              greenOpt.each(function (green) {\n                var r = Representing.getValue(red).x() / 100;\n                var g = Representing.getValue(green).x() / 100;\n                var b = Representing.getValue(blue).x() / 100;\n                var transform = makeColorTransform(r, g, b);\n                emitTransform(slider, transform);\n              });\n            });\n          });\n        };\n        return makeSlider(label, onChoose, 0, 100, 200);\n      };\n      var memRed = makeColorSlider('R');\n      var memGreen = makeColorSlider('G');\n      var memBlue = makeColorSlider('B');\n      var colorizePanelComponents = [\n        createBackButton(),\n        memRed,\n        memGreen,\n        memBlue,\n        createApplyButton()\n      ];\n      var ColorizePanel = Container.sketch({\n        dom: panelDom,\n        components: colorizePanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var getTransformPanelEvent = function (panel, transform, update) {\n        return function (button) {\n          var swap = function () {\n            memContainer.getOpt(button).each(function (container) {\n              Replacing.set(container, [panel]);\n              update(container);\n            });\n          };\n          emit$1(button, internal.swap(), {\n            transform: transform,\n            swap: swap\n          });\n        };\n      };\n      var cropPanelUpdate = function (_anyInSystem) {\n        imagePanel.showCrop();\n      };\n      var resizePanelUpdate = function (anyInSystem) {\n        memSize.getOpt(anyInSystem).each(function (sizeInput) {\n          var measurements = imagePanel.getMeasurements();\n          var width = measurements.width;\n          var height = measurements.height;\n          Representing.setValue(sizeInput, {\n            width: width,\n            height: height\n          });\n        });\n      };\n      var sharpenTransform = Option.some(sharpen$1);\n      var invertTransform = Option.some(invert$1);\n      var buttonPanelComponents = [\n        createIconButton('crop', 'Crop', getTransformPanelEvent(CropPanel, Option.none(), cropPanelUpdate), false),\n        createIconButton('resize', 'Resize', getTransformPanelEvent(ResizePanel, Option.none(), resizePanelUpdate), false),\n        createIconButton('orientation', 'Orientation', getTransformPanelEvent(FlipRotatePanel, Option.none(), noop$1), false),\n        createIconButton('brightness', 'Brightness', getTransformPanelEvent(BrightnessPanel, Option.none(), noop$1), false),\n        createIconButton('sharpen', 'Sharpen', getTransformPanelEvent(FilterPanel, sharpenTransform, noop$1), false),\n        createIconButton('contrast', 'Contrast', getTransformPanelEvent(ContrastPanel, Option.none(), noop$1), false),\n        createIconButton('color-levels', 'Color levels', getTransformPanelEvent(ColorizePanel, Option.none(), noop$1), false),\n        createIconButton('gamma', 'Gamma', getTransformPanelEvent(GammaPanel, Option.none(), noop$1), false),\n        createIconButton('invert', 'Invert', getTransformPanelEvent(FilterPanel, invertTransform, noop$1), false)\n      ];\n      var ButtonPanel = Container.sketch({\n        dom: panelDom,\n        components: buttonPanelComponents.map(function (mem) {\n          return mem.asSpec();\n        })\n      });\n      var container = Container.sketch({\n        dom: { tag: 'div' },\n        components: [ButtonPanel],\n        containerBehaviours: derive$1([Replacing.config({})])\n      });\n      var memContainer = record(container);\n      var getApplyButton = function (anyInSystem) {\n        return memContainer.getOpt(anyInSystem).map(function (container) {\n          var panel = container.components()[0];\n          return panel.components()[panel.components().length - 1];\n        });\n      };\n      return {\n        memContainer: memContainer,\n        getApplyButton: getApplyButton\n      };\n    };\n\n    var global$b = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n    var global$c = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n    var global$d = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    var global$e = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var global$f = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n    function getDocumentSize(doc) {\n      var documentElement, body, scrollWidth, clientWidth;\n      var offsetWidth, scrollHeight, clientHeight, offsetHeight;\n      var max = Math.max;\n      documentElement = doc.documentElement;\n      body = doc.body;\n      scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    }\n    function updateWithTouchData(e) {\n      var keys, i;\n      if (e.changedTouches) {\n        keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n        for (i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    }\n    function DragHelper (id, settings) {\n      var $eventOverlay;\n      var doc = settings.document || domGlobals.document;\n      var downButton;\n      var start, stop, drag, startX, startY;\n      settings = settings || {};\n      var handleElement = doc.getElementById(settings.handle || id);\n      start = function (e) {\n        var docSize = getDocumentSize(doc);\n        var handleElm, cursor;\n        updateWithTouchData(e);\n        e.preventDefault();\n        downButton = e.button;\n        handleElm = handleElement;\n        startX = e.screenX;\n        startY = e.screenY;\n        if (domGlobals.window.getComputedStyle) {\n          cursor = domGlobals.window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\n        } else {\n          cursor = handleElm.runtimeStyle.cursor;\n        }\n        $eventOverlay = global$b('<div></div>').css({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: docSize.width,\n          height: docSize.height,\n          zIndex: 2147483647,\n          opacity: 0.0001,\n          cursor: cursor\n        }).appendTo(doc.body);\n        global$b(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop);\n        settings.start(e);\n      };\n      drag = function (e) {\n        updateWithTouchData(e);\n        if (e.button !== downButton) {\n          return stop(e);\n        }\n        e.deltaX = e.screenX - startX;\n        e.deltaY = e.screenY - startY;\n        e.preventDefault();\n        settings.drag(e);\n      };\n      stop = function (e) {\n        updateWithTouchData(e);\n        global$b(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop);\n        $eventOverlay.remove();\n        if (settings.stop) {\n          settings.stop(e);\n        }\n      };\n      this.destroy = function () {\n        global$b(handleElement).off();\n      };\n      global$b(handleElement).on('mousedown touchstart', start);\n    }\n\n    var count = 0;\n    var create$7 = function (currentRect, viewPortRect, clampRect, containerElm, action) {\n      var instance;\n      var dragHelpers;\n      var blockers;\n      var prefix = 'tox-';\n      var id = prefix + 'crid-' + count++;\n      var handles = [\n        {\n          name: 'move',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: 0,\n          deltaH: 0,\n          label: 'Crop Mask'\n        },\n        {\n          name: 'nw',\n          xMul: 0,\n          yMul: 0,\n          deltaX: 1,\n          deltaY: 1,\n          deltaW: -1,\n          deltaH: -1,\n          label: 'Top Left Crop Handle'\n        },\n        {\n          name: 'ne',\n          xMul: 1,\n          yMul: 0,\n          deltaX: 0,\n          deltaY: 1,\n          deltaW: 1,\n          deltaH: -1,\n          label: 'Top Right Crop Handle'\n        },\n        {\n          name: 'sw',\n          xMul: 0,\n          yMul: 1,\n          deltaX: 1,\n          deltaY: 0,\n          deltaW: -1,\n          deltaH: 1,\n          label: 'Bottom Left Crop Handle'\n        },\n        {\n          name: 'se',\n          xMul: 1,\n          yMul: 1,\n          deltaX: 0,\n          deltaY: 0,\n          deltaW: 1,\n          deltaH: 1,\n          label: 'Bottom Right Crop Handle'\n        }\n      ];\n      blockers = [\n        'top',\n        'right',\n        'bottom',\n        'left'\n      ];\n      var getAbsoluteRect = function (outerRect, relativeRect) {\n        return {\n          x: relativeRect.x + outerRect.x,\n          y: relativeRect.y + outerRect.y,\n          w: relativeRect.w,\n          h: relativeRect.h\n        };\n      };\n      var getRelativeRect = function (outerRect, innerRect) {\n        return {\n          x: innerRect.x - outerRect.x,\n          y: innerRect.y - outerRect.y,\n          w: innerRect.w,\n          h: innerRect.h\n        };\n      };\n      var getInnerRect = function () {\n        return getRelativeRect(clampRect, currentRect);\n      };\n      function moveRect(handle, startRect, deltaX, deltaY) {\n        var x, y, w, h, rect;\n        x = startRect.x;\n        y = startRect.y;\n        w = startRect.w;\n        h = startRect.h;\n        x += deltaX * handle.deltaX;\n        y += deltaY * handle.deltaY;\n        w += deltaX * handle.deltaW;\n        h += deltaY * handle.deltaH;\n        if (w < 20) {\n          w = 20;\n        }\n        if (h < 20) {\n          h = 20;\n        }\n        rect = currentRect = global$c.clamp({\n          x: x,\n          y: y,\n          w: w,\n          h: h\n        }, clampRect, handle.name === 'move');\n        rect = getRelativeRect(clampRect, rect);\n        instance.fire('updateRect', { rect: rect });\n        setInnerRect(rect);\n      }\n      function render() {\n        function createDragHelper(handle) {\n          var startRect;\n          return new DragHelper(id, {\n            document: containerElm.ownerDocument,\n            handle: id + '-' + handle.name,\n            start: function () {\n              startRect = currentRect;\n            },\n            drag: function (e) {\n              moveRect(handle, startRect, e.deltaX, e.deltaY);\n            }\n          });\n        }\n        global$b('<div id=\"' + id + '\" class=\"' + prefix + 'croprect-container\"' + ' role=\"grid\" aria-dropeffect=\"execute\">').appendTo(containerElm);\n        global$e.each(blockers, function (blocker) {\n          global$b('#' + id, containerElm).append('<div id=\"' + id + '-' + blocker + '\"class=\"' + prefix + 'croprect-block\" style=\"display: none\" data-mce-bogus=\"all\">');\n        });\n        global$e.each(handles, function (handle) {\n          global$b('#' + id, containerElm).append('<div id=\"' + id + '-' + handle.name + '\" class=\"' + prefix + 'croprect-handle ' + prefix + 'croprect-handle-' + handle.name + '\"' + 'style=\"display: none\" data-mce-bogus=\"all\" role=\"gridcell\" tabindex=\"-1\"' + ' aria-label=\"' + handle.label + '\" aria-grabbed=\"false\" title=\"' + handle.label + '\">');\n        });\n        dragHelpers = global$e.map(handles, createDragHelper);\n        repaint(currentRect);\n        global$b(containerElm).on('focusin focusout', function (e) {\n          global$b(e.target).attr('aria-grabbed', e.type === 'focus' ? 'true' : 'false');\n        });\n        global$b(containerElm).on('keydown', function (e) {\n          var activeHandle;\n          global$e.each(handles, function (handle) {\n            if (e.target.id === id + '-' + handle.name) {\n              activeHandle = handle;\n              return false;\n            }\n          });\n          function moveAndBlock(evt, handle, startRect, deltaX, deltaY) {\n            evt.stopPropagation();\n            evt.preventDefault();\n            moveRect(activeHandle, startRect, deltaX, deltaY);\n          }\n          switch (e.keyCode) {\n          case global$f.LEFT:\n            moveAndBlock(e, activeHandle, currentRect, -10, 0);\n            break;\n          case global$f.RIGHT:\n            moveAndBlock(e, activeHandle, currentRect, 10, 0);\n            break;\n          case global$f.UP:\n            moveAndBlock(e, activeHandle, currentRect, 0, -10);\n            break;\n          case global$f.DOWN:\n            moveAndBlock(e, activeHandle, currentRect, 0, 10);\n            break;\n          case global$f.ENTER:\n          case global$f.SPACEBAR:\n            e.preventDefault();\n            action();\n            break;\n          }\n        });\n      }\n      function toggleVisibility(state) {\n        var selectors;\n        selectors = global$e.map(handles, function (handle) {\n          return '#' + id + '-' + handle.name;\n        }).concat(global$e.map(blockers, function (blocker) {\n          return '#' + id + '-' + blocker;\n        })).join(',');\n        if (state) {\n          global$b(selectors, containerElm).show();\n        } else {\n          global$b(selectors, containerElm).hide();\n        }\n      }\n      function repaint(rect) {\n        function updateElementRect(name, rect) {\n          if (rect.h < 0) {\n            rect.h = 0;\n          }\n          if (rect.w < 0) {\n            rect.w = 0;\n          }\n          global$b('#' + id + '-' + name, containerElm).css({\n            left: rect.x,\n            top: rect.y,\n            width: rect.w,\n            height: rect.h\n          });\n        }\n        global$e.each(handles, function (handle) {\n          global$b('#' + id + '-' + handle.name, containerElm).css({\n            left: rect.w * handle.xMul + rect.x,\n            top: rect.h * handle.yMul + rect.y\n          });\n        });\n        updateElementRect('top', {\n          x: viewPortRect.x,\n          y: viewPortRect.y,\n          w: viewPortRect.w,\n          h: rect.y - viewPortRect.y\n        });\n        updateElementRect('right', {\n          x: rect.x + rect.w,\n          y: rect.y,\n          w: viewPortRect.w - rect.x - rect.w + viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('bottom', {\n          x: viewPortRect.x,\n          y: rect.y + rect.h,\n          w: viewPortRect.w,\n          h: viewPortRect.h - rect.y - rect.h + viewPortRect.y\n        });\n        updateElementRect('left', {\n          x: viewPortRect.x,\n          y: rect.y,\n          w: rect.x - viewPortRect.x,\n          h: rect.h\n        });\n        updateElementRect('move', rect);\n      }\n      function setRect(rect) {\n        currentRect = rect;\n        repaint(currentRect);\n      }\n      function setViewPortRect(rect) {\n        viewPortRect = rect;\n        repaint(currentRect);\n      }\n      function setInnerRect(rect) {\n        setRect(getAbsoluteRect(clampRect, rect));\n      }\n      function setClampRect(rect) {\n        clampRect = rect;\n        repaint(currentRect);\n      }\n      function destroy() {\n        global$e.each(dragHelpers, function (helper) {\n          helper.destroy();\n        });\n        dragHelpers = [];\n      }\n      render();\n      instance = global$e.extend({\n        toggleVisibility: toggleVisibility,\n        setClampRect: setClampRect,\n        setRect: setRect,\n        getInnerRect: getInnerRect,\n        setInnerRect: setInnerRect,\n        setViewPortRect: setViewPortRect,\n        destroy: destroy\n      }, global$d);\n      return instance;\n    };\n    var CropRect = { create: create$7 };\n\n    var loadImage = function (image) {\n      return new global$4(function (resolve) {\n        var loaded = function () {\n          image.removeEventListener('load', loaded);\n          resolve(image);\n        };\n        if (image.complete) {\n          resolve(image);\n        } else {\n          image.addEventListener('load', loaded);\n        }\n      });\n    };\n    var renderImagePanel = function (initialUrl) {\n      var memBg = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image-bg'],\n          attributes: { role: 'presentation' }\n        }\n      });\n      var zoomState = Cell(1);\n      var cropRect = Cell(Option.none());\n      var rectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var viewRectState = Cell({\n        x: 0,\n        y: 0,\n        w: 1,\n        h: 1\n      });\n      var repaintImg = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var zoom = zoomState.get();\n          var panelW = get$7(panel.element());\n          var panelH = get$6(panel.element());\n          var width = img.dom().naturalWidth * zoom;\n          var height = img.dom().naturalHeight * zoom;\n          var left = Math.max(0, panelW / 2 - width / 2);\n          var top = Math.max(0, panelH / 2 - height / 2);\n          var css = {\n            left: left.toString() + 'px',\n            top: top.toString() + 'px',\n            width: width.toString() + 'px',\n            height: height.toString() + 'px',\n            position: 'absolute'\n          };\n          setAll$1(img, css);\n          memBg.getOpt(panel).each(function (bg) {\n            setAll$1(bg.element(), css);\n          });\n          cropRect.get().each(function (cRect) {\n            var rect = rectState.get();\n            cRect.setRect({\n              x: rect.x * zoom + left,\n              y: rect.y * zoom + top,\n              w: rect.w * zoom,\n              h: rect.h * zoom\n            });\n            cRect.setClampRect({\n              x: left,\n              y: top,\n              w: width,\n              h: height\n            });\n            cRect.setViewPortRect({\n              x: 0,\n              y: 0,\n              w: panelW,\n              h: panelH\n            });\n          });\n        });\n      };\n      var zoomFit = function (anyInSystem, img) {\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var panelW = get$7(panel.element());\n          var panelH = get$6(panel.element());\n          var width = img.dom().naturalWidth;\n          var height = img.dom().naturalHeight;\n          var zoom = Math.min(panelW / width, panelH / height);\n          if (zoom >= 1) {\n            zoomState.set(1);\n          } else {\n            zoomState.set(zoom);\n          }\n        });\n      };\n      var updateSrc = function (anyInSystem, url) {\n        var img = Element.fromTag('img');\n        set$1(img, 'src', url);\n        return loadImage(img.dom()).then(function () {\n          return memContainer.getOpt(anyInSystem).map(function (panel) {\n            var aImg = external({ element: img });\n            Replacing.replaceAt(panel, 1, Option.some(aImg));\n            var lastViewRect = viewRectState.get();\n            var viewRect = {\n              x: 0,\n              y: 0,\n              w: img.dom().naturalWidth,\n              h: img.dom().naturalHeight\n            };\n            viewRectState.set(viewRect);\n            var rect = global$c.inflate(viewRect, -20, -20);\n            rectState.set(rect);\n            if (lastViewRect.w !== viewRect.w || lastViewRect.h !== viewRect.h) {\n              zoomFit(panel, img);\n            }\n            repaintImg(panel, img);\n            return img;\n          });\n        });\n      };\n      var zoom = function (anyInSystem, direction) {\n        var currentZoom = zoomState.get();\n        var newZoom = direction > 0 ? Math.min(2, currentZoom + 0.1) : Math.max(0.1, currentZoom - 0.1);\n        zoomState.set(newZoom);\n        memContainer.getOpt(anyInSystem).each(function (panel) {\n          var img = panel.components()[1].element();\n          repaintImg(panel, img);\n        });\n      };\n      var showCrop = function () {\n        cropRect.get().each(function (cRect) {\n          cRect.toggleVisibility(true);\n        });\n      };\n      var hideCrop = function () {\n        cropRect.get().each(function (cRect) {\n          cRect.toggleVisibility(false);\n        });\n      };\n      var getRect = function () {\n        return rectState.get();\n      };\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-image-tools__image']\n        },\n        components: [\n          memBg.asSpec(),\n          {\n            dom: {\n              tag: 'img',\n              attributes: { src: initialUrl }\n            }\n          },\n          {\n            dom: { tag: 'div' },\n            behaviours: derive$1([config('image-panel-crop-events', [runOnAttached(function (comp) {\n                  memContainer.getOpt(comp).each(function (container) {\n                    var el = container.element().dom();\n                    var cRect = CropRect.create({\n                      x: 10,\n                      y: 10,\n                      w: 100,\n                      h: 100\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, {\n                      x: 0,\n                      y: 0,\n                      w: 200,\n                      h: 200\n                    }, el, function () {\n                    });\n                    cRect.toggleVisibility(false);\n                    cRect.on('updateRect', function (e) {\n                      var rect = e.rect;\n                      var zoom = zoomState.get();\n                      var newRect = {\n                        x: Math.round(rect.x / zoom),\n                        y: Math.round(rect.y / zoom),\n                        w: Math.round(rect.w / zoom),\n                        h: Math.round(rect.h / zoom)\n                      };\n                      rectState.set(newRect);\n                    });\n                    cropRect.set(Option.some(cRect));\n                  });\n                })])])\n          }\n        ],\n        containerBehaviours: derive$1([\n          Replacing.config({}),\n          config('image-panel-events', [runOnAttached(function (comp) {\n              updateSrc(comp, initialUrl);\n            })])\n        ])\n      });\n      var memContainer = record(container);\n      var getMeasurements = function () {\n        var viewRect = viewRectState.get();\n        return {\n          width: viewRect.w,\n          height: viewRect.h\n        };\n      };\n      return {\n        memContainer: memContainer,\n        updateSrc: updateSrc,\n        zoom: zoom,\n        showCrop: showCrop,\n        hideCrop: hideCrop,\n        getRect: getRect,\n        getMeasurements: getMeasurements\n      };\n    };\n\n    var createButton = function (innerHtml, icon, disabled, action, providersBackstage) {\n      return renderIconButton({\n        name: innerHtml,\n        icon: Option.some(icon),\n        disabled: disabled,\n        tooltip: Option.some(innerHtml),\n        primary: false,\n        borderless: false\n      }, action, providersBackstage);\n    };\n    var setButtonEnabled = function (button, enabled) {\n      if (enabled) {\n        Disabling.enable(button);\n      } else {\n        Disabling.disable(button);\n      }\n    };\n    var renderSideBar = function (providersBackstage) {\n      var updateButtonUndoStates = function (anyInSystem, undoEnabled, redoEnabled) {\n        memUndo.getOpt(anyInSystem).each(function (undo) {\n          setButtonEnabled(undo, undoEnabled);\n        });\n        memRedo.getOpt(anyInSystem).each(function (redo) {\n          setButtonEnabled(redo, redoEnabled);\n        });\n      };\n      var memUndo = record(createButton('Undo', 'undo', true, function (button) {\n        emitWith(button, internal.undo(), { direction: 1 });\n      }, providersBackstage));\n      var memRedo = record(createButton('Redo', 'redo', true, function (button) {\n        emitWith(button, internal.redo(), { direction: 1 });\n      }, providersBackstage));\n      var container = Container.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-image-tools__toolbar',\n            'tox-image-tools__sidebar'\n          ]\n        },\n        components: [\n          memUndo.asSpec(),\n          memRedo.asSpec(),\n          createButton('Zoom in', 'zoom-in', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: 1 });\n          }, providersBackstage),\n          createButton('Zoom out', 'zoom-out', false, function (button) {\n            emitWith(button, internal.zoom(), { direction: -1 });\n          }, providersBackstage)\n        ]\n      });\n      return {\n        container: container,\n        updateButtonUndoStates: updateButtonUndoStates\n      };\n    };\n\n    function UndoStack () {\n      var data = [];\n      var index = -1;\n      function add(state) {\n        var removed;\n        removed = data.splice(++index);\n        data.push(state);\n        return {\n          state: state,\n          removed: removed\n        };\n      }\n      function undo() {\n        if (canUndo()) {\n          return data[--index];\n        }\n      }\n      function redo() {\n        if (canRedo()) {\n          return data[++index];\n        }\n      }\n      function canUndo() {\n        return index > 0;\n      }\n      function canRedo() {\n        return index !== -1 && index < data.length - 1;\n      }\n      return {\n        data: data,\n        add: add,\n        undo: undo,\n        redo: redo,\n        canUndo: canUndo,\n        canRedo: canRedo\n      };\n    }\n\n    var makeState = function (initialState) {\n      var blobState = Cell(initialState);\n      var tempState = Cell(Option.none());\n      var undoStack = UndoStack();\n      undoStack.add(initialState);\n      var getBlobState = function () {\n        return blobState.get();\n      };\n      var setBlobState = function (state) {\n        blobState.set(state);\n      };\n      var getTempState = function () {\n        return tempState.get().fold(function () {\n          return blobState.get();\n        }, function (temp) {\n          return temp;\n        });\n      };\n      var updateTempState = function (blob) {\n        var newTempState = createState(blob);\n        destroyTempState();\n        tempState.set(Option.some(newTempState));\n        return newTempState.url;\n      };\n      var createState = function (blob) {\n        return {\n          blob: blob,\n          url: domGlobals.URL.createObjectURL(blob)\n        };\n      };\n      var destroyState = function (state) {\n        domGlobals.URL.revokeObjectURL(state.url);\n      };\n      var destroyStates = function (states) {\n        global$e.each(states, destroyState);\n      };\n      var destroyTempState = function () {\n        tempState.get().each(destroyState);\n        tempState.set(Option.none());\n      };\n      var addBlobState = function (blob) {\n        var newState = createState(blob);\n        setBlobState(newState);\n        var removed = undoStack.add(newState).removed;\n        destroyStates(removed);\n        return newState.url;\n      };\n      var addTempState = function (blob) {\n        var newState = createState(blob);\n        tempState.set(Option.some(newState));\n        return newState.url;\n      };\n      var applyTempState = function (postApply) {\n        return tempState.get().fold(function () {\n        }, function (temp) {\n          addBlobState(temp.blob);\n          postApply();\n        });\n      };\n      var undo = function () {\n        var currentState = undoStack.undo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var redo = function () {\n        var currentState = undoStack.redo();\n        setBlobState(currentState);\n        return currentState.url;\n      };\n      var getHistoryStates = function () {\n        var undoEnabled = undoStack.canUndo();\n        var redoEnabled = undoStack.canRedo();\n        return {\n          undoEnabled: undoEnabled,\n          redoEnabled: redoEnabled\n        };\n      };\n      return {\n        getBlobState: getBlobState,\n        setBlobState: setBlobState,\n        addBlobState: addBlobState,\n        getTempState: getTempState,\n        updateTempState: updateTempState,\n        addTempState: addTempState,\n        applyTempState: applyTempState,\n        destroyTempState: destroyTempState,\n        undo: undo,\n        redo: redo,\n        getHistoryStates: getHistoryStates\n      };\n    };\n\n    var renderImageTools = function (detail, providersBackstage) {\n      var state = makeState(detail.currentState);\n      var zoom = function (anyInSystem, simulatedEvent) {\n        var direction = simulatedEvent.event().direction();\n        imagePanel.zoom(anyInSystem, direction);\n      };\n      var updateButtonUndoStates = function (anyInSystem) {\n        var historyStates = state.getHistoryStates();\n        sideBar.updateButtonUndoStates(anyInSystem, historyStates.undoEnabled, historyStates.redoEnabled);\n        emitWith(anyInSystem, external$2.formActionEvent, {\n          name: external$2.saveState(),\n          value: historyStates.undoEnabled\n        });\n      };\n      var disableUndoRedo = function (anyInSystem) {\n        sideBar.updateButtonUndoStates(anyInSystem, false, false);\n      };\n      var undo = function (anyInSystem, _simulatedEvent) {\n        var url = state.undo();\n        updateSrc(anyInSystem, url).then(function (oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var redo = function (anyInSystem, _simulatedEvent) {\n        var url = state.redo();\n        updateSrc(anyInSystem, url).then(function (oImg) {\n          unblock(anyInSystem);\n          updateButtonUndoStates(anyInSystem);\n        });\n      };\n      var imageResultToBlob = function (ir) {\n        return ir.toBlob();\n      };\n      var block = function (anyInSystem) {\n        emitWith(anyInSystem, external$2.formActionEvent, {\n          name: external$2.disable(),\n          value: {}\n        });\n      };\n      var unblock = function (anyInSystem) {\n        editPanel.getApplyButton(anyInSystem).each(function (applyButton) {\n          Disabling.enable(applyButton);\n        });\n        emitWith(anyInSystem, external$2.formActionEvent, {\n          name: external$2.enable(),\n          value: {}\n        });\n      };\n      var updateSrc = function (anyInSystem, src) {\n        block(anyInSystem);\n        return imagePanel.updateSrc(anyInSystem, src);\n      };\n      var blobManipulate = function (anyInSystem, blob, filter, action, swap) {\n        block(anyInSystem);\n        return blobToImageResult(blob).then(filter).then(imageResultToBlob).then(action).then(function (url) {\n          return updateSrc(anyInSystem, url).then(function (oImg) {\n            updateButtonUndoStates(anyInSystem);\n            swap();\n            unblock(anyInSystem);\n            return oImg;\n          });\n        }).catch(function (err) {\n          domGlobals.console.log(err);\n          unblock(anyInSystem);\n          return err;\n        });\n      };\n      var manipulate = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          return state.updateTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var tempManipulate = function (anyInSystem, filter) {\n        var blob = state.getTempState().blob;\n        var action = function (blob) {\n          return state.addTempState(blob);\n        };\n        blobManipulate(anyInSystem, blob, filter, action, noop);\n      };\n      var manipulateApply = function (anyInSystem, filter, swap) {\n        var blob = state.getBlobState().blob;\n        var action = function (blob) {\n          var url = state.addBlobState(blob);\n          destroyTempState(anyInSystem);\n          return url;\n        };\n        blobManipulate(anyInSystem, blob, filter, action, swap);\n      };\n      var apply = function (anyInSystem, simulatedEvent) {\n        var postApply = function () {\n          destroyTempState(anyInSystem);\n          var swap = simulatedEvent.event().swap();\n          swap();\n        };\n        state.applyTempState(postApply);\n      };\n      var destroyTempState = function (anyInSystem) {\n        var currentUrl = state.getBlobState().url;\n        state.destroyTempState();\n        updateButtonUndoStates(anyInSystem);\n        return currentUrl;\n      };\n      var cancel = function (anyInSystem) {\n        var currentUrl = destroyTempState(anyInSystem);\n        updateSrc(anyInSystem, currentUrl).then(function (oImg) {\n          unblock(anyInSystem);\n        });\n      };\n      var back = function (anyInSystem, simulatedEvent) {\n        cancel(anyInSystem);\n        var swap = simulatedEvent.event().swap();\n        swap();\n        imagePanel.hideCrop();\n      };\n      var transform = function (anyInSystem, simulatedEvent) {\n        return manipulate(anyInSystem, simulatedEvent.event().transform(), noop);\n      };\n      var tempTransform = function (anyInSystem, simulatedEvent) {\n        return tempManipulate(anyInSystem, simulatedEvent.event().transform());\n      };\n      var transformApply = function (anyInSystem, simulatedEvent) {\n        return manipulateApply(anyInSystem, simulatedEvent.event().transform(), simulatedEvent.event().swap());\n      };\n      var imagePanel = renderImagePanel(detail.currentState.url);\n      var sideBar = renderSideBar(providersBackstage);\n      var editPanel = renderEditPanel(imagePanel, providersBackstage);\n      var swap = function (anyInSystem, simulatedEvent) {\n        disableUndoRedo(anyInSystem);\n        var transform = simulatedEvent.event().transform();\n        var swap = simulatedEvent.event().swap();\n        transform.fold(function () {\n          swap();\n        }, function (transform) {\n          manipulate(anyInSystem, transform, swap);\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { role: 'presentation' }\n        },\n        components: [\n          editPanel.memContainer.asSpec(),\n          imagePanel.memContainer.asSpec(),\n          sideBar.container\n        ],\n        behaviours: derive$1([\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function () {\n                return state.getBlobState();\n              }\n            }\n          }),\n          config('image-tools-events', [\n            run(internal.undo(), undo),\n            run(internal.redo(), redo),\n            run(internal.zoom(), zoom),\n            run(internal.back(), back),\n            run(internal.apply(), apply),\n            run(internal.transform(), transform),\n            run(internal.tempTransform(), tempTransform),\n            run(internal.transformApply(), transformApply),\n            run(internal.swap(), swap)\n          ]),\n          ComposingConfigs.self()\n        ])\n      };\n    };\n\n    var factory$8 = function (detail, spec) {\n      var options = map(detail.options, function (option) {\n        return {\n          dom: {\n            tag: 'option',\n            value: option.value,\n            innerHtml: option.text\n          }\n        };\n      });\n      var initialValues = detail.data.map(function (v) {\n        return wrap$1('initialValue', v);\n      }).getOr({});\n      return {\n        uid: detail.uid,\n        dom: {\n          tag: 'select',\n          classes: detail.selectClasses,\n          attributes: detail.selectAttributes\n        },\n        components: options,\n        behaviours: augment(detail.selectBehaviours, [\n          Focusing.config({}),\n          Representing.config({\n            store: __assign({\n              mode: 'manual',\n              getValue: function (select) {\n                return get$5(select.element());\n              },\n              setValue: function (select, newValue) {\n                var found = find(detail.options, function (opt) {\n                  return opt.value === newValue;\n                });\n                if (found.isSome()) {\n                  set$3(select.element(), newValue);\n                }\n              }\n            }, initialValues)\n          })\n        ])\n      };\n    };\n    var HtmlSelect = single$2({\n      name: 'HtmlSelect',\n      configFields: [\n        strict$1('options'),\n        field$1('selectBehaviours', [\n          Focusing,\n          Representing\n        ]),\n        defaulted$1('selectClasses', []),\n        defaulted$1('selectAttributes', {}),\n        option('data')\n      ],\n      factory: factory$8\n    });\n\n    var renderSelectBox = function (spec, providersBackstage) {\n      var translatedOptions = map(spec.items, function (item) {\n        return {\n          text: providersBackstage.translate(item.text),\n          value: item.value\n        };\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var pField = FormField.parts().field({\n        dom: {},\n        selectAttributes: { size: spec.size },\n        options: translatedOptions,\n        factory: HtmlSelect,\n        selectBehaviours: derive$1([\n          Disabling.config({ disabled: spec.disabled }),\n          Tabstopping.config({}),\n          config('selectbox-change', [run(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var chevron = spec.size > 1 ? Option.none() : Option.some({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield__icon-js'],\n          innerHtml: get$c('chevron-down', providersBackstage.icons)\n        }\n      });\n      var selectWrap = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-selectfield']\n        },\n        components: flatten([\n          [pField],\n          chevron.toArray()\n        ])\n      };\n      return FormField.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: flatten([\n          pLabel.toArray(),\n          [selectWrap]\n        ]),\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: spec.disabled,\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderTextField = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var baseInputBehaviours = [\n        Disabling.config({ disabled: spec.disabled }),\n        Keying.config({\n          mode: 'execution',\n          useEnter: spec.multiline !== true,\n          useControlEnter: spec.multiline === true,\n          execute: function (comp) {\n            emit(comp, formSubmitEvent);\n            return Option.some(true);\n          }\n        }),\n        config('textfield-change', [\n          run(input(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          }),\n          run(postPaste(), function (component, _) {\n            emitWith(component, formChangeEvent, { name: spec.name });\n          })\n        ]),\n        Tabstopping.config({})\n      ];\n      var validatingBehaviours = spec.validation.map(function (vl) {\n        return Invalidating.config({\n          getRoot: function (input) {\n            return parent(input.element());\n          },\n          invalidClass: 'tox-invalid',\n          validator: {\n            validate: function (input) {\n              var v = Representing.getValue(input);\n              var result = vl.validator(v);\n              return Future.pure(result === true ? Result.value(v) : Result.error(result));\n            },\n            validateOnLoad: vl.validateOnLoad\n          }\n        });\n      }).toArray();\n      var placeholder = spec.placeholder.fold(constant({}), function (p) {\n        return { placeholder: providersBackstage.translate(p) };\n      });\n      var inputMode = spec.inputMode.fold(constant({}), function (mode) {\n        return { inputmode: mode };\n      });\n      var inputAttributes = __assign(__assign({}, placeholder), inputMode);\n      var pField = FormField.parts().field({\n        tag: spec.multiline === true ? 'textarea' : 'input',\n        inputAttributes: inputAttributes,\n        inputClasses: [spec.classname],\n        inputBehaviours: derive$1(flatten([\n          baseInputBehaviours,\n          validatingBehaviours\n        ])),\n        selectOnFocus: false,\n        factory: Input\n      });\n      var extraClasses = spec.flex ? ['tox-form__group--stretched'] : [];\n      var extraClasses2 = extraClasses.concat(spec.maximized ? ['tox-form-group--maximize'] : []);\n      var extraBehaviours = [Disabling.config({\n          disabled: spec.disabled,\n          onDisabled: function (comp) {\n            FormField.getField(comp).each(Disabling.disable);\n          },\n          onEnabled: function (comp) {\n            FormField.getField(comp).each(Disabling.enable);\n          }\n        })];\n      return renderFormFieldWith(pLabel, pField, extraClasses2, extraBehaviours);\n    };\n    var renderInput = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: false,\n        label: spec.label,\n        inputMode: spec.inputMode,\n        placeholder: spec.placeholder,\n        flex: false,\n        disabled: spec.disabled,\n        classname: 'tox-textfield',\n        validation: Option.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n    var renderTextarea = function (spec, providersBackstage) {\n      return renderTextField({\n        name: spec.name,\n        multiline: true,\n        label: spec.label,\n        inputMode: Option.none(),\n        placeholder: spec.placeholder,\n        flex: true,\n        disabled: spec.disabled,\n        classname: 'tox-textarea',\n        validation: Option.none(),\n        maximized: spec.maximized\n      }, providersBackstage);\n    };\n\n    var events$c = function (streamConfig, streamState) {\n      var streams = streamConfig.stream.streams;\n      var processor = streams.setup(streamConfig, streamState);\n      return derive([\n        run(streamConfig.event, processor),\n        runOnDetached(function () {\n          return streamState.cancel();\n        })\n      ].concat(streamConfig.cancelEvent.map(function (e) {\n        return [run(e, function () {\n            return streamState.cancel();\n          })];\n      }).getOr([])));\n    };\n\n    var ActiveStreaming = /*#__PURE__*/Object.freeze({\n        events: events$c\n    });\n\n    var throttle = function (_config) {\n      var state = Cell(null);\n      var readState = function () {\n        return { timer: state.get() !== null ? 'set' : 'unset' };\n      };\n      var setTimer = function (t) {\n        state.set(t);\n      };\n      var cancel = function () {\n        var t = state.get();\n        if (t !== null) {\n          t.cancel();\n        }\n      };\n      return nu$5({\n        readState: readState,\n        setTimer: setTimer,\n        cancel: cancel\n      });\n    };\n    var init$6 = function (spec) {\n      return spec.stream.streams.state(spec);\n    };\n\n    var StreamingState = /*#__PURE__*/Object.freeze({\n        throttle: throttle,\n        init: init$6\n    });\n\n    var setup$2 = function (streamInfo, streamState) {\n      var sInfo = streamInfo.stream;\n      var throttler = last$2(streamInfo.onStream, sInfo.delay);\n      streamState.setTimer(throttler);\n      return function (component, simulatedEvent) {\n        throttler.throttle(component, simulatedEvent);\n        if (sInfo.stopEvent) {\n          simulatedEvent.stop();\n        }\n      };\n    };\n    var StreamingSchema = [\n      strictOf('stream', choose$1('mode', {\n        throttle: [\n          strict$1('delay'),\n          defaulted$1('stopEvent', true),\n          output('streams', {\n            setup: setup$2,\n            state: throttle\n          })\n        ]\n      })),\n      defaulted$1('event', 'input'),\n      option('cancelEvent'),\n      onStrictHandler('onStream')\n    ];\n\n    var Streaming = create$1({\n      fields: StreamingSchema,\n      name: 'streaming',\n      active: ActiveStreaming,\n      state: StreamingState\n    });\n\n    var setValueFromItem = function (model, input, item) {\n      var itemData = Representing.getValue(item);\n      Representing.setValue(input, itemData);\n      setCursorAtEnd(input);\n    };\n    var setSelectionOn = function (input, f) {\n      var el = input.element();\n      var value = get$5(el);\n      var node = el.dom();\n      if (get$2(el, 'type') !== 'number') {\n        f(node, value);\n      }\n    };\n    var setCursorAtEnd = function (input) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(value.length, value.length);\n      });\n    };\n    var setSelectionToEnd = function (input, startOffset) {\n      setSelectionOn(input, function (node, value) {\n        return node.setSelectionRange(startOffset, value.length);\n      });\n    };\n    var attemptSelectOver = function (model, input, item) {\n      if (!model.selectsOver) {\n        return Option.none();\n      } else {\n        var currentValue = Representing.getValue(input);\n        var inputDisplay_1 = model.getDisplayText(currentValue);\n        var itemValue = Representing.getValue(item);\n        var itemDisplay = model.getDisplayText(itemValue);\n        return itemDisplay.indexOf(inputDisplay_1) === 0 ? Option.some(function () {\n          setValueFromItem(model, input, item);\n          setSelectionToEnd(input, inputDisplay_1.length);\n        }) : Option.none();\n      }\n    };\n\n    var itemExecute = constant('alloy.typeahead.itemexecute');\n\n    var make$5 = function (detail, components, spec, externals) {\n      var navigateList = function (comp, simulatedEvent, highlighter) {\n        detail.previewing.set(false);\n        var sandbox = Coupling.getCoupled(comp, 'sandbox');\n        if (Sandboxing.isOpen(sandbox)) {\n          Composing.getCurrent(sandbox).each(function (menu) {\n            Highlighting.getHighlighted(menu).fold(function () {\n              highlighter(menu);\n            }, function () {\n              dispatchEvent(sandbox, menu.element(), 'keydown', simulatedEvent);\n            });\n          });\n        } else {\n          var onOpenSync = function (sandbox) {\n            Composing.getCurrent(sandbox).each(highlighter);\n          };\n          open$1(detail, mapFetch(comp), comp, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n        }\n      };\n      var focusBehaviours$1 = focusBehaviours(detail);\n      var mapFetch = function (comp) {\n        return function (tdata) {\n          return tdata.map(function (data) {\n            var menus = values(data.menus);\n            var items = bind(menus, function (menu) {\n              return filter(menu.items, function (item) {\n                return item.type === 'item';\n              });\n            });\n            var repState = Representing.getState(comp);\n            repState.update(map(items, function (item) {\n              return item.data;\n            }));\n            return data;\n          });\n        };\n      };\n      var behaviours = [\n        Focusing.config({}),\n        Representing.config({\n          onSetValue: detail.onSetValue,\n          store: __assign({\n            mode: 'dataset',\n            getDataKey: function (comp) {\n              return get$5(comp.element());\n            },\n            getFallbackEntry: function (itemString) {\n              return {\n                value: itemString,\n                meta: {}\n              };\n            },\n            setValue: function (comp, data) {\n              set$3(comp.element(), detail.model.getDisplayText(data));\n            }\n          }, detail.initialData.map(function (d) {\n            return wrap$1('initialValue', d);\n          }).getOr({}))\n        }),\n        Streaming.config({\n          stream: {\n            mode: 'throttle',\n            delay: detail.responseTime,\n            stopEvent: false\n          },\n          onStream: function (component, simulatedEvent) {\n            var sandbox = Coupling.getCoupled(component, 'sandbox');\n            var focusInInput = Focusing.isFocused(component);\n            if (focusInInput) {\n              if (get$5(component.element()).length >= detail.minChars) {\n                var previousValue_1 = Composing.getCurrent(sandbox).bind(function (menu) {\n                  return Highlighting.getHighlighted(menu).map(Representing.getValue);\n                });\n                detail.previewing.set(true);\n                var onOpenSync = function (_sandbox) {\n                  Composing.getCurrent(sandbox).each(function (menu) {\n                    previousValue_1.fold(function () {\n                      if (detail.model.selectsOver) {\n                        Highlighting.highlightFirst(menu);\n                      }\n                    }, function (pv) {\n                      Highlighting.highlightBy(menu, function (item) {\n                        var itemData = Representing.getValue(item);\n                        return itemData.value === pv.value;\n                      });\n                      Highlighting.getHighlighted(menu).orThunk(function () {\n                        Highlighting.highlightFirst(menu);\n                        return Option.none();\n                      });\n                    });\n                  });\n                };\n                open$1(detail, mapFetch(component), component, sandbox, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n              }\n            }\n          },\n          cancelEvent: typeaheadCancel()\n        }),\n        Keying.config({\n          mode: 'special',\n          onDown: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightFirst);\n            return Option.some(true);\n          },\n          onEscape: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            if (Sandboxing.isOpen(sandbox)) {\n              Sandboxing.close(sandbox);\n              return Option.some(true);\n            }\n            return Option.none();\n          },\n          onUp: function (comp, simulatedEvent) {\n            navigateList(comp, simulatedEvent, Highlighting.highlightLast);\n            return Option.some(true);\n          },\n          onEnter: function (comp) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            var sandboxIsOpen = Sandboxing.isOpen(sandbox);\n            if (sandboxIsOpen && !detail.previewing.get()) {\n              return Composing.getCurrent(sandbox).bind(function (menu) {\n                return Highlighting.getHighlighted(menu);\n              }).map(function (item) {\n                emitWith(comp, itemExecute(), { item: item });\n                return true;\n              });\n            } else {\n              var currentValue = Representing.getValue(comp);\n              emit(comp, typeaheadCancel());\n              detail.onExecute(sandbox, comp, currentValue);\n              if (sandboxIsOpen) {\n                Sandboxing.close(sandbox);\n              }\n              return Option.some(true);\n            }\n          }\n        }),\n        Toggling.config({\n          toggleClass: detail.markers.openClass,\n          aria: { mode: 'expanded' }\n        }),\n        Coupling.config({\n          others: {\n            sandbox: function (hotspot) {\n              return makeSandbox(detail, hotspot, {\n                onOpen: function () {\n                  return Toggling.on(hotspot);\n                },\n                onClose: function () {\n                  return Toggling.off(hotspot);\n                }\n              });\n            }\n          }\n        }),\n        config('typeaheadevents', [\n          runOnExecute(function (comp) {\n            var onOpenSync = noop;\n            togglePopup(detail, mapFetch(comp), comp, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n          }),\n          run(itemExecute(), function (comp, se) {\n            var sandbox = Coupling.getCoupled(comp, 'sandbox');\n            setValueFromItem(detail.model, comp, se.event().item());\n            emit(comp, typeaheadCancel());\n            detail.onItemExecute(comp, sandbox, se.event().item(), Representing.getValue(comp));\n            Sandboxing.close(sandbox);\n            setCursorAtEnd(comp);\n          })\n        ].concat(detail.dismissOnBlur ? [run(postBlur(), function (typeahead) {\n            var sandbox = Coupling.getCoupled(typeahead, 'sandbox');\n            if (search(sandbox.element()).isNone()) {\n              Sandboxing.close(sandbox);\n            }\n          })] : []))\n      ];\n      return {\n        uid: detail.uid,\n        dom: dom$2(deepMerge(detail, {\n          inputAttributes: {\n            'role': 'combobox',\n            'aria-autocomplete': 'list',\n            'aria-haspopup': 'true'\n          }\n        })),\n        behaviours: __assign(__assign({}, focusBehaviours$1), augment(detail.typeaheadBehaviours, behaviours)),\n        eventOrder: detail.eventOrder\n      };\n    };\n\n    var schema$j = constant([\n      option('lazySink'),\n      strict$1('fetch'),\n      defaulted$1('minChars', 5),\n      defaulted$1('responseTime', 1000),\n      onHandler('onOpen'),\n      defaulted$1('getHotspot', Option.some),\n      defaulted$1('getAnchorOverrides', constant({})),\n      defaulted$1('layouts', Option.none()),\n      defaulted$1('eventOrder', {}),\n      defaultedObjOf('model', {}, [\n        defaulted$1('getDisplayText', function (itemData) {\n          return itemData.meta !== undefined && itemData.meta.text !== undefined ? itemData.meta.text : itemData.value;\n        }),\n        defaulted$1('selectsOver', true),\n        defaulted$1('populateFromBrowse', true)\n      ]),\n      onHandler('onSetValue'),\n      onKeyboardHandler('onExecute'),\n      onHandler('onItemExecute'),\n      defaulted$1('inputClasses', []),\n      defaulted$1('inputAttributes', {}),\n      defaulted$1('inputStyles', {}),\n      defaulted$1('matchWidth', true),\n      defaulted$1('useMinWidth', false),\n      defaulted$1('dismissOnBlur', true),\n      markers(['openClass']),\n      option('initialData'),\n      field$1('typeaheadBehaviours', [\n        Focusing,\n        Representing,\n        Streaming,\n        Keying,\n        Toggling,\n        Coupling\n      ]),\n      state$1('previewing', function () {\n        return Cell(true);\n      })\n    ].concat(schema$f()).concat(sandboxFields()));\n    var parts$6 = constant([external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        overrides: function (detail) {\n          return {\n            fakeFocus: true,\n            onHighlight: function (menu, item) {\n              if (!detail.previewing.get()) {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  if (detail.model.populateFromBrowse) {\n                    setValueFromItem(detail.model, input, item);\n                  }\n                });\n              } else {\n                menu.getSystem().getByUid(detail.uid).each(function (input) {\n                  attemptSelectOver(detail.model, input, item).fold(function () {\n                    return Highlighting.dehighlight(menu, item);\n                  }, function (fn) {\n                    return fn();\n                  });\n                });\n              }\n              detail.previewing.set(false);\n            },\n            onExecute: function (menu, item) {\n              return menu.getSystem().getByUid(detail.uid).toOption().map(function (typeahead) {\n                emitWith(typeahead, itemExecute(), { item: item });\n                return true;\n              });\n            },\n            onHover: function (menu, item) {\n              detail.previewing.set(false);\n              menu.getSystem().getByUid(detail.uid).each(function (input) {\n                if (detail.model.populateFromBrowse) {\n                  setValueFromItem(detail.model, input, item);\n                }\n              });\n            }\n          };\n        }\n      })]);\n\n    var Typeahead = composite$1({\n      name: 'Typeahead',\n      configFields: schema$j(),\n      partFields: parts$6(),\n      factory: make$5\n    });\n\n    var wrap$2 = function (delegate) {\n      var toCached = function () {\n        return wrap$2(delegate.toCached());\n      };\n      var bindFuture = function (f) {\n        return wrap$2(delegate.bind(function (resA) {\n          return resA.fold(function (err) {\n            return Future.pure(Result.error(err));\n          }, function (a) {\n            return f(a);\n          });\n        }));\n      };\n      var bindResult = function (f) {\n        return wrap$2(delegate.map(function (resA) {\n          return resA.bind(f);\n        }));\n      };\n      var mapResult = function (f) {\n        return wrap$2(delegate.map(function (resA) {\n          return resA.map(f);\n        }));\n      };\n      var mapError = function (f) {\n        return wrap$2(delegate.map(function (resA) {\n          return resA.mapError(f);\n        }));\n      };\n      var foldResult = function (whenError, whenValue) {\n        return delegate.map(function (res) {\n          return res.fold(whenError, whenValue);\n        });\n      };\n      var withTimeout = function (timeout, errorThunk) {\n        return wrap$2(Future.nu(function (callback) {\n          var timedOut = false;\n          var timer = domGlobals.setTimeout(function () {\n            timedOut = true;\n            callback(Result.error(errorThunk()));\n          }, timeout);\n          delegate.get(function (result) {\n            if (!timedOut) {\n              domGlobals.clearTimeout(timer);\n              callback(result);\n            }\n          });\n        }));\n      };\n      return __assign(__assign({}, delegate), {\n        toCached: toCached,\n        bindFuture: bindFuture,\n        bindResult: bindResult,\n        mapResult: mapResult,\n        mapError: mapError,\n        foldResult: foldResult,\n        withTimeout: withTimeout\n      });\n    };\n    var nu$c = function (worker) {\n      return wrap$2(Future.nu(worker));\n    };\n    var value$2 = function (value) {\n      return wrap$2(Future.pure(Result.value(value)));\n    };\n    var error$1 = function (error) {\n      return wrap$2(Future.pure(Result.error(error)));\n    };\n    var fromResult$1 = function (result) {\n      return wrap$2(Future.pure(result));\n    };\n    var fromFuture = function (future) {\n      return wrap$2(future.map(Result.value));\n    };\n    var fromPromise = function (promise) {\n      return nu$c(function (completer) {\n        promise.then(function (value) {\n          completer(Result.value(value));\n        }, function (error) {\n          completer(Result.error(error));\n        });\n      });\n    };\n    var FutureResult = {\n      nu: nu$c,\n      wrap: wrap$2,\n      pure: value$2,\n      value: value$2,\n      error: error$1,\n      fromResult: fromResult$1,\n      fromFuture: fromFuture,\n      fromPromise: fromPromise\n    };\n\n    var separator$2 = { type: 'separator' };\n    var toMenuItem = function (target) {\n      return {\n        type: 'menuitem',\n        value: target.url,\n        text: target.title,\n        meta: { attach: target.attach },\n        onAction: function () {\n        }\n      };\n    };\n    var staticMenuItem = function (title, url) {\n      return {\n        type: 'menuitem',\n        value: url,\n        text: title,\n        meta: { attach: undefined },\n        onAction: function () {\n        }\n      };\n    };\n    var toMenuItems = function (targets) {\n      return map(targets, toMenuItem);\n    };\n    var filterLinkTargets = function (type, targets) {\n      return filter(targets, function (target) {\n        return target.type === type;\n      });\n    };\n    var filteredTargets = function (type, targets) {\n      return toMenuItems(filterLinkTargets(type, targets));\n    };\n    var headerTargets = function (linkInfo) {\n      return filteredTargets('header', linkInfo.targets);\n    };\n    var anchorTargets = function (linkInfo) {\n      return filteredTargets('anchor', linkInfo.targets);\n    };\n    var anchorTargetTop = function (linkInfo) {\n      return Option.from(linkInfo.anchorTop).map(function (url) {\n        return staticMenuItem('<top>', url);\n      }).toArray();\n    };\n    var anchorTargetBottom = function (linkInfo) {\n      return Option.from(linkInfo.anchorBottom).map(function (url) {\n        return staticMenuItem('<bottom>', url);\n      }).toArray();\n    };\n    var historyTargets = function (history) {\n      return map(history, function (url) {\n        return staticMenuItem(url, url);\n      });\n    };\n    var joinMenuLists = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator$2, b);\n      }, []);\n    };\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      return filter(menuItems, function (item) {\n        var text = item.meta !== undefined && item.meta.text !== undefined ? item.meta.text : item.text;\n        return contains$1(text.toLowerCase(), lowerCaseTerm) || contains$1(item.value.toLowerCase(), lowerCaseTerm);\n      });\n    };\n\n    var getItems = function (fileType, input, urlBackstage) {\n      var urlInputValue = Representing.getValue(input);\n      var term = urlInputValue.meta.text !== undefined ? urlInputValue.meta.text : urlInputValue.value;\n      var info = urlBackstage.getLinkInformation();\n      return info.fold(function () {\n        return [];\n      }, function (linkInfo) {\n        var history = filterByQuery(term, historyTargets(urlBackstage.getHistory(fileType)));\n        return fileType === 'file' ? joinMenuLists([\n          history,\n          filterByQuery(term, headerTargets(linkInfo)),\n          filterByQuery(term, flatten([\n            anchorTargetTop(linkInfo),\n            anchorTargets(linkInfo),\n            anchorTargetBottom(linkInfo)\n          ]))\n        ]) : history;\n      });\n    };\n    var errorId = generate$1('aria-invalid');\n    var renderUrlInput = function (spec, backstage, urlBackstage) {\n      var _a;\n      var providersBackstage = backstage.shared.providers;\n      var updateHistory = function (component) {\n        var urlEntry = Representing.getValue(component);\n        urlBackstage.addToHistory(urlEntry.value, spec.filetype);\n      };\n      var pField = FormField.parts().field({\n        factory: Typeahead,\n        dismissOnBlur: true,\n        inputClasses: ['tox-textfield'],\n        sandboxClasses: ['tox-dialog__popups'],\n        inputAttributes: {\n          'aria-errormessage': errorId,\n          'type': 'url'\n        },\n        minChars: 0,\n        responseTime: 0,\n        fetch: function (input) {\n          var items = getItems(spec.filetype, input, urlBackstage);\n          var tdata = build$2(items, ItemResponse$1.BUBBLE_TO_SANDBOX, backstage, false);\n          return Future.pure(tdata);\n        },\n        getHotspot: function (comp) {\n          return memUrlBox.getOpt(comp);\n        },\n        onSetValue: function (comp, newValue) {\n          if (comp.hasConfigured(Invalidating)) {\n            Invalidating.run(comp).get(noop);\n          }\n        },\n        typeaheadBehaviours: derive$1(flatten([\n          urlBackstage.getValidationHandler().map(function (handler) {\n            return Invalidating.config({\n              getRoot: function (comp) {\n                return parent(comp.element());\n              },\n              invalidClass: 'tox-control-wrap--status-invalid',\n              notify: {\n                onInvalid: function (comp, err) {\n                  memInvalidIcon.getOpt(comp).each(function (invalidComp) {\n                    set$1(invalidComp.element(), 'title', providersBackstage.translate(err));\n                  });\n                }\n              },\n              validator: {\n                validate: function (input) {\n                  var urlEntry = Representing.getValue(input);\n                  return FutureResult.nu(function (completer) {\n                    handler({\n                      type: spec.filetype,\n                      url: urlEntry.value\n                    }, function (validation) {\n                      if (validation.status === 'invalid') {\n                        var err = Result.error(validation.message);\n                        completer(err);\n                      } else {\n                        var val = Result.value(validation.message);\n                        completer(val);\n                      }\n                    });\n                  });\n                },\n                validateOnLoad: false\n              }\n            });\n          }).toArray(),\n          [\n            Disabling.config({ disabled: spec.disabled }),\n            Tabstopping.config({}),\n            config('urlinput-events', flatten([\n              spec.filetype === 'file' ? [run(input(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                })] : [],\n              [\n                run(change(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                }),\n                run(postPaste(), function (comp) {\n                  emitWith(comp, formChangeEvent, { name: spec.name });\n                  updateHistory(comp);\n                })\n              ]\n            ]))\n          ]\n        ])),\n        eventOrder: (_a = {}, _a[input()] = [\n          'streaming',\n          'urlinput-events',\n          'invalidating'\n        ], _a),\n        model: {\n          getDisplayText: function (itemData) {\n            return itemData.value;\n          },\n          selectsOver: false,\n          populateFromBrowse: false\n        },\n        markers: { openClass: 'tox-textfield--popup-open' },\n        lazySink: backstage.shared.getSink,\n        parts: { menu: part(false, 1, 'normal') },\n        onExecute: function (_menu, component, _entry) {\n          emitWith(component, formSubmitEvent, {});\n        },\n        onItemExecute: function (typeahead, _sandbox, _item, _value) {\n          updateHistory(typeahead);\n          emitWith(typeahead, formChangeEvent, { name: spec.name });\n        }\n      });\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var makeIcon = function (name, errId, icon, label) {\n        if (icon === void 0) {\n          icon = name;\n        }\n        if (label === void 0) {\n          label = name;\n        }\n        return {\n          dom: {\n            tag: 'div',\n            classes: [\n              'tox-icon',\n              'tox-control-wrap__status-icon-' + name\n            ],\n            innerHtml: get$c(icon, providersBackstage.icons),\n            attributes: __assign({\n              'title': providersBackstage.translate(label),\n              'aria-live': 'polite'\n            }, errId.fold(function () {\n              return {};\n            }, function (id) {\n              return { id: id };\n            }))\n          }\n        };\n      };\n      var memInvalidIcon = record(makeIcon('invalid', Option.some(errorId), 'warning'));\n      var memStatus = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap__status-icon-wrap']\n        },\n        components: [memInvalidIcon.asSpec()]\n      });\n      var optUrlPicker = urlBackstage.getUrlPicker(spec.filetype);\n      var browseUrlEvent = generate$1('browser.url.event');\n      var memUrlBox = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-control-wrap']\n        },\n        components: [\n          pField,\n          memStatus.asSpec()\n        ],\n        behaviours: derive$1([Disabling.config({ disabled: spec.disabled })])\n      });\n      var memUrlPickerButton = record(renderButton({\n        name: spec.name,\n        icon: Option.some('browse'),\n        text: spec.label.getOr(''),\n        disabled: spec.disabled,\n        primary: false,\n        borderless: true\n      }, function (component) {\n        return emit(component, browseUrlEvent);\n      }, providersBackstage, [], ['tox-browse-url']));\n      var controlHWrapper = function () {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__controls-h-stack']\n          },\n          components: flatten([\n            [memUrlBox.asSpec()],\n            optUrlPicker.map(function () {\n              return memUrlPickerButton.asSpec();\n            }).toArray()\n          ])\n        };\n      };\n      var openUrlPicker = function (comp) {\n        Composing.getCurrent(comp).each(function (field) {\n          var urlData = Representing.getValue(field);\n          optUrlPicker.each(function (picker) {\n            picker(urlData).get(function (chosenData) {\n              Representing.setValue(field, chosenData);\n              emitWith(comp, formChangeEvent, { name: spec.name });\n            });\n          });\n        });\n      };\n      return FormField.sketch({\n        dom: renderFormFieldDom(),\n        components: pLabel.toArray().concat([controlHWrapper()]),\n        fieldBehaviours: derive$1([\n          Disabling.config({\n            disabled: spec.disabled,\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n              memUrlPickerButton.getOpt(comp).each(Disabling.enable);\n            }\n          }),\n          config('url-input-events', [run(browseUrlEvent, openUrlPicker)])\n        ])\n      });\n    };\n\n    var renderCheckbox = function (spec, providerBackstage) {\n      var repBehaviour = Representing.config({\n        store: {\n          mode: 'manual',\n          getValue: function (comp) {\n            var el = comp.element().dom();\n            return el.checked;\n          },\n          setValue: function (comp, value) {\n            var el = comp.element().dom();\n            el.checked = value;\n          }\n        }\n      });\n      var toggleCheckboxHandler = function (comp) {\n        comp.element().dom().click();\n        return Option.some(true);\n      };\n      var pField = FormField.parts().field({\n        factory: { sketch: identity },\n        dom: {\n          tag: 'input',\n          classes: ['tox-checkbox__input'],\n          attributes: { type: 'checkbox' }\n        },\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Disabling.config({ disabled: spec.disabled }),\n          Tabstopping.config({}),\n          Focusing.config({}),\n          repBehaviour,\n          Keying.config({\n            mode: 'special',\n            onEnter: toggleCheckboxHandler,\n            onSpace: toggleCheckboxHandler,\n            stopSpaceKeyup: true\n          }),\n          config('checkbox-events', [run(change(), function (component, _) {\n              emitWith(component, formChangeEvent, { name: spec.name });\n            })])\n        ])\n      });\n      var pLabel = FormField.parts().label({\n        dom: {\n          tag: 'span',\n          classes: ['tox-checkbox__label'],\n          innerHtml: providerBackstage.translate(spec.label)\n        },\n        behaviours: derive$1([Unselecting.config({})])\n      });\n      var makeIcon = function (className) {\n        var iconName = className === 'checked' ? 'selected' : 'unselected';\n        return {\n          dom: {\n            tag: 'span',\n            classes: [\n              'tox-icon',\n              'tox-checkbox-icon__' + className\n            ],\n            innerHtml: get$c(iconName, providerBackstage.icons)\n          }\n        };\n      };\n      var memIcons = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-checkbox__icons']\n        },\n        components: [\n          makeIcon('checked'),\n          makeIcon('unchecked')\n        ]\n      });\n      return FormField.sketch({\n        dom: {\n          tag: 'label',\n          classes: ['tox-checkbox']\n        },\n        components: [\n          pField,\n          memIcons.asSpec(),\n          pLabel\n        ],\n        fieldBehaviours: derive$1([Disabling.config({\n            disabled: spec.disabled,\n            disableClass: 'tox-checkbox--disabled',\n            onDisabled: function (comp) {\n              FormField.getField(comp).each(Disabling.disable);\n            },\n            onEnabled: function (comp) {\n              FormField.getField(comp).each(Disabling.enable);\n            }\n          })])\n      });\n    };\n\n    var renderHtmlPanel = function (spec) {\n      if (spec.presets === 'presentation') {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html\n          }\n        });\n      } else {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-form__group'],\n            innerHtml: spec.html,\n            attributes: { role: 'document' }\n          },\n          containerBehaviours: derive$1([\n            Tabstopping.config({}),\n            Focusing.config({})\n          ])\n        });\n      }\n    };\n\n    var renderLabel$2 = function (spec, backstageShared) {\n      var label = {\n        dom: {\n          tag: 'label',\n          innerHtml: backstageShared.providers.translate(spec.label),\n          classes: ['tox-label']\n        }\n      };\n      var comps = map(spec.items, backstageShared.interpreter);\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-form__group']\n        },\n        components: [label].concat(comps),\n        behaviours: derive$1([\n          ComposingConfigs.self(),\n          Replacing.config({}),\n          RepresentingConfigs.domHtml(Option.none()),\n          Keying.config({ mode: 'acyclic' })\n        ])\n      };\n    };\n\n    var renderCollection = function (spec, providersBackstage) {\n      var pLabel = spec.label.map(function (label) {\n        return renderLabel(label, providersBackstage);\n      });\n      var runOnItem = function (f) {\n        return function (comp, se) {\n          closest$3(se.event().target(), '[data-collection-item-value]').each(function (target) {\n            f(comp, target, get$2(target, 'data-collection-item-value'));\n          });\n        };\n      };\n      var escapeAttribute = function (ch) {\n        if (ch === '\"') {\n          return '&quot;';\n        }\n        return ch;\n      };\n      var setContents = function (comp, items) {\n        var htmlLines = map(items, function (item) {\n          var itemText = global$5.translate(item.text);\n          var textContent = spec.columns === 1 ? '<div class=\"tox-collection__item-label\">' + itemText + '</div>' : '';\n          var iconContent = '<div class=\"tox-collection__item-icon\">' + item.icon + '</div>';\n          var mapItemName = {\n            '_': ' ',\n            ' - ': ' ',\n            '-': ' '\n          };\n          var ariaLabel = itemText.replace(/\\_| \\- |\\-/g, function (match) {\n            return mapItemName[match];\n          });\n          return '<div class=\"tox-collection__item\" tabindex=\"-1\" data-collection-item-value=\"' + escapeAttribute(item.value) + '\" title=\"' + ariaLabel + '\" aria-label=\"' + ariaLabel + '\">' + iconContent + textContent + '</div>';\n        });\n        var chunks = spec.columns > 1 && spec.columns !== 'auto' ? chunk(htmlLines, spec.columns) : [htmlLines];\n        var html = map(chunks, function (ch) {\n          return '<div class=\"tox-collection__group\">' + ch.join('') + '</div>';\n        });\n        set(comp.element(), html.join(''));\n      };\n      var collectionEvents = [\n        run(mouseover(), runOnItem(function (comp, tgt) {\n          focus$1(tgt);\n        })),\n        run(tapOrClick(), runOnItem(function (comp, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        })),\n        run(focusin(), runOnItem(function (comp, tgt, itemValue) {\n          descendant$1(comp.element(), '.' + activeClass).each(function (currentActive) {\n            remove$4(currentActive, activeClass);\n          });\n          add$2(tgt, activeClass);\n        })),\n        run(focusout(), runOnItem(function (comp, tgt, itemValue) {\n          descendant$1(comp.element(), '.' + activeClass).each(function (currentActive) {\n            remove$4(currentActive, activeClass);\n          });\n        })),\n        runOnExecute(runOnItem(function (comp, tgt, itemValue) {\n          emitWith(comp, formActionEvent, {\n            name: spec.name,\n            value: itemValue\n          });\n        }))\n      ];\n      var pField = FormField.parts().field({\n        dom: {\n          tag: 'div',\n          classes: ['tox-collection'].concat(spec.columns !== 1 ? ['tox-collection--grid'] : ['tox-collection--list'])\n        },\n        components: [],\n        factory: { sketch: identity },\n        behaviours: derive$1([\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: []\n            },\n            onSetValue: function (comp, items) {\n              setContents(comp, items);\n              if (spec.columns === 'auto') {\n                detectSize(comp, 5, 'tox-collection__item').each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              }\n              emit(comp, formResizeEvent);\n            }\n          }),\n          Tabstopping.config({}),\n          Keying.config(deriveCollectionMovement(spec.columns, 'normal')),\n          config('collection-events', collectionEvents)\n        ])\n      });\n      var extraClasses = ['tox-form__group--collection'];\n      return renderFormFieldWith(pLabel, pField, extraClasses, []);\n    };\n\n    var renderTable = function (spec, providersBackstage) {\n      var renderTh = function (text) {\n        return {\n          dom: {\n            tag: 'th',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderHeader = function (header) {\n        return {\n          dom: { tag: 'thead' },\n          components: [{\n              dom: { tag: 'tr' },\n              components: map(header, renderTh)\n            }]\n        };\n      };\n      var renderTd = function (text) {\n        return {\n          dom: {\n            tag: 'td',\n            innerHtml: providersBackstage.translate(text)\n          }\n        };\n      };\n      var renderTr = function (row) {\n        return {\n          dom: { tag: 'tr' },\n          components: map(row, renderTd)\n        };\n      };\n      var renderRows = function (rows) {\n        return {\n          dom: { tag: 'tbody' },\n          components: map(rows, renderTr)\n        };\n      };\n      return {\n        dom: {\n          tag: 'table',\n          classes: ['tox-dialog__table']\n        },\n        components: [\n          renderHeader(spec.header),\n          renderRows(spec.cells)\n        ],\n        behaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n\n    var renderPanel = function (spec, backstage) {\n      return {\n        dom: {\n          tag: 'div',\n          classes: spec.classes\n        },\n        components: map(spec.items, backstage.shared.interpreter)\n      };\n    };\n\n    var make$6 = function (render) {\n      return function (parts, spec, backstage) {\n        return readOptFrom$1(spec, 'name').fold(function () {\n          return render(spec, backstage);\n        }, function (fieldName) {\n          return parts.field(fieldName, render(spec, backstage));\n        });\n      };\n    };\n    var makeIframe = function (render) {\n      return function (parts, spec, backstage) {\n        var iframeSpec = deepMerge(spec, { source: 'dynamic' });\n        return make$6(render)(parts, iframeSpec, backstage);\n      };\n    };\n    var factories = {\n      bar: make$6(function (spec, backstage) {\n        return renderBar(spec, backstage.shared);\n      }),\n      collection: make$6(function (spec, backstage) {\n        return renderCollection(spec, backstage.shared.providers);\n      }),\n      alertbanner: make$6(function (spec, backstage) {\n        return renderAlertBanner(spec, backstage.shared.providers);\n      }),\n      input: make$6(function (spec, backstage) {\n        return renderInput(spec, backstage.shared.providers);\n      }),\n      textarea: make$6(function (spec, backstage) {\n        return renderTextarea(spec, backstage.shared.providers);\n      }),\n      label: make$6(function (spec, backstage) {\n        return renderLabel$2(spec, backstage.shared);\n      }),\n      iframe: makeIframe(function (spec, backstage) {\n        return renderIFrame(spec, backstage.shared.providers);\n      }),\n      button: make$6(function (spec, backstage) {\n        return renderDialogButton(spec, backstage.shared.providers);\n      }),\n      checkbox: make$6(function (spec, backstage) {\n        return renderCheckbox(spec, backstage.shared.providers);\n      }),\n      colorinput: make$6(function (spec, backstage) {\n        return renderColorInput(spec, backstage.shared, backstage.colorinput);\n      }),\n      colorpicker: make$6(renderColorPicker),\n      dropzone: make$6(function (spec, backstage) {\n        return renderDropZone(spec, backstage.shared.providers);\n      }),\n      grid: make$6(function (spec, backstage) {\n        return renderGrid(spec, backstage.shared);\n      }),\n      selectbox: make$6(function (spec, backstage) {\n        return renderSelectBox(spec, backstage.shared.providers);\n      }),\n      sizeinput: make$6(function (spec, backstage) {\n        return renderSizeInput(spec, backstage.shared.providers);\n      }),\n      urlinput: make$6(function (spec, backstage) {\n        return renderUrlInput(spec, backstage, backstage.urlinput);\n      }),\n      customeditor: make$6(renderCustomEditor),\n      htmlpanel: make$6(renderHtmlPanel),\n      imagetools: make$6(function (spec, backstage) {\n        return renderImageTools(spec, backstage.shared.providers);\n      }),\n      table: make$6(function (spec, backstage) {\n        return renderTable(spec, backstage.shared.providers);\n      }),\n      panel: make$6(function (spec, backstage) {\n        return renderPanel(spec, backstage);\n      })\n    };\n    var noFormParts = {\n      field: function (_name, spec) {\n        return spec;\n      }\n    };\n    var interpretInForm = function (parts, spec, oldBackstage) {\n      var newBackstage = deepMerge(oldBackstage, {\n        shared: {\n          interpreter: function (childSpec) {\n            return interpretParts(parts, childSpec, newBackstage);\n          }\n        }\n      });\n      return interpretParts(parts, spec, newBackstage);\n    };\n    var interpretParts = function (parts, spec, backstage) {\n      return readOptFrom$1(factories, spec.type).fold(function () {\n        domGlobals.console.error('Unknown factory type \"' + spec.type + '\", defaulting to container: ', spec);\n        return spec;\n      }, function (factory) {\n        return factory(parts, spec, backstage);\n      });\n    };\n    var interpretWithoutForm = function (spec, backstage) {\n      var parts = noFormParts;\n      return interpretParts(parts, spec, backstage);\n    };\n\n    var expandable$1 = constant(function (element, available) {\n      setMax$1(element, Math.floor(available));\n    });\n\n    var bubbleAlignments = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: [],\n      alignRight: [],\n      right: [],\n      left: [],\n      bottom: [],\n      top: []\n    };\n    var getToolbarAnchor = function (bodyElement, lazyAnchorbar, useFixedToolbarContainer) {\n      var fixedToolbarAnchor = function () {\n        return {\n          anchor: 'node',\n          root: bodyElement(),\n          node: Option.from(bodyElement()),\n          bubble: nu$8(-12, -12, bubbleAlignments),\n          layouts: {\n            onRtl: function () {\n              return [northeast$3];\n            },\n            onLtr: function () {\n              return [northwest$3];\n            }\n          },\n          overrides: { maxHeightFunction: expandable() }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          anchor: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          bubble: nu$8(-12, 12, bubbleAlignments),\n          layouts: {\n            onRtl: function () {\n              return [southeast$1];\n            },\n            onLtr: function () {\n              return [southwest$1];\n            }\n          },\n          overrides: { maxHeightFunction: expandable() }\n        };\n      };\n      return useFixedToolbarContainer ? fixedToolbarAnchor : standardAnchor;\n    };\n    var getBannerAnchor = function (bodyElement, lazyAnchorbar, useFixedToolbarContainer) {\n      var fixedToolbarAnchor = function () {\n        return {\n          anchor: 'node',\n          root: bodyElement(),\n          node: Option.from(bodyElement()),\n          layouts: {\n            onRtl: function () {\n              return [north$3];\n            },\n            onLtr: function () {\n              return [north$3];\n            }\n          }\n        };\n      };\n      var standardAnchor = function () {\n        return {\n          anchor: 'hotspot',\n          hotspot: lazyAnchorbar(),\n          layouts: {\n            onRtl: function () {\n              return [south$1];\n            },\n            onLtr: function () {\n              return [south$1];\n            }\n          }\n        };\n      };\n      return useFixedToolbarContainer ? fixedToolbarAnchor : standardAnchor;\n    };\n    var getToolbarOverflowAnchor = function (lazyMoreButton) {\n      return function () {\n        return {\n          anchor: 'hotspot',\n          hotspot: lazyMoreButton(),\n          overrides: { maxWidthFunction: expandable$1() },\n          layouts: {\n            onRtl: function () {\n              return [\n                southeast$1,\n                southwest$1\n              ];\n            },\n            onLtr: function () {\n              return [\n                southwest$1,\n                southeast$1\n              ];\n            }\n          }\n        };\n      };\n    };\n    var getCursorAnchor = function (editor, bodyElement) {\n      return function () {\n        return {\n          anchor: 'selection',\n          root: bodyElement(),\n          getSelection: function () {\n            var rng = editor.selection.getRng();\n            return Option.some(Selection.range(Element.fromDom(rng.startContainer), rng.startOffset, Element.fromDom(rng.endContainer), rng.endOffset));\n          }\n        };\n      };\n    };\n    var getNodeAnchor = function (bodyElement) {\n      return function (element) {\n        return {\n          anchor: 'node',\n          root: bodyElement(),\n          node: element\n        };\n      };\n    };\n    var getAnchors = function (editor, lazyAnchorbar, lazyMoreButton) {\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var bodyElement = function () {\n        return Element.fromDom(editor.getBody());\n      };\n      return {\n        toolbar: getToolbarAnchor(bodyElement, lazyAnchorbar, useFixedToolbarContainer),\n        toolbarOverflow: getToolbarOverflowAnchor(lazyMoreButton),\n        banner: getBannerAnchor(bodyElement, lazyAnchorbar, useFixedToolbarContainer),\n        cursor: getCursorAnchor(editor, bodyElement),\n        node: getNodeAnchor(bodyElement)\n      };\n    };\n    var Anchors = { getAnchors: getAnchors };\n\n    var colorPicker = function (editor) {\n      return function (callback, value) {\n        var dialog = ColorSwatch.colorPickerDialog(editor);\n        dialog(callback, value);\n      };\n    };\n    var hasCustomColors$1 = function (editor) {\n      return function () {\n        return Settings.hasCustomColors(editor);\n      };\n    };\n    var getColors$1 = function (editor) {\n      return function () {\n        return Settings.getColors(editor);\n      };\n    };\n    var getColorCols$2 = function (editor) {\n      return function () {\n        return ColorSwatch.getColorCols(editor);\n      };\n    };\n    var ColorInputBackstage = function (editor) {\n      return {\n        colorPicker: colorPicker(editor),\n        hasCustomColors: hasCustomColors$1(editor),\n        getColors: getColors$1(editor),\n        getColorCols: getColorCols$2(editor)\n      };\n    };\n\n    var isDraggableModal$1 = function (editor) {\n      return function () {\n        return isDraggableModal(editor);\n      };\n    };\n    var DialogBackstage = function (editor) {\n      return { isDraggableModal: isDraggableModal$1(editor) };\n    };\n\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            icon: 'bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            icon: 'italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            icon: 'underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            icon: 'strike-through',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            icon: 'superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            icon: 'subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            icon: 'code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Align',\n        items: [\n          {\n            title: 'Left',\n            icon: 'align-left',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            icon: 'align-center',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            icon: 'align-right',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            icon: 'align-justify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var isNestedFormat = function (format) {\n      return has(format, 'items');\n    };\n    var isBlockFormat = function (format) {\n      return has(format, 'block');\n    };\n    var isInlineFormat = function (format) {\n      return has(format, 'inline');\n    };\n    var isSelectorFormat = function (format) {\n      return has(format, 'selector');\n    };\n    var mapFormats = function (userFormats) {\n      return foldl(userFormats, function (acc, fmt) {\n        if (isNestedFormat(fmt)) {\n          var result = mapFormats(fmt.items);\n          return {\n            customFormats: acc.customFormats.concat(result.customFormats),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                items: result.formats\n              }])\n          };\n        } else if (isInlineFormat(fmt) || isBlockFormat(fmt) || isSelectorFormat(fmt)) {\n          var formatName = 'custom-' + fmt.title.toLowerCase();\n          return {\n            customFormats: acc.customFormats.concat([{\n                name: formatName,\n                format: fmt\n              }]),\n            formats: acc.formats.concat([{\n                title: fmt.title,\n                format: formatName,\n                icon: fmt.icon\n              }])\n          };\n        } else {\n          return __assign(__assign({}, acc), { formats: acc.formats.concat(fmt) });\n        }\n      }, {\n        customFormats: [],\n        formats: []\n      });\n    };\n    var registerCustomFormats = function (editor, userFormats) {\n      var result = mapFormats(userFormats);\n      var registerFormats = function (customFormats) {\n        each(customFormats, function (fmt) {\n          if (!editor.formatter.has(fmt.name)) {\n            editor.formatter.register(fmt.name, fmt.format);\n          }\n        });\n      };\n      if (editor.formatter) {\n        registerFormats(result.customFormats);\n      } else {\n        editor.on('init', function () {\n          registerFormats(result.customFormats);\n        });\n      }\n      return result.formats;\n    };\n    var getStyleFormats = function (editor) {\n      return getUserStyleFormats(editor).map(function (userFormats) {\n        var registeredUserFormats = registerCustomFormats(editor, userFormats);\n        return isMergeStyleFormats(editor) ? defaultStyleFormats.concat(registeredUserFormats) : registeredUserFormats;\n      }).getOr(defaultStyleFormats);\n    };\n\n    var processBasic = function (item, isSelectedFor, getPreviewFor) {\n      var formatterSpec = {\n        type: 'formatter',\n        isSelected: isSelectedFor(item.format),\n        getStylePreview: getPreviewFor(item.format)\n      };\n      return deepMerge(item, formatterSpec);\n    };\n    var register$3 = function (editor, formats, isSelectedFor, getPreviewFor) {\n      var enrichSupported = function (item) {\n        return processBasic(item, isSelectedFor, getPreviewFor);\n      };\n      var enrichMenu = function (item) {\n        var submenuSpec = {\n          type: 'submenu',\n          isSelected: constant(false),\n          getStylePreview: function () {\n            return Option.none();\n          }\n        };\n        return deepMerge(item, submenuSpec);\n      };\n      var enrichCustom = function (item) {\n        var formatName = generate$1(item.title);\n        var customSpec = {\n          type: 'formatter',\n          format: formatName,\n          isSelected: isSelectedFor(formatName),\n          getStylePreview: getPreviewFor(formatName)\n        };\n        var newItem = deepMerge(item, customSpec);\n        editor.formatter.register(formatName, newItem);\n        return newItem;\n      };\n      var doEnrich = function (items) {\n        return map(items, function (item) {\n          var keys$1 = keys(item);\n          if (hasKey$1(item, 'items')) {\n            var newItems_1 = doEnrich(item.items);\n            return deepMerge(enrichMenu(item), {\n              getStyleItems: function () {\n                return newItems_1;\n              }\n            });\n          } else if (hasKey$1(item, 'format')) {\n            return enrichSupported(item);\n          } else if (keys$1.length === 1 && contains(keys$1, 'title')) {\n            return deepMerge(item, { type: 'separator' });\n          } else {\n            return enrichCustom(item);\n          }\n        });\n      };\n      return doEnrich(formats);\n    };\n\n    var init$7 = function (editor) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Option.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styleAttr: editor.formatter.getCssText(format)\n          }) : Option.none();\n        };\n      };\n      var flatten = function (fmt) {\n        var subs = fmt.items;\n        return subs !== undefined && subs.length > 0 ? bind(subs, flatten) : [fmt.format];\n      };\n      var settingsFormats = Cell([]);\n      var settingsFlattenedFormats = Cell([]);\n      var eventsFormats = Cell([]);\n      var eventsFlattenedFormats = Cell([]);\n      var replaceSettings = Cell(false);\n      editor.on('init', function () {\n        var formats = getStyleFormats(editor);\n        var enriched = register$3(editor, formats, isSelectedFor, getPreviewFor);\n        settingsFormats.set(enriched);\n        settingsFlattenedFormats.set(bind(enriched, flatten));\n      });\n      editor.on('addStyleModifications', function (e) {\n        var modifications = register$3(editor, e.items, isSelectedFor, getPreviewFor);\n        eventsFormats.set(modifications);\n        replaceSettings.set(e.replace);\n        eventsFlattenedFormats.set(bind(modifications, flatten));\n      });\n      var getData = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFormats.get();\n        var fromEvents = eventsFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      var getFlattenedKeys = function () {\n        var fromSettings = replaceSettings.get() ? [] : settingsFlattenedFormats.get();\n        var fromEvents = eventsFlattenedFormats.get();\n        return fromSettings.concat(fromEvents);\n      };\n      return {\n        getData: getData,\n        getFlattenedKeys: getFlattenedKeys\n      };\n    };\n\n    var trim$1 = global$e.trim;\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (node && node.nodeType === 1) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n    var create$8 = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n      return false;\n    };\n    var select = function (selector, root) {\n      return map(descendants(Element.fromDom(root), selector), function (element) {\n        return element.dom();\n      });\n    };\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate$1('h');\n    };\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name) !== undefined;\n    };\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n      var attach = function () {\n        elm.id = headerId;\n      };\n      return create$8('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create$8('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n    var getHeaderTargets = function (elms) {\n      return map(filter(elms, isValidHeader), headerTarget);\n    };\n    var getAnchorTargets = function (elms) {\n      return map(filter(elms, isValidAnchor), anchorTarget);\n    };\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n    var hasTitle = function (target) {\n      return trim$1(target.title).length > 0;\n    };\n    var find$5 = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n    var LinkTargets = { find: find$5 };\n\n    var STORAGE_KEY = 'tinymce-url-history';\n    var HISTORY_LENGTH = 5;\n    var isHttpUrl = function (url) {\n      return isString(url) && /^https?/.test(url);\n    };\n    var isArrayOfUrl = function (a) {\n      return isArray(a) && a.length <= HISTORY_LENGTH && forall(a, isHttpUrl);\n    };\n    var isRecordOfUrlArray = function (r) {\n      return isObject(r) && find$1(r, function (value) {\n        return !isArrayOfUrl(value);\n      }).isNone();\n    };\n    var getAllHistory = function () {\n      var unparsedHistory = domGlobals.localStorage.getItem(STORAGE_KEY);\n      if (unparsedHistory === null) {\n        return {};\n      }\n      var history;\n      try {\n        history = JSON.parse(unparsedHistory);\n      } catch (e) {\n        if (e instanceof SyntaxError) {\n          domGlobals.console.log('Local storage ' + STORAGE_KEY + ' was not valid JSON', e);\n          return {};\n        }\n        throw e;\n      }\n      if (!isRecordOfUrlArray(history)) {\n        domGlobals.console.log('Local storage ' + STORAGE_KEY + ' was not valid format', history);\n        return {};\n      }\n      return history;\n    };\n    var setAllHistory = function (history) {\n      if (!isRecordOfUrlArray(history)) {\n        throw new Error('Bad format for history:\\n' + JSON.stringify(history));\n      }\n      domGlobals.localStorage.setItem(STORAGE_KEY, JSON.stringify(history));\n    };\n    var getHistory = function (fileType) {\n      var history = getAllHistory();\n      return Object.prototype.hasOwnProperty.call(history, fileType) ? history[fileType] : [];\n    };\n    var addToHistory = function (url, fileType) {\n      if (!isHttpUrl(url)) {\n        return;\n      }\n      var history = getAllHistory();\n      var items = Object.prototype.hasOwnProperty.call(history, fileType) ? history[fileType] : [];\n      var itemsWithoutUrl = filter(items, function (item) {\n        return item !== url;\n      });\n      history[fileType] = [url].concat(itemsWithoutUrl).slice(0, HISTORY_LENGTH);\n      setAllHistory(history);\n    };\n\n    var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n    var isTruthy = function (value) {\n      return !!value;\n    };\n    var makeMap = function (value) {\n      return map$1(global$e.makeMap(value, /[, ]/), isTruthy);\n    };\n    var getOpt = function (obj, key) {\n      return hasOwnProperty$2.call(obj, key) ? Option.some(obj[key]) : Option.none();\n    };\n    var getTextSetting = function (settings, name, defaultValue) {\n      var value = getOpt(settings, name).getOr(defaultValue);\n      return isString(value) ? Option.some(value) : Option.none();\n    };\n    var getPicker = function (settings) {\n      return Option.some(settings.file_picker_callback).filter(isFunction);\n    };\n    var getPickerTypes = function (settings) {\n      var optFileTypes = Option.some(settings.file_picker_types).filter(isTruthy);\n      var optLegacyTypes = Option.some(settings.file_browser_callback_types).filter(isTruthy);\n      var optTypes = optFileTypes.or(optLegacyTypes).map(makeMap);\n      return getPicker(settings).fold(function () {\n        return false;\n      }, function (_picker) {\n        return optTypes.fold(function () {\n          return true;\n        }, function (types) {\n          return keys(types).length > 0 ? types : false;\n        });\n      });\n    };\n    var getPickerSetting = function (settings, filetype) {\n      var pickerTypes = getPickerTypes(settings);\n      if (isBoolean(pickerTypes)) {\n        return pickerTypes ? getPicker(settings) : Option.none();\n      } else {\n        return pickerTypes[filetype] ? getPicker(settings) : Option.none();\n      }\n    };\n    var getUrlPicker = function (editor, filetype) {\n      return getPickerSetting(editor.settings, filetype).map(function (picker) {\n        return function (entry) {\n          return Future.nu(function (completer) {\n            var handler = function (value, meta) {\n              if (!isString(value)) {\n                throw new Error('Expected value to be string');\n              }\n              if (meta !== undefined && !isObject(meta)) {\n                throw new Error('Expected meta to be a object');\n              }\n              var r = {\n                value: value,\n                meta: meta\n              };\n              completer(r);\n            };\n            var meta = global$e.extend({ filetype: filetype }, Option.from(entry.meta).getOr({}));\n            picker.call(editor, handler, entry.value, meta);\n          });\n        };\n      });\n    };\n    var getLinkInformation = function (editor) {\n      if (editor.settings.typeahead_urls === false) {\n        return Option.none();\n      }\n      return Option.some({\n        targets: LinkTargets.find(editor.getBody()),\n        anchorTop: getTextSetting(editor.settings, 'anchor_top', '#top').getOrUndefined(),\n        anchorBottom: getTextSetting(editor.settings, 'anchor_bottom', '#bottom').getOrUndefined()\n      });\n    };\n    var getValidationHandler = function (editor) {\n      var optValidator = Option.from(editor.settings.file_picker_validator_handler).filter(isFunction);\n      return optValidator.orThunk(function () {\n        return Option.from(editor.settings.filepicker_validator_handler).filter(isFunction);\n      });\n    };\n    var UrlInputBackstage = function (editor) {\n      return {\n        getHistory: getHistory,\n        addToHistory: addToHistory,\n        getLinkInformation: function () {\n          return getLinkInformation(editor);\n        },\n        getValidationHandler: function () {\n          return getValidationHandler(editor);\n        },\n        getUrlPicker: function (filetype) {\n          return getUrlPicker(editor, filetype);\n        }\n      };\n    };\n\n    var init$8 = function (sink, editor, lazyAnchorbar, lazyMoreButton) {\n      var contextMenuState = Cell(false);\n      var backstage = {\n        shared: {\n          providers: {\n            icons: function () {\n              return editor.ui.registry.getAll().icons;\n            },\n            menuItems: function () {\n              return editor.ui.registry.getAll().menuItems;\n            },\n            translate: global$5.translate\n          },\n          interpreter: function (s) {\n            return interpretWithoutForm(s, backstage);\n          },\n          anchors: Anchors.getAnchors(editor, lazyAnchorbar, lazyMoreButton),\n          getSink: function () {\n            return Result.value(sink);\n          }\n        },\n        urlinput: UrlInputBackstage(editor),\n        styleselect: init$7(editor),\n        colorinput: ColorInputBackstage(editor),\n        dialog: DialogBackstage(editor),\n        isContextMenuOpen: function () {\n          return contextMenuState.get();\n        },\n        setContextMenuState: function (state) {\n          return contextMenuState.set(state);\n        }\n      };\n      return backstage;\n    };\n\n    var showContextToolbarEvent = 'contexttoolbar-show';\n    var hideContextToolbarEvent = 'contexttoolbar-hide';\n\n    var schema$k = constant([\n      strict$1('dom'),\n      defaulted$1('shell', true),\n      field$1('toolbarBehaviours', [Replacing])\n    ]);\n    var enhanceGroups = function (detail) {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var parts$7 = constant([optional({\n        name: 'groups',\n        overrides: enhanceGroups\n      })]);\n\n    var factory$9 = function (detail, components, spec, _externals) {\n      var setGroups = function (toolbar, groups) {\n        getGroupContainer(toolbar).fold(function () {\n          domGlobals.console.error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n          throw new Error('Toolbar was defined to not be a shell, but no groups container was specified in components');\n        }, function (container) {\n          Replacing.set(container, groups);\n        });\n      };\n      var getGroupContainer = function (component) {\n        return detail.shell ? Option.some(component) : getPart(component, detail, 'groups');\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.toolbarBehaviours, extra.behaviours),\n        apis: { setGroups: setGroups },\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n    var Toolbar = composite$1({\n      name: 'Toolbar',\n      configFields: schema$k(),\n      partFields: parts$7(),\n      factory: factory$9,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        }\n      }\n    });\n\n    var generate$6 = function (xs, f) {\n      var init = {\n        len: 0,\n        list: []\n      };\n      var r = foldl(xs, function (b, a) {\n        var value = f(a, b.len);\n        return value.fold(constant(b), function (v) {\n          return {\n            len: v.finish(),\n            list: b.list.concat([v])\n          };\n        });\n      }, init);\n      return r.list;\n    };\n\n    var output$1 = Immutable('within', 'extra', 'withinWidth');\n    var apportion = function (units, total, len) {\n      var parray = generate$6(units, function (unit, current) {\n        var width = len(unit);\n        return Option.some({\n          element: constant(unit),\n          start: constant(current),\n          finish: constant(current + width),\n          width: constant(width)\n        });\n      });\n      var within = filter(parray, function (unit) {\n        return unit.finish() <= total;\n      });\n      var withinWidth = foldr(within, function (acc, el) {\n        return acc + el.width();\n      }, 0);\n      var extra = parray.slice(within.length);\n      return {\n        within: constant(within),\n        extra: constant(extra),\n        withinWidth: constant(withinWidth)\n      };\n    };\n    var toUnit = function (parray) {\n      return map(parray, function (unit) {\n        return unit.element();\n      });\n    };\n    var fitLast = function (within, extra, withinWidth) {\n      var fits = toUnit(within.concat(extra));\n      return output$1(fits, [], withinWidth);\n    };\n    var overflow = function (within, extra, overflower, withinWidth) {\n      var fits = toUnit(within).concat([overflower]);\n      return output$1(fits, toUnit(extra), withinWidth);\n    };\n    var fitAll = function (within, extra, withinWidth) {\n      return output$1(toUnit(within), [], withinWidth);\n    };\n    var tryFit = function (total, units, len) {\n      var divide = apportion(units, total, len);\n      return divide.extra().length === 0 ? Option.some(divide) : Option.none();\n    };\n    var partition$3 = function (total, units, len, overflower) {\n      var divide = tryFit(total, units, len).getOrThunk(function () {\n        return apportion(units, total - len(overflower), len);\n      });\n      var within = divide.within();\n      var extra = divide.extra();\n      var withinWidth = divide.withinWidth();\n      if (extra.length === 1 && extra[0].width() <= len(overflower)) {\n        return fitLast(within, extra, withinWidth);\n      } else if (extra.length >= 1) {\n        return overflow(within, extra, overflower, withinWidth);\n      } else {\n        return fitAll(within, extra, withinWidth);\n      }\n    };\n\n    var setStoredGroups = function (toolbar, storedGroups) {\n      var bGroups = map(storedGroups, function (g) {\n        return premade$1(g);\n      });\n      Toolbar.setGroups(toolbar, bGroups);\n    };\n    var findFocusedComp = function (overflow, overflowButton) {\n      return overflow.bind(function (overf) {\n        return search(overf.element()).bind(function (focusedElm) {\n          return overf.getSystem().getByDom(focusedElm).toOption();\n        });\n      }).orThunk(function () {\n        return overflowButton.filter(Focusing.isFocused);\n      });\n    };\n    var refresh = function (toolbar, detail, overflow, isOpen) {\n      var primary = getPartOrDie(toolbar, detail, 'primary');\n      var overflowButton = getPart(toolbar, detail, 'overflow-button');\n      var overflowGroup = Coupling.getCoupled(toolbar, 'overflowGroup');\n      set$2(primary.element(), 'visibility', 'hidden');\n      var focusedComp = findFocusedComp(overflow, overflowButton);\n      overflow.each(function (overf) {\n        Toolbar.setGroups(overf, []);\n      });\n      var groups = detail.builtGroups.get();\n      setStoredGroups(primary, groups.concat([overflowGroup]));\n      var total = get$7(primary.element());\n      var overflows = partition$3(total, groups, function (comp) {\n        return get$7(comp.element());\n      }, overflowGroup);\n      if (overflows.extra().length === 0) {\n        Replacing.remove(primary, overflowGroup);\n        overflow.each(function (overf) {\n          Toolbar.setGroups(overf, []);\n        });\n      } else {\n        setStoredGroups(primary, overflows.within());\n        overflow.each(function (overf) {\n          setStoredGroups(overf, overflows.extra());\n        });\n      }\n      remove$6(primary.element(), 'visibility');\n      reflow(primary.element());\n      overflow.each(function (overf) {\n        overflowButton.each(function (button) {\n          return Toggling.set(button, isOpen(overf));\n        });\n        focusedComp.each(Focusing.focus);\n      });\n    };\n\n    var schema$l = constant([\n      strict$1('items'),\n      markers(['itemSelector']),\n      field$1('tgroupBehaviours', [Keying])\n    ]);\n    var parts$8 = constant([group({\n        name: 'items',\n        unit: 'item'\n      })]);\n\n    var factory$a = function (detail, components, spec, _externals) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.tgroupBehaviours, [Keying.config({\n            mode: 'flow',\n            selector: detail.markers.itemSelector\n          })]),\n        domModification: { attributes: { role: 'toolbar' } }\n      };\n    };\n    var ToolbarGroup = composite$1({\n      name: 'ToolbarGroup',\n      configFields: schema$l(),\n      partFields: parts$8(),\n      factory: factory$a\n    });\n\n    var schema$m = constant([\n      field$1('splitToolbarBehaviours', [Coupling]),\n      state$1('builtGroups', function () {\n        return Cell([]);\n      })\n    ]);\n    var spec = function (detail, components, spec, externals, extras) {\n      var toolbarToggleEvent = 'alloy.toolbar.toggle';\n      var doSetGroups = function (toolbar, groups) {\n        var built = map(groups, toolbar.getSystem().build);\n        detail.builtGroups.set(built);\n      };\n      var setGroups = function (toolbar, groups) {\n        doSetGroups(toolbar, groups);\n        extras.apis.refresh(toolbar);\n      };\n      var getMoreButton = function (toolbar) {\n        return getPart(toolbar, detail, 'overflow-button');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: augment(detail.splitToolbarBehaviours, [\n          Coupling.config({\n            others: __assign(__assign({}, extras.coupling), {\n              overflowGroup: function (toolbar) {\n                return ToolbarGroup.sketch(__assign(__assign({}, externals['overflow-group']()), {\n                  items: [Button.sketch(__assign(__assign({}, externals['overflow-button']()), {\n                      action: function (_button) {\n                        emit(toolbar, toolbarToggleEvent);\n                      }\n                    }))]\n                }));\n              }\n            })\n          }),\n          config('toolbar-toggle-events', [run(toolbarToggleEvent, function (toolbar) {\n              extras.apis.toggle(toolbar);\n            })])\n        ]),\n        apis: __assign({\n          setGroups: setGroups,\n          getMoreButton: function (toolbar) {\n            return getMoreButton(toolbar);\n          }\n        }, extras.apis),\n        domModification: { attributes: { role: 'group' } }\n      };\n    };\n\n    var schema$n = constant([\n      markers(['overflowToggledClass']),\n      strict$1('getAnchor'),\n      optionFunction('getOverflowBounds'),\n      strict$1('lazySink')\n    ].concat(schema$m()));\n    var parts$9 = constant([\n      required({\n        factory: Toolbar,\n        schema: schema$k(),\n        name: 'primary'\n      }),\n      external$1({\n        factory: Toolbar,\n        schema: schema$k(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([Keying.config({\n                mode: 'cyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Option.none();\n                }\n              })])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            dom: { attributes: { 'aria-haspopup': 'true' } },\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'expanded' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var toggleToolbar = function (toolbar, detail, externals) {\n      var sandbox = Coupling.getCoupled(toolbar, 'sandbox');\n      if (Sandboxing.isOpen(sandbox)) {\n        Sandboxing.close(sandbox);\n      } else {\n        Sandboxing.open(sandbox, externals.overflow());\n      }\n    };\n    var isOpen$1 = function (over) {\n      return over.getSystem().isConnected();\n    };\n    var position$2 = function (toolbar, detail, overf) {\n      var sink = detail.lazySink(toolbar).getOrDie();\n      var anchor = detail.getAnchor(toolbar);\n      var bounds = detail.getOverflowBounds.map(function (bounder) {\n        return bounder();\n      });\n      Positioning.positionWithinBounds(sink, anchor, overf, bounds);\n    };\n    var refresh$1 = function (toolbar, detail) {\n      var overflow = Sandboxing.getState(Coupling.getCoupled(toolbar, 'sandbox'));\n      refresh(toolbar, detail, overflow, isOpen$1);\n      overflow.each(function (overf) {\n        return position$2(toolbar, detail, overf);\n      });\n    };\n    var reposition$1 = function (toolbar, detail) {\n      var overflow = Sandboxing.getState(Coupling.getCoupled(toolbar, 'sandbox'));\n      overflow.each(function (overf) {\n        return position$2(toolbar, detail, overf);\n      });\n    };\n    var makeSandbox$1 = function (toolbar, detail) {\n      var ariaOwner = manager();\n      var onOpen = function (sandbox, overf) {\n        refresh$1(toolbar, detail);\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          Toggling.on(button);\n          ariaOwner.link(button.element());\n        });\n        Keying.focusIn(overf);\n      };\n      var onClose = function () {\n        getPart(toolbar, detail, 'overflow-button').each(function (button) {\n          Toggling.off(button);\n          Focusing.focus(button);\n          ariaOwner.unlink(button.element());\n        });\n      };\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { id: ariaOwner.id() }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              Sandboxing.close(comp);\n              return Option.some(true);\n            }\n          }),\n          Sandboxing.config({\n            onOpen: onOpen,\n            onClose: onClose,\n            isPartOf: function (container, data, queryElem) {\n              return isPartOf(data, queryElem) || isPartOf(toolbar, queryElem);\n            },\n            getAttachPoint: function () {\n              return detail.lazySink(toolbar).getOrDie();\n            }\n          }),\n          Receiving.config({\n            channels: __assign({}, receivingChannel$1({\n              isExtraPart: constant(false),\n              doReposition: function () {\n                return reposition$1(toolbar, detail);\n              }\n            }))\n          })\n        ])\n      };\n    };\n    var factory$b = function (detail, components, spec$1, externals) {\n      return spec(detail, components, spec$1, externals, {\n        coupling: {\n          sandbox: function (toolbar) {\n            return makeSandbox$1(toolbar, detail);\n          }\n        },\n        apis: {\n          refresh: function (toolbar) {\n            return refresh$1(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar(toolbar, detail, externals);\n          },\n          getOverflow: function (toolbar) {\n            return Sandboxing.getState(Coupling.getCoupled(toolbar, 'sandbox'));\n          },\n          reposition: function (toolbar) {\n            return reposition$1(toolbar, detail);\n          }\n        }\n      });\n    };\n    var SplitFloatingToolbar = composite$1({\n      name: 'SplitFloatingToolbar',\n      configFields: schema$n(),\n      partFields: parts$9(),\n      factory: factory$b,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        reposition: function (apis, toolbar) {\n          apis.reposition(toolbar);\n        },\n        getMoreButton: function (apis, toolbar) {\n          return apis.getMoreButton(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        }\n      }\n    });\n\n    var getAnimationRoot = function (component, slideConfig) {\n      return slideConfig.getAnimationRoot.fold(function () {\n        return component.element();\n      }, function (get) {\n        return get(component);\n      });\n    };\n\n    var getDimensionProperty = function (slideConfig) {\n      return slideConfig.dimension.property;\n    };\n    var getDimension = function (slideConfig, elem) {\n      return slideConfig.dimension.getDimension(elem);\n    };\n    var disableTransitions = function (component, slideConfig) {\n      var root = getAnimationRoot(component, slideConfig);\n      remove$5(root, [\n        slideConfig.shrinkingClass,\n        slideConfig.growingClass\n      ]);\n    };\n    var setShrunk = function (component, slideConfig) {\n      remove$4(component.element(), slideConfig.openClass);\n      add$2(component.element(), slideConfig.closedClass);\n      set$2(component.element(), getDimensionProperty(slideConfig), '0px');\n      reflow(component.element());\n    };\n    var setGrown = function (component, slideConfig) {\n      remove$4(component.element(), slideConfig.closedClass);\n      add$2(component.element(), slideConfig.openClass);\n      remove$6(component.element(), getDimensionProperty(slideConfig));\n    };\n    var doImmediateShrink = function (component, slideConfig, slideState, _calculatedSize) {\n      slideState.setCollapsed();\n      set$2(component.element(), getDimensionProperty(slideConfig), getDimension(slideConfig, component.element()));\n      reflow(component.element());\n      disableTransitions(component, slideConfig);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n      slideConfig.onShrunk(component);\n    };\n    var doStartShrink = function (component, slideConfig, slideState, calculatedSize) {\n      var size = calculatedSize.getOrThunk(function () {\n        return getDimension(slideConfig, component.element());\n      });\n      slideState.setCollapsed();\n      set$2(component.element(), getDimensionProperty(slideConfig), size);\n      reflow(component.element());\n      var root = getAnimationRoot(component, slideConfig);\n      remove$4(root, slideConfig.growingClass);\n      add$2(root, slideConfig.shrinkingClass);\n      setShrunk(component, slideConfig);\n      slideConfig.onStartShrink(component);\n    };\n    var doStartSmartShrink = function (component, slideConfig, slideState) {\n      var size = getDimension(slideConfig, component.element());\n      var shrinker = size === '0px' ? doImmediateShrink : doStartShrink;\n      shrinker(component, slideConfig, slideState, Option.some(size));\n    };\n    var doStartGrow = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      var wasShrinking = has$2(root, slideConfig.shrinkingClass);\n      var beforeSize = getDimension(slideConfig, component.element());\n      setGrown(component, slideConfig);\n      var fullSize = getDimension(slideConfig, component.element());\n      var startPartialGrow = function () {\n        set$2(component.element(), getDimensionProperty(slideConfig), beforeSize);\n        reflow(component.element());\n      };\n      var startCompleteGrow = function () {\n        setShrunk(component, slideConfig);\n      };\n      var setStartSize = wasShrinking ? startPartialGrow : startCompleteGrow;\n      setStartSize();\n      remove$4(root, slideConfig.shrinkingClass);\n      add$2(root, slideConfig.growingClass);\n      setGrown(component, slideConfig);\n      set$2(component.element(), getDimensionProperty(slideConfig), fullSize);\n      slideState.setExpanded();\n      slideConfig.onStartGrow(component);\n    };\n    var refresh$2 = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        remove$6(component.element(), getDimensionProperty(slideConfig));\n        var fullSize = getDimension(slideConfig, component.element());\n        set$2(component.element(), getDimensionProperty(slideConfig), fullSize);\n      }\n    };\n    var grow = function (component, slideConfig, slideState) {\n      if (!slideState.isExpanded()) {\n        doStartGrow(component, slideConfig, slideState);\n      }\n    };\n    var shrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doStartSmartShrink(component, slideConfig, slideState);\n      }\n    };\n    var immediateShrink = function (component, slideConfig, slideState) {\n      if (slideState.isExpanded()) {\n        doImmediateShrink(component, slideConfig, slideState);\n      }\n    };\n    var hasGrown = function (component, slideConfig, slideState) {\n      return slideState.isExpanded();\n    };\n    var hasShrunk = function (component, slideConfig, slideState) {\n      return slideState.isCollapsed();\n    };\n    var isGrowing = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has$2(root, slideConfig.growingClass) === true;\n    };\n    var isShrinking = function (component, slideConfig, slideState) {\n      var root = getAnimationRoot(component, slideConfig);\n      return has$2(root, slideConfig.shrinkingClass) === true;\n    };\n    var isTransitioning = function (component, slideConfig, slideState) {\n      return isGrowing(component, slideConfig) === true || isShrinking(component, slideConfig) === true;\n    };\n    var toggleGrow = function (component, slideConfig, slideState) {\n      var f = slideState.isExpanded() ? doStartSmartShrink : doStartGrow;\n      f(component, slideConfig, slideState);\n    };\n\n    var SlidingApis = /*#__PURE__*/Object.freeze({\n        refresh: refresh$2,\n        grow: grow,\n        shrink: shrink,\n        immediateShrink: immediateShrink,\n        hasGrown: hasGrown,\n        hasShrunk: hasShrunk,\n        isGrowing: isGrowing,\n        isShrinking: isShrinking,\n        isTransitioning: isTransitioning,\n        toggleGrow: toggleGrow,\n        disableTransitions: disableTransitions\n    });\n\n    var exhibit$6 = function (base, slideConfig) {\n      var expanded = slideConfig.expanded;\n      return expanded ? nu$6({\n        classes: [slideConfig.openClass],\n        styles: {}\n      }) : nu$6({\n        classes: [slideConfig.closedClass],\n        styles: wrap$1(slideConfig.dimension.property, '0px')\n      });\n    };\n    var events$d = function (slideConfig, slideState) {\n      return derive([runOnSource(transitionend(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event().raw();\n          if (raw.propertyName === slideConfig.dimension.property) {\n            disableTransitions(component, slideConfig);\n            if (slideState.isExpanded()) {\n              remove$6(component.element(), slideConfig.dimension.property);\n            }\n            var notify = slideState.isExpanded() ? slideConfig.onGrown : slideConfig.onShrunk;\n            notify(component);\n          }\n        })]);\n    };\n\n    var ActiveSliding = /*#__PURE__*/Object.freeze({\n        exhibit: exhibit$6,\n        events: events$d\n    });\n\n    var SlidingSchema = [\n      strict$1('closedClass'),\n      strict$1('openClass'),\n      strict$1('shrinkingClass'),\n      strict$1('growingClass'),\n      option('getAnimationRoot'),\n      onHandler('onShrunk'),\n      onHandler('onStartShrink'),\n      onHandler('onGrown'),\n      onHandler('onStartGrow'),\n      defaulted$1('expanded', false),\n      strictOf('dimension', choose$1('property', {\n        width: [\n          output('property', 'width'),\n          output('getDimension', function (elem) {\n            return get$7(elem) + 'px';\n          })\n        ],\n        height: [\n          output('property', 'height'),\n          output('getDimension', function (elem) {\n            return get$6(elem) + 'px';\n          })\n        ]\n      }))\n    ];\n\n    var init$9 = function (spec) {\n      var state = Cell(spec.expanded);\n      var readState = function () {\n        return 'expanded: ' + state.get();\n      };\n      return nu$5({\n        isExpanded: function () {\n          return state.get() === true;\n        },\n        isCollapsed: function () {\n          return state.get() === false;\n        },\n        setCollapsed: curry(state.set, false),\n        setExpanded: curry(state.set, true),\n        readState: readState\n      });\n    };\n\n    var SlidingState = /*#__PURE__*/Object.freeze({\n        init: init$9\n    });\n\n    var Sliding = create$1({\n      fields: SlidingSchema,\n      name: 'sliding',\n      active: ActiveSliding,\n      apis: SlidingApis,\n      state: SlidingState\n    });\n\n    var schema$o = constant([\n      markers([\n        'closedClass',\n        'openClass',\n        'shrinkingClass',\n        'growingClass',\n        'overflowToggledClass'\n      ]),\n      onHandler('onOpened'),\n      onHandler('onClosed')\n    ].concat(schema$m()));\n    var parts$a = constant([\n      required({\n        factory: Toolbar,\n        schema: schema$k(),\n        name: 'primary'\n      }),\n      required({\n        factory: Toolbar,\n        schema: schema$k(),\n        name: 'overflow',\n        overrides: function (detail) {\n          return {\n            toolbarBehaviours: derive$1([\n              Sliding.config({\n                dimension: { property: 'height' },\n                closedClass: detail.markers.closedClass,\n                openClass: detail.markers.openClass,\n                shrinkingClass: detail.markers.shrinkingClass,\n                growingClass: detail.markers.growingClass,\n                onShrunk: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(function (button) {\n                    Toggling.off(button);\n                    Focusing.focus(button);\n                  });\n                  detail.onClosed(comp);\n                },\n                onGrown: function (comp) {\n                  Keying.focusIn(comp);\n                  detail.onOpened(comp);\n                },\n                onStartGrow: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Toggling.on);\n                }\n              }),\n              Keying.config({\n                mode: 'acyclic',\n                onEscape: function (comp) {\n                  getPart(comp, detail, 'overflow-button').each(Focusing.focus);\n                  return Option.some(true);\n                }\n              })\n            ])\n          };\n        }\n      }),\n      external$1({\n        name: 'overflow-button',\n        overrides: function (detail) {\n          return {\n            buttonBehaviours: derive$1([Toggling.config({\n                toggleClass: detail.markers.overflowToggledClass,\n                aria: { mode: 'pressed' },\n                toggleOnExecute: false\n              })])\n          };\n        }\n      }),\n      external$1({ name: 'overflow-group' })\n    ]);\n\n    var toggleToolbar$1 = function (toolbar, detail) {\n      getPart(toolbar, detail, 'overflow').each(function (overf) {\n        refresh$3(toolbar, detail);\n        Sliding.toggleGrow(overf);\n      });\n    };\n    var isOpen$2 = function (overf) {\n      return Sliding.hasGrown(overf);\n    };\n    var refresh$3 = function (toolbar, detail) {\n      var overflow = getPart(toolbar, detail, 'overflow');\n      refresh(toolbar, detail, overflow, isOpen$2);\n      overflow.each(Sliding.refresh);\n    };\n    var factory$c = function (detail, components, spec$1, externals) {\n      return spec(detail, components, spec$1, externals, {\n        coupling: {},\n        apis: {\n          refresh: function (toolbar) {\n            return refresh$3(toolbar, detail);\n          },\n          toggle: function (toolbar) {\n            return toggleToolbar$1(toolbar, detail);\n          },\n          getOverflow: function (toolbar) {\n            return getPart(toolbar, detail, 'overflow');\n          }\n        }\n      });\n    };\n    var SplitSlidingToolbar = composite$1({\n      name: 'SplitSlidingToolbar',\n      configFields: schema$o(),\n      partFields: parts$a(),\n      factory: factory$c,\n      apis: {\n        setGroups: function (apis, toolbar, groups) {\n          apis.setGroups(toolbar, groups);\n        },\n        refresh: function (apis, toolbar) {\n          apis.refresh(toolbar);\n        },\n        getMoreButton: function (apis, toolbar) {\n          return apis.getMoreButton(toolbar);\n        },\n        getOverflow: function (apis, toolbar) {\n          return apis.getOverflow(toolbar);\n        },\n        toggle: function (apis, toolbar) {\n          apis.toggle(toolbar);\n        }\n      }\n    });\n\n    var ReadOnlyChannel = 'silver.readonly';\n    var ReadOnlyDataSchema = objOf([strictBoolean('readonly')]);\n    var setDisabledAll = function (element, state) {\n      all('*', element.element()).forEach(function (elm) {\n        element.getSystem().getByDom(elm).each(function (comp) {\n          if (comp.hasConfigured(Disabling)) {\n            Disabling.set(comp, state);\n          }\n        });\n      });\n    };\n    var broadcastReadonly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      var target = outerContainer.element();\n      if (readonly) {\n        uiComponents.mothership.broadcastOn([dismissPopups()], { target: target });\n        uiComponents.uiMothership.broadcastOn([dismissPopups()], { target: target });\n      }\n      uiComponents.mothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n      uiComponents.uiMothership.broadcastOn([ReadOnlyChannel], { readonly: readonly });\n    };\n    var toggleToReadOnly = function (uiComponents, readonly) {\n      var outerContainer = uiComponents.outerContainer;\n      broadcastReadonly(uiComponents, readonly);\n      all('*', outerContainer.element()).forEach(function (elm) {\n        outerContainer.getSystem().getByDom(elm).each(function (comp) {\n          if (comp.hasConfigured(Disabling)) {\n            Disabling.set(comp, readonly);\n          }\n        });\n      });\n    };\n    var setupReadonlyModeSwitch = function (editor, uiComponents) {\n      editor.on('init', function () {\n        if (editor.readonly) {\n          toggleToReadOnly(uiComponents, true);\n        }\n      });\n      editor.on('SwitchMode', function () {\n        return toggleToReadOnly(uiComponents, editor.readonly);\n      });\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n    };\n    var createReadonlyReceivingForOverflow = function (getOverflow) {\n      var _a;\n      return Receiving.config({\n        channels: (_a = {}, _a[ReadOnlyChannel] = {\n          schema: ReadOnlyDataSchema,\n          onReceive: function (comp, data) {\n            getOverflow(comp).each(function (toolbar) {\n              setDisabledAll(toolbar, data.readonly);\n            });\n          }\n        }, _a)\n      });\n    };\n\n    var toolbarHeightChange = constant(generate$1('toolbar-height-change'));\n\n    var renderToolbarGroupCommon = function (toolbarGroup) {\n      var attributes = toolbarGroup.title.fold(function () {\n        return {};\n      }, function (title) {\n        return { attributes: { title: title } };\n      });\n      return {\n        dom: __assign({\n          tag: 'div',\n          classes: ['tox-toolbar__group']\n        }, attributes),\n        components: [ToolbarGroup.parts().items({})],\n        items: toolbarGroup.items,\n        markers: { itemSelector: '*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])' },\n        tgroupBehaviours: derive$1([\n          Tabstopping.config({}),\n          Focusing.config({})\n        ])\n      };\n    };\n    var renderToolbarGroup = function (toolbarGroup) {\n      return ToolbarGroup.sketch(renderToolbarGroupCommon(toolbarGroup));\n    };\n    var getToolbarbehaviours = function (toolbarSpec, modeName, getOverflow) {\n      var onAttached = runOnAttached(function (component) {\n        var groups = map(toolbarSpec.initGroups, renderToolbarGroup);\n        Toolbar.setGroups(component, groups);\n      });\n      return derive$1([\n        Keying.config({\n          mode: modeName,\n          onEscape: toolbarSpec.onEscape,\n          selector: '.tox-toolbar__group'\n        }),\n        config('toolbar-events', [onAttached]),\n        createReadonlyReceivingForOverflow(getOverflow)\n      ]);\n    };\n    var renderMoreToolbarCommon = function (toolbarSpec, getOverflow) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return {\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        parts: {\n          'overflow-group': renderToolbarGroupCommon({\n            title: Option.none(),\n            items: []\n          }),\n          'overflow-button': renderIconButtonSpec({\n            name: 'more',\n            icon: Option.some('more-drawer'),\n            disabled: false,\n            tooltip: Option.some('More...'),\n            primary: false,\n            borderless: false\n          }, Option.none(), toolbarSpec.backstage.shared.providers)\n        },\n        splitToolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName, getOverflow)\n      };\n    };\n    var renderFloatingMoreToolbar = function (toolbarSpec) {\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec, SplitFloatingToolbar.getOverflow);\n      var overflowXOffset = 4;\n      var primary = SplitFloatingToolbar.parts().primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      return SplitFloatingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        lazySink: toolbarSpec.getSink,\n        getAnchor: function () {\n          return toolbarSpec.backstage.shared.anchors.toolbarOverflow();\n        },\n        getOverflowBounds: function () {\n          var headerElem = toolbarSpec.moreDrawerData.lazyHeader().element();\n          var headerBounds = absolute$1(headerElem);\n          var docElem = documentElement(headerElem);\n          var docBounds = absolute$1(docElem);\n          return bounds$1(headerBounds.x() + overflowXOffset, docBounds.y(), headerBounds.width() - overflowXOffset * 2, docBounds.height());\n        },\n        parts: __assign(__assign({}, baseSpec.parts), {\n          overflow: {\n            dom: {\n              tag: 'div',\n              classes: ['tox-toolbar__overflow']\n            }\n          }\n        }),\n        components: [primary],\n        markers: { overflowToggledClass: 'tox-tbtn--enabled' }\n      }));\n    };\n    var renderSlidingMoreToolbar = function (toolbarSpec) {\n      var primary = SplitSlidingToolbar.parts().primary({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__primary']\n        }\n      });\n      var overflow = SplitSlidingToolbar.parts().overflow({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar__overflow']\n        }\n      });\n      var baseSpec = renderMoreToolbarCommon(toolbarSpec, SplitSlidingToolbar.getOverflow);\n      return SplitSlidingToolbar.sketch(__assign(__assign({}, baseSpec), {\n        components: [\n          primary,\n          overflow\n        ],\n        markers: {\n          openClass: 'tox-toolbar__overflow--open',\n          closedClass: 'tox-toolbar__overflow--closed',\n          growingClass: 'tox-toolbar__overflow--growing',\n          shrinkingClass: 'tox-toolbar__overflow--shrinking',\n          overflowToggledClass: 'tox-tbtn--enabled'\n        },\n        onOpened: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'opened' });\n        },\n        onClosed: function (comp) {\n          comp.getSystem().broadcastOn([toolbarHeightChange()], { type: 'closed' });\n        }\n      }));\n    };\n    var renderToolbar = function (toolbarSpec) {\n      var modeName = toolbarSpec.cyclicKeying ? 'cyclic' : 'acyclic';\n      return Toolbar.sketch({\n        uid: toolbarSpec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        components: [Toolbar.parts().groups({})],\n        toolbarBehaviours: getToolbarbehaviours(toolbarSpec, modeName, constant(Option.none()))\n      });\n    };\n\n    var baseToolbarButtonFields = [\n      defaultedBoolean('disabled', false),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n    var toolbarButtonSchema = objOf([\n      strictString('type'),\n      strictFunction('onAction')\n    ].concat(baseToolbarButtonFields));\n    var createToolbarButton = function (spec) {\n      return asRaw('toolbarbutton', toolbarButtonSchema, spec);\n    };\n\n    var baseMenuButtonFields = [\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      strictFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ];\n\n    var MenuButtonSchema = objOf(__spreadArrays([strictString('type')], baseMenuButtonFields));\n    var createMenuButton = function (spec) {\n      return asRaw('menubutton', MenuButtonSchema, spec);\n    };\n\n    var splitButtonSchema = objOf([\n      strictString('type'),\n      optionString('tooltip'),\n      optionString('icon'),\n      optionString('text'),\n      optionFunction('select'),\n      strictFunction('fetch'),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      }),\n      defaultedStringEnum('presets', 'normal', [\n        'normal',\n        'color',\n        'listpreview'\n      ]),\n      defaulted$1('columns', 1),\n      strictFunction('onAction'),\n      strictFunction('onItemAction')\n    ]);\n    var createSplitButton = function (spec) {\n      return asRaw('SplitButton', splitButtonSchema, spec);\n    };\n\n    var baseToolbarToggleButtonFields = [defaultedBoolean('active', false)].concat(baseToolbarButtonFields);\n    var toggleButtonSchema = objOf(baseToolbarToggleButtonFields.concat([\n      strictString('type'),\n      strictFunction('onAction')\n    ]));\n    var createToggleButton = function (spec) {\n      return asRaw('ToggleButton', toggleButtonSchema, spec);\n    };\n\n    var contextBarFields = [\n      defaultedFunction('predicate', function () {\n        return false;\n      }),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n    var contextButtonFields = baseToolbarButtonFields.concat([\n      defaulted$1('type', 'contextformbutton'),\n      defaulted$1('primary', false),\n      strictFunction('onAction'),\n      state$1('original', identity)\n    ]);\n    var contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaulted$1('type', 'contextformbutton'),\n      defaulted$1('primary', false),\n      strictFunction('onAction'),\n      state$1('original', identity)\n    ]);\n    var launchButtonFields = baseToolbarButtonFields.concat([defaulted$1('type', 'contextformbutton')]);\n    var launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaulted$1('type', 'contextformtogglebutton')]);\n    var toggleOrNormal = choose$1('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    var contextFormSchema = objOf([\n      defaulted$1('type', 'contextform'),\n      defaultedFunction('initValue', function () {\n        return '';\n      }),\n      optionString('label'),\n      strictArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose$1('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n    var contextToolbarSchema = objOf([\n      defaulted$1('type', 'contexttoolbar'),\n      strictString('items')\n    ].concat(contextBarFields));\n    var createContextToolbar = function (spec) {\n      return asRaw('ContextToolbar', contextToolbarSchema, spec);\n    };\n    var createContextForm = function (spec) {\n      return asRaw('ContextForm', contextFormSchema, spec);\n    };\n\n    var getState$2 = function (component, replaceConfig, reflectState) {\n      return reflectState;\n    };\n\n    var ReflectingApis = /*#__PURE__*/Object.freeze({\n        getState: getState$2\n    });\n\n    var events$e = function (reflectingConfig, reflectingState) {\n      var update = function (component, data) {\n        reflectingConfig.updateState.each(function (updateState) {\n          var newState = updateState(component, data);\n          reflectingState.set(newState);\n        });\n        reflectingConfig.renderComponents.each(function (renderComponents) {\n          var newComponents = renderComponents(data, reflectingState.get());\n          var newChildren = map(newComponents, component.getSystem().build);\n          replaceChildren(component, newChildren);\n        });\n      };\n      return derive([\n        run(receive(), function (component, message) {\n          var channel = reflectingConfig.channel;\n          if (contains(message.channels(), channel)) {\n            update(component, message.data());\n          }\n        }),\n        runOnAttached(function (comp, se) {\n          reflectingConfig.initialData.each(function (rawData) {\n            update(comp, rawData);\n          });\n        })\n      ]);\n    };\n\n    var ActiveReflecting = /*#__PURE__*/Object.freeze({\n        events: events$e\n    });\n\n    var init$a = function (spec) {\n      var cell = Cell(Option.none());\n      var set = function (optS) {\n        return cell.set(optS);\n      };\n      var clear = function () {\n        return cell.set(Option.none());\n      };\n      var get = function () {\n        return cell.get();\n      };\n      var readState = function () {\n        return cell.get().fold(function () {\n          return 'none';\n        }, function (x) {\n          return x;\n        });\n      };\n      return {\n        readState: readState,\n        get: get,\n        set: set,\n        clear: clear\n      };\n    };\n\n    var ReflectingState = /*#__PURE__*/Object.freeze({\n        init: init$a\n    });\n\n    var ReflectingSchema = [\n      strict$1('channel'),\n      option('renderComponents'),\n      option('updateState'),\n      option('initialData')\n    ];\n\n    var Reflecting = create$1({\n      fields: ReflectingSchema,\n      name: 'reflecting',\n      active: ActiveReflecting,\n      apis: ReflectingApis,\n      state: ReflectingState\n    });\n\n    var schema$p = constant([\n      strict$1('toggleClass'),\n      strict$1('fetch'),\n      onStrictHandler('onExecute'),\n      defaulted$1('getHotspot', Option.some),\n      defaulted$1('getAnchorOverrides', constant({})),\n      defaulted$1('layouts', Option.none()),\n      onStrictHandler('onItemExecute'),\n      option('lazySink'),\n      strict$1('dom'),\n      onHandler('onOpen'),\n      field$1('splitDropdownBehaviours', [\n        Coupling,\n        Keying,\n        Focusing\n      ]),\n      defaulted$1('matchWidth', false),\n      defaulted$1('useMinWidth', false),\n      defaulted$1('eventOrder', {}),\n      option('role')\n    ].concat(sandboxFields()));\n    var arrowPart = required({\n      factory: Button,\n      schema: [strict$1('dom')],\n      name: 'arrow',\n      defaults: function (detail) {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (arrow) {\n            arrow.getSystem().getByUid(detail.uid).each(emitExecute);\n          },\n          buttonBehaviours: derive$1([Toggling.config({\n              toggleOnExecute: false,\n              toggleClass: detail.toggleClass\n            })])\n        };\n      }\n    });\n    var buttonPart = required({\n      factory: Button,\n      schema: [strict$1('dom')],\n      name: 'button',\n      defaults: function (detail) {\n        return { buttonBehaviours: derive$1([Focusing.revoke()]) };\n      },\n      overrides: function (detail) {\n        return {\n          dom: {\n            tag: 'span',\n            attributes: { role: 'presentation' }\n          },\n          action: function (btn) {\n            btn.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n              detail.onExecute(splitDropdown, btn);\n            });\n          }\n        };\n      }\n    });\n    var parts$b = constant([\n      arrowPart,\n      buttonPart,\n      optional({\n        factory: {\n          sketch: function (spec) {\n            return {\n              uid: spec.uid,\n              dom: {\n                tag: 'span',\n                styles: { display: 'none' },\n                attributes: { 'aria-hidden': 'true' },\n                innerHtml: spec.text\n              }\n            };\n          }\n        },\n        schema: [strict$1('text')],\n        name: 'aria-descriptor'\n      }),\n      external$1({\n        schema: [tieredMenuMarkers()],\n        name: 'menu',\n        defaults: function (detail) {\n          return {\n            onExecute: function (tmenu, item) {\n              tmenu.getSystem().getByUid(detail.uid).each(function (splitDropdown) {\n                detail.onItemExecute(splitDropdown, tmenu, item);\n              });\n            }\n          };\n        }\n      }),\n      partType()\n    ]);\n\n    var factory$d = function (detail, components, spec, externals) {\n      var switchToMenu = function (sandbox) {\n        Composing.getCurrent(sandbox).each(function (current) {\n          Highlighting.highlightFirst(current);\n          Keying.focusIn(current);\n        });\n      };\n      var action = function (component) {\n        var onOpenSync = switchToMenu;\n        togglePopup(detail, function (x) {\n          return x;\n        }, component, externals, onOpenSync, HighlightOnOpen.HighlightFirst).get(noop);\n      };\n      var openMenu = function (comp) {\n        action(comp);\n        return Option.some(true);\n      };\n      var executeOnButton = function (comp) {\n        var button = getPartOrDie(comp, detail, 'button');\n        emitExecute(button);\n        return Option.some(true);\n      };\n      var buttonEvents = merge(derive([runOnAttached(function (component, simulatedEvent) {\n          var ariaDescriptor = getPart(component, detail, 'aria-descriptor');\n          ariaDescriptor.each(function (descriptor) {\n            var descriptorId = generate$1('aria');\n            set$1(descriptor.element(), 'id', descriptorId);\n            set$1(component.element(), 'aria-describedby', descriptorId);\n          });\n        })]), events$7(Option.some(action)));\n      var apis = {\n        repositionMenus: function (comp) {\n          if (Toggling.isOn(comp)) {\n            repositionMenus(comp);\n          }\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        eventOrder: __assign(__assign({}, detail.eventOrder), {\n          'alloy.execute': [\n            'disabling',\n            'toggling',\n            'alloy.base.behaviour'\n          ]\n        }),\n        events: buttonEvents,\n        behaviours: augment(detail.splitDropdownBehaviours, [\n          Coupling.config({\n            others: {\n              sandbox: function (hotspot) {\n                var arrow = getPartOrDie(hotspot, detail, 'arrow');\n                var extras = {\n                  onOpen: function () {\n                    Toggling.on(arrow);\n                    Toggling.on(hotspot);\n                  },\n                  onClose: function () {\n                    Toggling.off(arrow);\n                    Toggling.off(hotspot);\n                  }\n                };\n                return makeSandbox(detail, hotspot, extras);\n              }\n            }\n          }),\n          Keying.config({\n            mode: 'special',\n            onSpace: executeOnButton,\n            onEnter: executeOnButton,\n            onDown: openMenu\n          }),\n          Focusing.config({}),\n          Toggling.config({\n            toggleOnExecute: false,\n            aria: { mode: 'expanded' }\n          })\n        ]),\n        domModification: {\n          attributes: {\n            'role': detail.role.getOr('button'),\n            'aria-haspopup': true\n          }\n        }\n      };\n    };\n    var SplitDropdown = composite$1({\n      name: 'SplitDropdown',\n      configFields: schema$p(),\n      partFields: parts$b(),\n      factory: factory$d,\n      apis: {\n        repositionMenus: function (apis, comp) {\n          return apis.repositionMenus(comp);\n        }\n      }\n    });\n\n    var getButtonApi = function (component) {\n      return {\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getToggleApi = function (component) {\n      return {\n        setActive: function (state) {\n          Toggling.set(component, state);\n        },\n        isActive: function () {\n          return Toggling.isOn(component);\n        },\n        isDisabled: function () {\n          return Disabling.isDisabled(component);\n        },\n        setDisabled: function (state) {\n          return Disabling.set(component, state);\n        }\n      };\n    };\n    var getTooltipAttributes = function (tooltip, providersBackstage) {\n      return tooltip.map(function (tooltip) {\n        return {\n          'aria-label': providersBackstage.translate(tooltip),\n          'title': providersBackstage.translate(tooltip)\n        };\n      }).getOr({});\n    };\n    var focusButtonEvent = generate$1('focus-button');\n    var rtlIcon$1 = [\n      'checklist',\n      'ordered-list'\n    ];\n    var rtlTransform$1 = [\n      'indent',\n      'outdent',\n      'table-insert-column-after',\n      'table-insert-column-before',\n      'unordered-list'\n    ];\n    var renderCommonStructure = function (icon, text, tooltip, receiver, behaviours, providersBackstage) {\n      var _a;\n      var getIconName = function (iconName) {\n        return global$5.isRtl() && contains(rtlIcon$1, iconName) ? iconName + '-rtl' : iconName;\n      };\n      var needsRtlClass = global$5.isRtl() && icon.exists(function (name) {\n        return contains(rtlTransform$1, name);\n      });\n      return {\n        dom: {\n          tag: 'button',\n          classes: ['tox-tbtn'].concat(text.isSome() ? ['tox-tbtn--select'] : []).concat(needsRtlClass ? ['tox-tbtn__icon-rtl'] : []),\n          attributes: getTooltipAttributes(tooltip, providersBackstage)\n        },\n        components: componentRenderPipeline([\n          icon.map(function (iconName) {\n            return renderIconFromPack(getIconName(iconName), providersBackstage.icons);\n          }),\n          text.map(function (text) {\n            return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n          })\n        ]),\n        eventOrder: (_a = {}, _a[mousedown()] = [\n          'focusing',\n          'alloy.base.behaviour',\n          'common-button-display-events'\n        ], _a),\n        buttonBehaviours: derive$1([config('common-button-display-events', [run(mousedown(), function (button, se) {\n              se.event().prevent();\n              emit(button, focusButtonEvent);\n            })])].concat(receiver.map(function (r) {\n          return Reflecting.config({\n            channel: r,\n            initialData: {\n              icon: icon,\n              text: text\n            },\n            renderComponents: function (data, _state) {\n              return componentRenderPipeline([\n                data.icon.map(function (iconName) {\n                  return renderIconFromPack(getIconName(iconName), providersBackstage.icons);\n                }),\n                data.text.map(function (text) {\n                  return renderLabel$1(text, 'tox-tbtn', providersBackstage);\n                })\n              ]);\n            }\n          });\n        }).toArray()).concat(behaviours.getOr([])))\n      };\n    };\n    var renderCommonToolbarButton = function (spec, specialisation, providersBackstage) {\n      var editorOffCell = Cell(noop);\n      var structure = renderCommonStructure(spec.icon, spec.text, spec.tooltip, Option.none(), Option.none(), providersBackstage);\n      return Button.sketch({\n        dom: structure.dom,\n        components: structure.components,\n        eventOrder: toolbarButtonEventOrder,\n        buttonBehaviours: derive$1([\n          config('toolbar-button-events', [\n            onToolbarButtonExecute({\n              onAction: spec.onAction,\n              getApi: specialisation.getApi\n            }),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          DisablingConfigs.toolbarButton(spec.disabled)\n        ].concat(specialisation.toolbarButtonBehaviours))\n      });\n    };\n    var renderToolbarButton = function (spec, providersBackstage) {\n      return renderToolbarButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [].concat(bonusEvents.length > 0 ? [config('toolbarButtonWith', bonusEvents)] : []),\n        getApi: getButtonApi,\n        onSetup: spec.onSetup\n      }, providersBackstage);\n    };\n    var renderToolbarToggleButton = function (spec, providersBackstage) {\n      return renderToolbarToggleButtonWith(spec, providersBackstage, []);\n    };\n    var renderToolbarToggleButtonWith = function (spec, providersBackstage, bonusEvents) {\n      return deepMerge(renderCommonToolbarButton(spec, {\n        toolbarButtonBehaviours: [\n          Replacing.config({}),\n          Toggling.config({\n            toggleClass: 'tox-tbtn--enabled',\n            aria: { mode: 'pressed' },\n            toggleOnExecute: false\n          })\n        ].concat(bonusEvents.length > 0 ? [config('toolbarToggleButtonWith', bonusEvents)] : []),\n        getApi: getToggleApi,\n        onSetup: spec.onSetup\n      }, providersBackstage));\n    };\n    var fetchChoices = function (getApi, spec, providersBackstage) {\n      return function (comp) {\n        return Future.nu(function (callback) {\n          return spec.fetch(callback);\n        }).map(function (items) {\n          return Option.from(createTieredDataFrom(deepMerge(createPartialChoiceMenu(generate$1('menu-value'), items, function (value) {\n            spec.onItemAction(getApi(comp), value);\n          }, spec.columns, spec.presets, ItemResponse$1.CLOSE_ON_EXECUTE, spec.select.getOr(function () {\n            return false;\n          }), providersBackstage), {\n            movement: deriveMenuMovement(spec.columns, spec.presets),\n            menuBehaviours: SimpleBehaviours.unnamedEvents(spec.columns !== 'auto' ? [] : [runOnAttached(function (comp, se) {\n                detectSize(comp, 4, classForPreset(spec.presets)).each(function (_a) {\n                  var numRows = _a.numRows, numColumns = _a.numColumns;\n                  Keying.setGridSize(comp, numRows, numColumns);\n                });\n              })])\n          })));\n        });\n      };\n    };\n    var renderSplitButton = function (spec, sharedBackstage) {\n      var _a;\n      var displayChannel = generate$1('channel-update-split-dropdown-display');\n      var getApi = function (comp) {\n        return {\n          isDisabled: function () {\n            return Disabling.isDisabled(comp);\n          },\n          setDisabled: function (state) {\n            return Disabling.set(comp, state);\n          },\n          setIconFill: function (id, value) {\n            descendant$1(comp.element(), 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$1(underlinePath, 'fill', value);\n            });\n          },\n          setIconStroke: function (id, value) {\n            descendant$1(comp.element(), 'svg path[id=\"' + id + '\"], rect[id=\"' + id + '\"]').each(function (underlinePath) {\n              set$1(underlinePath, 'stroke', value);\n            });\n          },\n          setActive: function (state) {\n            set$1(comp.element(), 'aria-pressed', state);\n            descendant$1(comp.element(), 'span').each(function (button) {\n              comp.getSystem().getByDom(button).each(function (buttonComp) {\n                return Toggling.set(buttonComp, state);\n              });\n            });\n          },\n          isActive: function () {\n            return descendant$1(comp.element(), 'span').exists(function (button) {\n              return comp.getSystem().getByDom(button).exists(Toggling.isOn);\n            });\n          }\n        };\n      };\n      var editorOffCell = Cell(noop);\n      var specialisation = {\n        getApi: getApi,\n        onSetup: spec.onSetup\n      };\n      return SplitDropdown.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-split-button'],\n          attributes: merge({ 'aria-pressed': false }, getTooltipAttributes(spec.tooltip, sharedBackstage.providers))\n        },\n        onExecute: function (button) {\n          spec.onAction(getApi(button));\n        },\n        onItemExecute: function (a, b, c) {\n        },\n        splitDropdownBehaviours: derive$1([\n          DisablingConfigs.splitButton(false),\n          config('split-dropdown-events', [\n            run(focusButtonEvent, Focusing.focus),\n            onControlAttached(specialisation, editorOffCell),\n            onControlDetached(specialisation, editorOffCell)\n          ]),\n          Unselecting.config({})\n        ]),\n        eventOrder: (_a = {}, _a[attachedToDom()] = [\n          'alloy.base.behaviour',\n          'split-dropdown-events'\n        ], _a),\n        toggleClass: 'tox-tbtn--enabled',\n        lazySink: sharedBackstage.getSink,\n        fetch: fetchChoices(getApi, spec, sharedBackstage.providers),\n        parts: { menu: part(false, spec.columns, spec.presets) },\n        components: [\n          SplitDropdown.parts().button(renderCommonStructure(spec.icon, spec.text, Option.none(), Option.some(displayChannel), Option.some([Toggling.config({\n              toggleClass: 'tox-tbtn--enabled',\n              toggleOnExecute: false\n            })]), sharedBackstage.providers)),\n          SplitDropdown.parts().arrow({\n            dom: {\n              tag: 'button',\n              classes: [\n                'tox-tbtn',\n                'tox-split-button__chevron'\n              ],\n              innerHtml: get$c('chevron-down', sharedBackstage.providers.icons)\n            }\n          }),\n          SplitDropdown.parts()['aria-descriptor']({ text: sharedBackstage.providers.translate('To open the popup, press Shift+Enter') })\n        ]\n      });\n    };\n\n    var getFormApi = function (input) {\n      return {\n        hide: function () {\n          return emit(input, sandboxClose());\n        },\n        getValue: function () {\n          return Representing.getValue(input);\n        }\n      };\n    };\n    var runOnExecute$1 = function (memInput, original) {\n      return run(internalToolbarButtonExecute, function (comp, se) {\n        var input = memInput.get(comp);\n        var formApi = getFormApi(input);\n        original.onAction(formApi, se.event().buttonApi());\n      });\n    };\n    var renderContextButton = function (memInput, button, extras) {\n      var _a = button.original, primary = _a.primary, rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToolbarButton(__assign(__assign({}, rest), {\n        type: 'button',\n        onAction: function () {\n        }\n      })));\n      return renderToolbarButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute$1(memInput, button)]);\n    };\n    var renderContextToggleButton = function (memInput, button, extras) {\n      var _a = button.original, primary = _a.primary, rest = __rest(_a, ['primary']);\n      var bridged = getOrDie(createToggleButton(__assign(__assign({}, rest), {\n        type: 'togglebutton',\n        onAction: function () {\n        }\n      })));\n      return renderToolbarToggleButtonWith(bridged, extras.backstage.shared.providers, [runOnExecute$1(memInput, button)]);\n    };\n    var generateOne$1 = function (memInput, button, providersBackstage) {\n      var extras = { backstage: { shared: { providers: providersBackstage } } };\n      if (button.type === 'contextformtogglebutton') {\n        return renderContextToggleButton(memInput, button, extras);\n      } else {\n        return renderContextButton(memInput, button, extras);\n      }\n    };\n    var generate$7 = function (memInput, buttons, providersBackstage) {\n      var mementos = map(buttons, function (button) {\n        return record(generateOne$1(memInput, button, providersBackstage));\n      });\n      var asSpecs = function () {\n        return map(mementos, function (mem) {\n          return mem.asSpec();\n        });\n      };\n      var findPrimary = function (compInSystem) {\n        return findMap(buttons, function (button, i) {\n          if (button.primary) {\n            return Option.from(mementos[i]).bind(function (mem) {\n              return mem.getOpt(compInSystem);\n            }).filter(not(Disabling.isDisabled));\n          } else {\n            return Option.none();\n          }\n        });\n      };\n      return {\n        asSpecs: asSpecs,\n        findPrimary: findPrimary\n      };\n    };\n\n    var renderContextForm = function (ctx, backstage) {\n      var inputAttributes = ctx.label.fold(function () {\n        return {};\n      }, function (label) {\n        return { 'aria-label': label };\n      });\n      var memInput = record(Input.sketch({\n        inputClasses: [\n          'tox-toolbar-textfield',\n          'tox-toolbar-nav-js'\n        ],\n        data: ctx.initValue(),\n        inputAttributes: inputAttributes,\n        selectOnFocus: true,\n        inputBehaviours: derive$1([Keying.config({\n            mode: 'special',\n            onEnter: function (input) {\n              return commands.findPrimary(input).map(function (primary) {\n                emitExecute(primary);\n                return true;\n              });\n            },\n            onLeft: function (comp, se) {\n              se.cut();\n              return Option.none();\n            },\n            onRight: function (comp, se) {\n              se.cut();\n              return Option.none();\n            }\n          })])\n      }));\n      var commands = generate$7(memInput, ctx.commands, backstage.shared.providers);\n      return renderToolbar({\n        uid: generate$1('context-toolbar'),\n        initGroups: [\n          {\n            title: Option.none(),\n            items: [memInput.asSpec()]\n          },\n          {\n            title: Option.none(),\n            items: commands.asSpecs()\n          }\n        ],\n        onEscape: Option.none,\n        cyclicKeying: true,\n        backstage: backstage,\n        getSink: function () {\n          return Result.error('');\n        }\n      });\n    };\n    var ContextForm = { renderContextForm: renderContextForm };\n\n    var getHorizontalBounds = function (contentAreaBox, viewportBounds) {\n      var x = Math.max(viewportBounds.x(), contentAreaBox.x());\n      var contentBoxWidth = contentAreaBox.right() - x;\n      var maxViewportWidth = viewportBounds.width() - (x - viewportBounds.x());\n      var width = Math.min(contentBoxWidth, maxViewportWidth);\n      return {\n        x: x,\n        width: width\n      };\n    };\n    var getIframeBounds = function (editor, contentAreaBox, viewportBounds) {\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds), x = _a.x, width = _a.width;\n      var container = Element.fromDom(editor.getContainer());\n      var header = descendant$1(container, '.tox-editor-header').getOr(container);\n      var containerBox = box(container);\n      var headerBox = box(header);\n      var y = Math.max(viewportBounds.y(), contentAreaBox.y(), headerBox.bottom());\n      var contentBoxHeight = containerBox.bottom() - y;\n      var maxViewportHeight = viewportBounds.height() - (y - viewportBounds.y());\n      var height = Math.min(contentBoxHeight, maxViewportHeight);\n      return bounds$1(x, y, width, height);\n    };\n    var getInlineBounds = function (editor, contentAreaBox, viewportBounds) {\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds), x = _a.x, width = _a.width;\n      var container = Element.fromDom(editor.getContainer());\n      var header = descendant$1(container, '.tox-editor-header').getOr(container);\n      var headerBox = box(header);\n      var vpHeight = viewportBounds.height();\n      var vpTop = viewportBounds.y();\n      if (headerBox.y() >= contentAreaBox.bottom()) {\n        var bottom = Math.min(vpHeight + vpTop, headerBox.y());\n        var height = bottom - vpTop;\n        return bounds$1(x, vpTop, width, height);\n      } else {\n        var y = Math.max(vpTop, headerBox.bottom());\n        var height = vpHeight - (y - vpTop);\n        return bounds$1(x, y, width, height);\n      }\n    };\n    var getDistractionFreeBounds = function (_editor, contentAreaBox, viewportBounds) {\n      var _a = getHorizontalBounds(contentAreaBox, viewportBounds), x = _a.x, width = _a.width;\n      return bounds$1(x, viewportBounds.y(), width, viewportBounds.height());\n    };\n    var getBounds$2 = function (editor, toolbarOrMenubarEnabled) {\n      var viewportBounds = getBounds(domGlobals.window);\n      var contentAreaBox = box(Element.fromDom(editor.getContentAreaContainer()));\n      if (editor.inline && !toolbarOrMenubarEnabled) {\n        return Option.some(getDistractionFreeBounds(editor, contentAreaBox, viewportBounds));\n      } else if (editor.inline) {\n        return Option.some(getInlineBounds(editor, contentAreaBox, viewportBounds));\n      } else {\n        return Option.some(getIframeBounds(editor, contentAreaBox, viewportBounds));\n      }\n    };\n\n    var ancestor$2 = function (scope, transform, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element.fromDom(element);\n        var transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Option.none();\n    };\n\n    var matchTargetWith = function (elem, toolbars) {\n      return findMap(toolbars, function (toolbarApi) {\n        return toolbarApi.predicate(elem.dom()) ? Option.some({\n          toolbarApi: toolbarApi,\n          elem: elem\n        }) : Option.none();\n      });\n    };\n    var lookup$1 = function (scopes, editor) {\n      var isRoot = function (elem) {\n        return elem.dom() === editor.getBody();\n      };\n      var startNode = Element.fromDom(editor.selection.getNode());\n      return matchTargetWith(startNode, scopes.inNodeScope).orThunk(function () {\n        return matchTargetWith(startNode, scopes.inEditorScope).orThunk(function () {\n          return ancestor$2(startNode, function (elem) {\n            return matchTargetWith(elem, scopes.inNodeScope);\n          }, isRoot);\n        });\n      });\n    };\n    var ToolbarLookup = { lookup: lookup$1 };\n\n    var categorise = function (contextToolbars, navigate) {\n      var forms = {};\n      var inNodeScope = [];\n      var inEditorScope = [];\n      var formNavigators = {};\n      var lookupTable = {};\n      var registerForm = function (key, toolbarApi) {\n        var contextForm = getOrDie(createContextForm(toolbarApi));\n        forms[key] = contextForm;\n        contextForm.launch.map(function (launch) {\n          formNavigators['form:' + key + ''] = __assign(__assign({}, toolbarApi.launch), {\n            type: launch.type === 'contextformtogglebutton' ? 'togglebutton' : 'button',\n            onAction: function () {\n              navigate(contextForm);\n            }\n          });\n        });\n        if (contextForm.scope === 'editor') {\n          inEditorScope.push(contextForm);\n        } else {\n          inNodeScope.push(contextForm);\n        }\n        lookupTable[key] = contextForm;\n      };\n      var registerToolbar = function (key, toolbarApi) {\n        createContextToolbar(toolbarApi).each(function (contextToolbar) {\n          if (toolbarApi.scope === 'editor') {\n            inEditorScope.push(contextToolbar);\n          } else {\n            inNodeScope.push(contextToolbar);\n          }\n          lookupTable[key] = contextToolbar;\n        });\n      };\n      var keys$1 = keys(contextToolbars);\n      each(keys$1, function (key) {\n        var toolbarApi = contextToolbars[key];\n        if (toolbarApi.type === 'contextform') {\n          registerForm(key, toolbarApi);\n        } else if (toolbarApi.type === 'contexttoolbar') {\n          registerToolbar(key, toolbarApi);\n        }\n      });\n      return {\n        forms: forms,\n        inNodeScope: inNodeScope,\n        inEditorScope: inEditorScope,\n        lookupTable: lookupTable,\n        formNavigators: formNavigators\n      };\n    };\n    var ToolbarScopes = { categorise: categorise };\n\n    var forwardSlideEvent = generate$1('forward-slide');\n    var backSlideEvent = generate$1('backward-slide');\n    var changeSlideEvent = generate$1('change-slide-event');\n    var resizingClass = 'tox-pop--resizing';\n    var renderContextToolbar = function (spec) {\n      var stack = Cell([]);\n      return InlineView.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-pop']\n        },\n        fireDismissalEventInstead: { event: 'doNotDismissYet' },\n        onShow: function (comp) {\n          stack.set([]);\n          InlineView.getContent(comp).each(function (c) {\n            remove$6(c.element(), 'visibility');\n          });\n          remove$4(comp.element(), resizingClass);\n          remove$6(comp.element(), 'width');\n        },\n        inlineBehaviours: derive$1([\n          config('context-toolbar-events', [\n            runOnSource(transitionend(), function (comp, se) {\n              InlineView.getContent(comp).each(function (c) {\n              });\n              remove$4(comp.element(), resizingClass);\n              remove$6(comp.element(), 'width');\n            }),\n            run(changeSlideEvent, function (comp, se) {\n              remove$6(comp.element(), 'width');\n              var currentWidth = get$7(comp.element());\n              InlineView.setContent(comp, se.event().contents());\n              add$2(comp.element(), resizingClass);\n              var newWidth = get$7(comp.element());\n              set$2(comp.element(), 'width', currentWidth + 'px');\n              InlineView.getContent(comp).each(function (newContents) {\n                se.event().focus().bind(function (f) {\n                  focus$1(f);\n                  return search(comp.element());\n                }).orThunk(function () {\n                  Keying.focusIn(newContents);\n                  return active();\n                });\n              });\n              global$2.setTimeout(function () {\n                set$2(comp.element(), 'width', newWidth + 'px');\n              }, 0);\n            }),\n            run(forwardSlideEvent, function (comp, se) {\n              InlineView.getContent(comp).each(function (oldContents) {\n                stack.set(stack.get().concat([{\n                    bar: oldContents,\n                    focus: active()\n                  }]));\n              });\n              emitWith(comp, changeSlideEvent, {\n                contents: se.event().forwardContents(),\n                focus: Option.none()\n              });\n            }),\n            run(backSlideEvent, function (comp, se) {\n              last(stack.get()).each(function (last) {\n                stack.set(stack.get().slice(0, stack.get().length - 1));\n                emitWith(comp, changeSlideEvent, {\n                  contents: premade$1(last.bar),\n                  focus: last.focus\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'special',\n            onEscape: function (comp) {\n              return last(stack.get()).fold(function () {\n                return spec.onEscape();\n              }, function (_) {\n                emit(comp, backSlideEvent);\n                return Option.some(true);\n              });\n            }\n          })\n        ]),\n        lazySink: function () {\n          return Result.value(spec.sink);\n        }\n      });\n    };\n\n    var onSetupFormatToggle = function (editor, name) {\n      return function (api) {\n        var unbindCell = Cell(Option.none());\n        var init = function () {\n          api.setActive(editor.formatter.match(name));\n          var unbind = editor.formatter.formatChanged(name, api.setActive).unbind;\n          unbindCell.set(Option.some(unbind));\n        };\n        editor.initialized ? init() : editor.on('init', init);\n        return function () {\n          return unbindCell.get().each(function (unbind) {\n            return unbind();\n          });\n        };\n      };\n    };\n    var onActionToggleFormat = function (editor) {\n      return function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('mceToggleFormat', false, rawItem.format);\n          });\n        };\n      };\n    };\n\n    var generateSelectItems = function (_editor, backstage, spec) {\n      var generateItem = function (rawItem, response, disabled, value) {\n        var translatedText = backstage.shared.providers.translate(rawItem.title);\n        if (rawItem.type === 'separator') {\n          return Option.some({\n            type: 'separator',\n            text: translatedText\n          });\n        } else if (rawItem.type === 'submenu') {\n          var items = bind(rawItem.getStyleItems(), function (si) {\n            return validate(si, response, value);\n          });\n          if (response === 0 && items.length <= 0) {\n            return Option.none();\n          } else {\n            return Option.some({\n              type: 'nestedmenuitem',\n              text: translatedText,\n              disabled: items.length <= 0,\n              getSubmenuItems: function () {\n                return bind(rawItem.getStyleItems(), function (si) {\n                  return validate(si, response, value);\n                });\n              }\n            });\n          }\n        } else {\n          return Option.some(__assign({\n            type: 'togglemenuitem',\n            text: translatedText,\n            active: rawItem.isSelected(value),\n            disabled: disabled,\n            onAction: spec.onAction(rawItem)\n          }, rawItem.getStylePreview().fold(function () {\n            return {};\n          }, function (preview) {\n            return { meta: { style: preview } };\n          })));\n        }\n      };\n      var validate = function (item, response, value) {\n        var invalid = item.type === 'formatter' && spec.isInvalid(item);\n        if (response === 0) {\n          return invalid ? [] : generateItem(item, response, false, value).toArray();\n        } else {\n          return generateItem(item, response, invalid, value).toArray();\n        }\n      };\n      var validateItems = function (preItems) {\n        var value = spec.getCurrentValue();\n        var response = spec.shouldHide ? 0 : 1;\n        return bind(preItems, function (item) {\n          return validate(item, response, value);\n        });\n      };\n      var getFetch = function (backstage, getStyleItems) {\n        return function (callback) {\n          var preItems = getStyleItems();\n          var items = validateItems(preItems);\n          var menu = build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false);\n          callback(menu);\n        };\n      };\n      return {\n        validateItems: validateItems,\n        getFetch: getFetch\n      };\n    };\n    var createMenuItems = function (editor, backstage, spec) {\n      var dataset = spec.dataset;\n      var getStyleItems = dataset.type === 'basic' ? function () {\n        return map(dataset.data, function (d) {\n          return processBasic(d, spec.isSelectedFor, spec.getPreviewFor);\n        });\n      } : dataset.getData;\n      return {\n        items: generateSelectItems(editor, backstage, spec),\n        getStyleItems: getStyleItems\n      };\n    };\n    var createSelectButton = function (editor, backstage, spec) {\n      var _a = createMenuItems(editor, backstage, spec), items = _a.items, getStyleItems = _a.getStyleItems;\n      var getApi = function (comp) {\n        return {\n          getComponent: function () {\n            return comp;\n          }\n        };\n      };\n      var onSetup = function (api) {\n        spec.setInitialValue.each(function (f) {\n          return f(api.getComponent());\n        });\n        return spec.nodeChangeHandler.map(function (f) {\n          var handler = f(api.getComponent());\n          editor.on('NodeChange', handler);\n          return function () {\n            editor.off('NodeChange', handler);\n          };\n        }).getOr(noop);\n      };\n      return renderCommonDropdown({\n        text: spec.icon.isSome() ? Option.none() : Option.some(''),\n        icon: spec.icon,\n        tooltip: Option.from(spec.tooltip),\n        role: Option.none(),\n        fetch: items.getFetch(backstage, getStyleItems),\n        onSetup: onSetup,\n        getApi: getApi,\n        columns: 1,\n        presets: 'normal',\n        classes: spec.icon.isSome() ? [] : ['bespoke'],\n        dropdownBehaviours: []\n      }, 'tox-tbtn', backstage.shared);\n    };\n\n    var process = function (rawFormats) {\n      return map(rawFormats, function (item) {\n        var title = item, format = item;\n        var values = item.split('=');\n        if (values.length > 1) {\n          title = values[0];\n          format = values[1];\n        }\n        return {\n          title: title,\n          format: format\n        };\n      });\n    };\n    var buildBasicStaticDataset = function (data) {\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n    var Delimiter;\n    (function (Delimiter) {\n      Delimiter[Delimiter['SemiColon'] = 0] = 'SemiColon';\n      Delimiter[Delimiter['Space'] = 1] = 'Space';\n    }(Delimiter || (Delimiter = {})));\n    var split = function (rawFormats, delimiter) {\n      if (delimiter === Delimiter.SemiColon) {\n        return rawFormats.replace(/;$/, '').split(';');\n      } else {\n        return rawFormats.split(' ');\n      }\n    };\n    var buildBasicSettingsDataset = function (editor, settingName, defaults, delimiter) {\n      var rawFormats = readOptFrom$1(editor.settings, settingName).getOr(defaults);\n      var data = process(split(rawFormats, delimiter));\n      return {\n        type: 'basic',\n        data: data\n      };\n    };\n\n    var alignMenuItems = [\n      {\n        title: 'Left',\n        icon: 'align-left',\n        format: 'alignleft'\n      },\n      {\n        title: 'Center',\n        icon: 'align-center',\n        format: 'aligncenter'\n      },\n      {\n        title: 'Right',\n        icon: 'align-right',\n        format: 'alignright'\n      },\n      {\n        title: 'Justify',\n        icon: 'align-justify',\n        format: 'alignjustify'\n      }\n    ];\n    var getSpec = function (editor) {\n      var getMatchingValue = function () {\n        return find(alignMenuItems, function (item) {\n          return editor.formatter.match(item.format);\n        });\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (_format) {\n        return function () {\n          return Option.none();\n        };\n      };\n      var updateSelectMenuIcon = function (comp) {\n        var match = getMatchingValue();\n        var alignment = match.fold(function () {\n          return 'left';\n        }, function (item) {\n          return item.title.toLowerCase();\n        });\n        emitWith(comp, updateMenuIcon, { icon: 'align-' + alignment });\n      };\n      var nodeChangeHandler = Option.some(function (comp) {\n        return function () {\n          return updateSelectMenuIcon(comp);\n        };\n      });\n      var setInitialValue = Option.some(function (comp) {\n        return updateSelectMenuIcon(comp);\n      });\n      var dataset = buildBasicStaticDataset(alignMenuItems);\n      return {\n        tooltip: 'Align',\n        icon: Option.some('align-left'),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: constant(Option.none()),\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat(editor),\n        setInitialValue: setInitialValue,\n        nodeChangeHandler: nodeChangeHandler,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createAlignSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec(editor));\n    };\n    var alignSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec(editor));\n      editor.ui.registry.addNestedMenuItem('align', {\n        text: backstage.shared.providers.translate('Align'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var systemStackFonts = [\n      '-apple-system',\n      'Segoe UI',\n      'Roboto',\n      'Helvetica Neue',\n      'sans-serif'\n    ];\n    var splitFonts = function (fontFamily) {\n      var fonts = fontFamily.split(/\\s*,\\s*/);\n      return map(fonts, function (font) {\n        return font.replace(/^['\"]+|['\"]+$/g, '');\n      });\n    };\n    var isSystemFontStack = function (fontFamily) {\n      var matchesSystemStack = function () {\n        var fonts = splitFonts(fontFamily.toLowerCase());\n        return forall(systemStackFonts, function (font) {\n          return fonts.indexOf(font.toLowerCase()) > -1;\n        });\n      };\n      return fontFamily.indexOf('-apple-system') === 0 && matchesSystemStack();\n    };\n    var getSpec$1 = function (editor) {\n      var getMatchingValue = function () {\n        var getFirstFont = function (fontFamily) {\n          return fontFamily ? splitFonts(fontFamily)[0] : '';\n        };\n        var fontFamily = editor.queryCommandValue('FontName');\n        var items = dataset.data;\n        var font = fontFamily ? fontFamily.toLowerCase() : '';\n        var matchOpt = find(items, function (item) {\n          var format = item.format;\n          return format.toLowerCase() === font || getFirstFont(format).toLowerCase() === getFirstFont(font).toLowerCase();\n        }).orThunk(function () {\n          if (isSystemFontStack(font)) {\n            return Option.from({\n              title: 'System Font',\n              format: font\n            });\n          } else {\n            return Option.none();\n          }\n        });\n        return {\n          matchOpt: matchOpt,\n          font: fontFamily\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = function (item) {\n        return function () {\n          return Option.some({\n            tag: 'div',\n            styleAttr: item.indexOf('dings') === -1 ? 'font-family:' + item : ''\n          });\n        };\n      };\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontName', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, font = _a.font;\n        var text = matchOpt.fold(function () {\n          return font;\n        }, function (item) {\n          return item.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var nodeChangeHandler = Option.some(function (comp) {\n        return function () {\n          return updateSelectMenuText(comp);\n        };\n      });\n      var setInitialValue = Option.some(function (comp) {\n        return updateSelectMenuText(comp);\n      });\n      var dataset = buildBasicSettingsDataset(editor, 'font_formats', defaultFontsFormats, Delimiter.SemiColon);\n      return {\n        tooltip: 'Fonts',\n        icon: Option.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: getCurrentValue,\n        getPreviewFor: getPreviewFor,\n        onAction: onAction,\n        setInitialValue: setInitialValue,\n        nodeChangeHandler: nodeChangeHandler,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function () {\n          return false;\n        }\n      };\n    };\n    var createFontSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$1(editor));\n    };\n    var fontSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$1(editor));\n      editor.ui.registry.addNestedMenuItem('fontformats', {\n        text: backstage.shared.providers.translate('Fonts'),\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var legacyFontSizes = {\n      '8pt': '1',\n      '10pt': '2',\n      '12pt': '3',\n      '14pt': '4',\n      '18pt': '5',\n      '24pt': '6',\n      '36pt': '7'\n    };\n    var round$1 = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      }\n      return fontSize;\n    };\n    var toLegacy = function (fontSize) {\n      return get(legacyFontSizes, fontSize).getOr('');\n    };\n    var getSpec$2 = function (editor) {\n      var getMatchingValue = function () {\n        var matchOpt = Option.none();\n        var items = dataset.data;\n        var px = editor.queryCommandValue('FontSize');\n        if (px) {\n          var _loop_1 = function (precision) {\n            var pt = toPt(px, precision);\n            var legacy = toLegacy(pt);\n            matchOpt = find(items, function (item) {\n              return item.format === px || item.format === pt || item.format === legacy;\n            });\n          };\n          for (var precision = 3; matchOpt.isNone() && precision >= 0; precision--) {\n            _loop_1(precision);\n          }\n        }\n        return {\n          matchOpt: matchOpt,\n          px: px\n        };\n      };\n      var isSelectedFor = function (item) {\n        return function (valueOpt) {\n          return valueOpt.exists(function (value) {\n            return value.format === item;\n          });\n        };\n      };\n      var getCurrentValue = function () {\n        var matchOpt = getMatchingValue().matchOpt;\n        return matchOpt;\n      };\n      var getPreviewFor = constant(constant(Option.none()));\n      var onAction = function (rawItem) {\n        return function () {\n          editor.undoManager.transact(function () {\n            editor.focus();\n            editor.execCommand('FontSize', false, rawItem.format);\n          });\n        };\n      };\n      var updateSelectMenuText = function (comp) {\n        var _a = getMatchingValue(), matchOpt = _a.matchOpt, px = _a.px;\n        var text = matchOpt.fold(function () {\n          return px;\n        }, function (match) {\n          return match.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var nodeChangeHandler = Option.some(function (comp) {\n        return function () {\n          return updateSelectMenuText(comp);\n        };\n      });\n      var setInitialValue = Option.some(function (comp) {\n        return updateSelectMenuText(comp);\n      });\n      var dataset = buildBasicSettingsDataset(editor, 'fontsize_formats', defaultFontsizeFormats, Delimiter.Space);\n      return {\n        tooltip: 'Font sizes',\n        icon: Option.none(),\n        isSelectedFor: isSelectedFor,\n        getPreviewFor: getPreviewFor,\n        getCurrentValue: getCurrentValue,\n        onAction: onAction,\n        setInitialValue: setInitialValue,\n        nodeChangeHandler: nodeChangeHandler,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function () {\n          return false;\n        }\n      };\n    };\n    var createFontsizeSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$2(editor));\n    };\n    var fontsizeSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$2(editor));\n      editor.ui.registry.addNestedMenuItem('fontsizes', {\n        text: 'Font sizes',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var findNearest = function (editor, getStyles, parents) {\n      var styles = getStyles();\n      return findMap(parents, function (parent) {\n        return find(styles, function (fmt) {\n          return editor.formatter.matchNode(parent, fmt.format);\n        });\n      }).orThunk(function () {\n        if (editor.formatter.match('p')) {\n          return Option.some({\n            title: 'Paragraph',\n            format: 'p'\n          });\n        }\n        return Option.none();\n      });\n    };\n    var getCurrentSelectionParents = function (editor) {\n      var currentNode = editor.selection.getStart(true) || editor.getBody();\n      return editor.dom.getParents(currentNode, function () {\n        return true;\n      }, editor.getBody());\n    };\n\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n    var getSpec$3 = function (editor) {\n      var getMatchingValue = function (nodeChangeEvent) {\n        return findNearest(editor, function () {\n          return dataset.data;\n        }, nodeChangeEvent);\n      };\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return Option.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styleAttr: editor.formatter.getCssText(format)\n          });\n        };\n      };\n      var updateSelectMenuText = function (parents, comp) {\n        var detectedFormat = getMatchingValue(parents);\n        var text = detectedFormat.fold(function () {\n          return 'Paragraph';\n        }, function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var nodeChangeHandler = Option.some(function (comp) {\n        return function (e) {\n          return updateSelectMenuText(e.parents, comp);\n        };\n      });\n      var setInitialValue = Option.some(function (comp) {\n        var parents = getCurrentSelectionParents(editor);\n        updateSelectMenuText(parents, comp);\n      });\n      var dataset = buildBasicSettingsDataset(editor, 'block_formats', defaultBlocks, Delimiter.SemiColon);\n      return {\n        tooltip: 'Blocks',\n        icon: Option.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: constant(Option.none()),\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat(editor),\n        setInitialValue: setInitialValue,\n        nodeChangeHandler: nodeChangeHandler,\n        dataset: dataset,\n        shouldHide: false,\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        }\n      };\n    };\n    var createFormatSelect = function (editor, backstage) {\n      return createSelectButton(editor, backstage, getSpec$3(editor));\n    };\n    var formatSelectMenu = function (editor, backstage) {\n      var menuItems = createMenuItems(editor, backstage, getSpec$3(editor));\n      editor.ui.registry.addNestedMenuItem('blockformats', {\n        text: 'Blocks',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var getSpec$4 = function (editor, dataset) {\n      var isSelectedFor = function (format) {\n        return function () {\n          return editor.formatter.match(format);\n        };\n      };\n      var getPreviewFor = function (format) {\n        return function () {\n          var fmt = editor.formatter.get(format);\n          return fmt !== undefined ? Option.some({\n            tag: fmt.length > 0 ? fmt[0].inline || fmt[0].block || 'div' : 'div',\n            styleAttr: editor.formatter.getCssText(format)\n          }) : Option.none();\n        };\n      };\n      var updateSelectMenuText = function (parents, comp) {\n        var getFormatItems = function (fmt) {\n          var subs = fmt.items;\n          return subs !== undefined && subs.length > 0 ? bind(subs, getFormatItems) : [{\n              title: fmt.title,\n              format: fmt.format\n            }];\n        };\n        var flattenedItems = bind(getStyleFormats(editor), getFormatItems);\n        var detectedFormat = findNearest(editor, function () {\n          return flattenedItems;\n        }, parents);\n        var text = detectedFormat.fold(function () {\n          return 'Paragraph';\n        }, function (fmt) {\n          return fmt.title;\n        });\n        emitWith(comp, updateMenuText, { text: text });\n      };\n      var nodeChangeHandler = Option.some(function (comp) {\n        return function (e) {\n          return updateSelectMenuText(e.parents, comp);\n        };\n      });\n      var setInitialValue = Option.some(function (comp) {\n        var parents = getCurrentSelectionParents(editor);\n        updateSelectMenuText(parents, comp);\n      });\n      return {\n        tooltip: 'Formats',\n        icon: Option.none(),\n        isSelectedFor: isSelectedFor,\n        getCurrentValue: constant(Option.none()),\n        getPreviewFor: getPreviewFor,\n        onAction: onActionToggleFormat(editor),\n        setInitialValue: setInitialValue,\n        nodeChangeHandler: nodeChangeHandler,\n        shouldHide: editor.getParam('style_formats_autohide', false, 'boolean'),\n        isInvalid: function (item) {\n          return !editor.formatter.canApply(item.format);\n        },\n        dataset: dataset\n      };\n    };\n    var createStyleSelect = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      return createSelectButton(editor, backstage, getSpec$4(editor, dataset));\n    };\n    var styleSelectMenu = function (editor, backstage) {\n      var dataset = __assign({ type: 'advanced' }, backstage.styleselect);\n      var menuItems = createMenuItems(editor, backstage, getSpec$4(editor, dataset));\n      editor.ui.registry.addNestedMenuItem('formats', {\n        text: 'Formats',\n        getSubmenuItems: function () {\n          return menuItems.items.validateItems(menuItems.getStyleItems());\n        }\n      });\n    };\n\n    var defaultToolbar = [\n      {\n        name: 'history',\n        items: [\n          'undo',\n          'redo'\n        ]\n      },\n      {\n        name: 'styles',\n        items: ['styleselect']\n      },\n      {\n        name: 'formatting',\n        items: [\n          'bold',\n          'italic'\n        ]\n      },\n      {\n        name: 'alignment',\n        items: [\n          'alignleft',\n          'aligncenter',\n          'alignright',\n          'alignjustify'\n        ]\n      },\n      {\n        name: 'indentation',\n        items: [\n          'outdent',\n          'indent'\n        ]\n      },\n      {\n        name: 'permanent pen',\n        items: ['permanentpen']\n      },\n      {\n        name: 'comments',\n        items: ['addcomment']\n      }\n    ];\n    var renderFromBridge = function (bridgeBuilder, render) {\n      return function (spec, extras) {\n        var internal = bridgeBuilder(spec).mapError(function (errInfo) {\n          return formatError(errInfo);\n        }).getOrDie();\n        return render(internal, extras);\n      };\n    };\n    var types = {\n      button: renderFromBridge(createToolbarButton, function (s, extras) {\n        return renderToolbarButton(s, extras.backstage.shared.providers);\n      }),\n      togglebutton: renderFromBridge(createToggleButton, function (s, extras) {\n        return renderToolbarToggleButton(s, extras.backstage.shared.providers);\n      }),\n      menubutton: renderFromBridge(createMenuButton, function (s, extras) {\n        return renderMenuButton(s, 'tox-tbtn', extras.backstage, Option.none());\n      }),\n      splitbutton: renderFromBridge(createSplitButton, function (s, extras) {\n        return renderSplitButton(s, extras.backstage.shared);\n      }),\n      styleSelectButton: function (editor, extras) {\n        return createStyleSelect(editor, extras.backstage);\n      },\n      fontsizeSelectButton: function (editor, extras) {\n        return createFontsizeSelect(editor, extras.backstage);\n      },\n      fontSelectButton: function (editor, extras) {\n        return createFontSelect(editor, extras.backstage);\n      },\n      formatButton: function (editor, extras) {\n        return createFormatSelect(editor, extras.backstage);\n      },\n      alignMenuButton: function (editor, extras) {\n        return createAlignSelect(editor, extras.backstage);\n      }\n    };\n    var extractFrom = function (spec, extras) {\n      return get(types, spec.type).fold(function () {\n        domGlobals.console.error('skipping button defined by', spec);\n        return Option.none();\n      }, function (render) {\n        return Option.some(render(spec, extras));\n      });\n    };\n    var bespokeButtons = {\n      styleselect: types.styleSelectButton,\n      fontsizeselect: types.fontsizeSelectButton,\n      fontselect: types.fontSelectButton,\n      formatselect: types.formatButton,\n      align: types.alignMenuButton\n    };\n    var removeUnusedDefaults = function (buttons) {\n      var filteredItemGroups = map(defaultToolbar, function (group) {\n        var items = filter(group.items, function (subItem) {\n          return has(buttons, subItem) || has(bespokeButtons, subItem);\n        });\n        return {\n          name: group.name,\n          items: items\n        };\n      });\n      return filter(filteredItemGroups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n    var convertStringToolbar = function (strToolbar) {\n      var groupsStrings = strToolbar.split('|');\n      return map(groupsStrings, function (g) {\n        return { items: g.trim().split(' ') };\n      });\n    };\n    var isToolbarGroupSettingArray = function (toolbar) {\n      return isArrayOf(toolbar, function (t) {\n        return has(t, 'name') && has(t, 'items');\n      });\n    };\n    var createToolbar = function (toolbarConfig) {\n      var toolbar = toolbarConfig.toolbar;\n      var buttons = toolbarConfig.buttons;\n      if (toolbar === false) {\n        return [];\n      } else if (toolbar === undefined || toolbar === true) {\n        return removeUnusedDefaults(buttons);\n      } else if (isString(toolbar)) {\n        return convertStringToolbar(toolbar);\n      } else if (isToolbarGroupSettingArray(toolbar)) {\n        return toolbar;\n      } else {\n        domGlobals.console.error('Toolbar type should be string, string[], boolean or ToolbarGroup[]');\n        return [];\n      }\n    };\n    var lookupButton = function (editor, buttons, toolbarItem, extras, prefixes) {\n      return get(buttons, toolbarItem.toLowerCase()).orThunk(function () {\n        return prefixes.bind(function (ps) {\n          return findMap(ps, function (prefix) {\n            return get(buttons, prefix + toolbarItem.toLowerCase());\n          });\n        });\n      }).fold(function () {\n        return get(bespokeButtons, toolbarItem.toLowerCase()).map(function (r) {\n          return r(editor, extras);\n        }).orThunk(function () {\n          return Option.none();\n        });\n      }, function (spec) {\n        return extractFrom(spec, extras);\n      });\n    };\n    var identifyButtons = function (editor, toolbarConfig, extras, prefixes) {\n      var toolbarGroups = createToolbar(toolbarConfig);\n      var groups = map(toolbarGroups, function (group) {\n        var items = bind(group.items, function (toolbarItem) {\n          return toolbarItem.trim().length === 0 ? [] : lookupButton(editor, toolbarConfig.buttons, toolbarItem, extras, prefixes).toArray();\n        });\n        return {\n          title: Option.from(editor.translate(group.name)),\n          items: items\n        };\n      });\n      return filter(groups, function (group) {\n        return group.items.length > 0;\n      });\n    };\n\n    var bubbleSize = 12;\n    var bubbleAlignments$1 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var anchorOverrides = {\n      maxHeightFunction: expandable(),\n      maxWidthFunction: expandable$1()\n    };\n    var desktopAnchorSpecLayouts = {\n      onLtr: function () {\n        return [\n          north$1,\n          south$1,\n          northeast$1,\n          southeast$1,\n          northwest$1,\n          southwest$1,\n          north$3,\n          south$3,\n          northeast$3,\n          southeast$3,\n          northwest$3,\n          southwest$3\n        ];\n      },\n      onRtl: function () {\n        return [\n          north$1,\n          south$1,\n          northwest$1,\n          southwest$1,\n          northeast$1,\n          southeast$1,\n          north$3,\n          south$3,\n          northwest$3,\n          southwest$3,\n          northeast$3,\n          southeast$3\n        ];\n      }\n    };\n    var mobileAnchorSpecLayouts = {\n      onLtr: function () {\n        return [\n          south$1,\n          southeast$1,\n          southwest$1,\n          northeast$1,\n          northwest$1,\n          north$1,\n          north$3,\n          south$3,\n          northeast$3,\n          southeast$3,\n          northwest$3,\n          southwest$3\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$1,\n          southwest$1,\n          southeast$1,\n          northwest$1,\n          northeast$1,\n          north$1,\n          north$3,\n          south$3,\n          northwest$3,\n          southwest$3,\n          northeast$3,\n          southeast$3\n        ];\n      }\n    };\n    var getAnchorLayout = function (position, isTouch) {\n      if (position === 'line') {\n        return {\n          bubble: nu$8(bubbleSize, 0, bubbleAlignments$1),\n          layouts: {\n            onLtr: function () {\n              return [east$1];\n            },\n            onRtl: function () {\n              return [west$1];\n            }\n          },\n          overrides: anchorOverrides\n        };\n      } else {\n        return {\n          bubble: nu$8(0, bubbleSize, bubbleAlignments$1),\n          layouts: isTouch ? mobileAnchorSpecLayouts : desktopAnchorSpecLayouts,\n          overrides: anchorOverrides\n        };\n      }\n    };\n    var register$4 = function (editor, registryContextToolbars, sink, extras) {\n      var isTouch = detect$3().deviceType.isTouch;\n      var contextbar = build$1(renderContextToolbar({\n        sink: sink,\n        onEscape: function () {\n          editor.focus();\n          return Option.some(true);\n        }\n      }));\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var getBounds = function () {\n        return getBounds$2(editor, toolbarOrMenubarEnabled);\n      };\n      var isCompletelyBehindHeader = function (nodeBounds) {\n        var headerEle = descendant$1(Element.fromDom(editor.getContainer()), '.tox-editor-header').getOrDie();\n        var isHeaderDocked = get$4(headerEle, 'position') === 'fixed';\n        if (toolbarOrMenubarEnabled && isHeaderDocked) {\n          var headerBounds = headerEle.dom().getBoundingClientRect();\n          if (editor.inline) {\n            return nodeBounds.bottom < headerBounds.bottom;\n          } else {\n            var scroll = get$8();\n            var bodyBounds = absolute$1(Element.fromDom(editor.getBody()));\n            var nodeBottom = nodeBounds.bottom + (bodyBounds.y() - scroll.top());\n            return nodeBottom < headerBounds.bottom;\n          }\n        } else {\n          return false;\n        }\n      };\n      var shouldContextToolbarHide = function () {\n        if (isTouch() && extras.backstage.isContextMenuOpen()) {\n          return true;\n        }\n        var nodeBounds = lastElement.get().map(function (ele) {\n          return ele.getBoundingClientRect();\n        }).getOrThunk(function () {\n          return editor.selection.getRng().getBoundingClientRect();\n        });\n        var viewportHeight = defaultView(Element.fromDom(editor.getBody())).dom().innerHeight;\n        var aboveViewport = nodeBounds.bottom < 0;\n        var belowViewport = nodeBounds.top > viewportHeight;\n        return aboveViewport || belowViewport || isCompletelyBehindHeader(nodeBounds);\n      };\n      var forceHide = function () {\n        InlineView.hide(contextbar);\n      };\n      var hideOrRepositionIfNecessary = function () {\n        lastAnchor.get().each(function (anchor) {\n          var contextBarEle = contextbar.element();\n          remove$6(contextBarEle, 'display');\n          if (shouldContextToolbarHide()) {\n            set$2(contextBarEle, 'display', 'none');\n          } else {\n            Positioning.positionWithinBounds(sink, anchor, contextbar, getBounds());\n          }\n        });\n      };\n      var lastAnchor = Cell(Option.none());\n      var lastElement = Cell(Option.none());\n      var timer = Cell(null);\n      var wrapInPopDialog = function (toolbarSpec) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-pop__dialog']\n          },\n          components: [toolbarSpec],\n          behaviours: derive$1([\n            Keying.config({ mode: 'acyclic' }),\n            config('pop-dialog-wrap-events', [\n              runOnAttached(function (comp) {\n                editor.shortcuts.add('ctrl+F9', 'focus statusbar', function () {\n                  return Keying.focusIn(comp);\n                });\n              }),\n              runOnDetached(function (comp) {\n                editor.shortcuts.remove('ctrl+F9');\n              })\n            ])\n          ])\n        };\n      };\n      var getScopes = cached(function () {\n        return ToolbarScopes.categorise(registryContextToolbars, function (toolbarApi) {\n          var alloySpec = buildToolbar(toolbarApi);\n          emitWith(contextbar, forwardSlideEvent, { forwardContents: wrapInPopDialog(alloySpec) });\n        });\n      });\n      var buildToolbar = function (ctx) {\n        var buttons = editor.ui.registry.getAll().buttons;\n        var scopes = getScopes();\n        return ctx.type === 'contexttoolbar' ? function () {\n          var allButtons = merge(buttons, scopes.formNavigators);\n          var initGroups = identifyButtons(editor, {\n            buttons: allButtons,\n            toolbar: ctx.items\n          }, extras, Option.some(['form:']));\n          return renderToolbar({\n            uid: generate$1('context-toolbar'),\n            initGroups: initGroups,\n            onEscape: Option.none,\n            cyclicKeying: true,\n            backstage: extras.backstage,\n            getSink: function () {\n              return Result.error('');\n            }\n          });\n        }() : function () {\n          return ContextForm.renderContextForm(ctx, extras.backstage);\n        }();\n      };\n      editor.on(showContextToolbarEvent, function (e) {\n        var scopes = getScopes();\n        readOptFrom$1(scopes.lookupTable, e.toolbarKey).each(function (ctx) {\n          launchContext(ctx, e.target === editor ? Option.none() : Option.some(e));\n          InlineView.getContent(contextbar).each(Keying.focusIn);\n        });\n      });\n      var getAnchor = function (position, element) {\n        var anchorage = position === 'node' ? extras.backstage.shared.anchors.node(element) : extras.backstage.shared.anchors.cursor();\n        return deepMerge(anchorage, getAnchorLayout(position, isTouch()));\n      };\n      var launchContext = function (toolbarApi, elem) {\n        clearTimer();\n        if (isTouch() && extras.backstage.isContextMenuOpen()) {\n          return;\n        }\n        var toolbarSpec = buildToolbar(toolbarApi);\n        var sElem = elem.map(Element.fromDom);\n        var anchor = getAnchor(toolbarApi.position, sElem);\n        lastAnchor.set(Option.some(anchor));\n        lastElement.set(elem);\n        var contextBarEle = contextbar.element();\n        remove$6(contextBarEle, 'display');\n        InlineView.showWithinBounds(contextbar, anchor, wrapInPopDialog(toolbarSpec), getBounds);\n        if (shouldContextToolbarHide()) {\n          set$2(contextBarEle, 'display', 'none');\n        }\n      };\n      var launchContextToolbar = function () {\n        var scopes = getScopes();\n        ToolbarLookup.lookup(scopes, editor).fold(function () {\n          lastAnchor.set(Option.none());\n          InlineView.hide(contextbar);\n        }, function (info) {\n          launchContext(info.toolbarApi, Option.some(info.elem.dom()));\n        });\n      };\n      var clearTimer = function () {\n        var current = timer.get();\n        if (current !== null) {\n          global$2.clearTimeout(current);\n          timer.set(null);\n        }\n      };\n      var resetTimer = function (t) {\n        clearTimer();\n        timer.set(t);\n      };\n      editor.on('init', function () {\n        editor.on(hideContextToolbarEvent, forceHide);\n        editor.on('ScrollContent ScrollWindow longpress', hideOrRepositionIfNecessary);\n        editor.on('click keyup SetContent ObjectResized ResizeEditor', function (e) {\n          resetTimer(global$2.setEditorTimeout(editor, launchContextToolbar, 0));\n        });\n        editor.on('focusout', function (e) {\n          global$2.setEditorTimeout(editor, function () {\n            if (search(sink.element()).isNone() && search(contextbar.element()).isNone()) {\n              lastAnchor.set(Option.none());\n              InlineView.hide(contextbar);\n            }\n          }, 0);\n        });\n        editor.on('SwitchMode', function () {\n          if (editor.readonly) {\n            lastAnchor.set(Option.none());\n            InlineView.hide(contextbar);\n          }\n        });\n        editor.on('NodeChange', function (e) {\n          search(contextbar.element()).fold(function () {\n            resetTimer(global$2.setEditorTimeout(editor, launchContextToolbar, 0));\n          }, function (_) {\n          });\n        });\n      });\n    };\n    var ContextToolbar = { register: register$4 };\n\n    var setup$3 = function (editor, mothership, uiMothership) {\n      var onMousedown = bind$3(Element.fromDom(domGlobals.document), 'mousedown', function (evt) {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([dismissPopups()], { target: evt.target() });\n        });\n      });\n      var onTouchstart = bind$3(Element.fromDom(domGlobals.document), 'touchstart', function (evt) {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([dismissPopups()], { target: evt.target() });\n        });\n      });\n      var onTouchmove = bind$3(Element.fromDom(domGlobals.document), 'touchmove', function (evt) {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(documentTouchmove(), evt);\n        });\n      });\n      var onTouchend = bind$3(Element.fromDom(domGlobals.document), 'touchend', function (evt) {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(documentTouchend(), evt);\n        });\n      });\n      var onMouseup = bind$3(Element.fromDom(domGlobals.document), 'mouseup', function (evt) {\n        if (evt.raw().button === 0) {\n          each([\n            mothership,\n            uiMothership\n          ], function (ship) {\n            ship.broadcastOn([mouseReleased()], { target: evt.target() });\n          });\n        }\n      });\n      var onContentMousedown = function (raw) {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([dismissPopups()], { target: Element.fromDom(raw.target) });\n        });\n      };\n      var onContentMouseup = function (raw) {\n        if (raw.button === 0) {\n          each([\n            mothership,\n            uiMothership\n          ], function (ship) {\n            ship.broadcastOn([mouseReleased()], { target: Element.fromDom(raw.target) });\n          });\n        }\n      };\n      var onWindowScroll = function (evt) {\n        var sugarEvent = fromRawEvent$1(evt);\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastEvent(windowScroll(), sugarEvent);\n        });\n      };\n      var onWindowResize = function (evt) {\n        var sugarEvent = fromRawEvent$1(evt);\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([repositionPopups()], {});\n          ship.broadcastEvent(windowResize(), sugarEvent);\n        });\n      };\n      var onEditorResize = function () {\n        each([\n          mothership,\n          uiMothership\n        ], function (ship) {\n          ship.broadcastOn([repositionPopups()], {});\n        });\n      };\n      editor.on('PostRender', function () {\n        editor.on('mousedown', onContentMousedown);\n        editor.on('touchstart', onContentMousedown);\n        editor.on('mouseup', onContentMouseup);\n        editor.on('ScrollWindow', onWindowScroll);\n        editor.on('ResizeWindow', onWindowResize);\n        editor.on('ResizeEditor', onEditorResize);\n      });\n      editor.on('remove', function () {\n        editor.off('mousedown', onContentMousedown);\n        editor.off('touchstart', onContentMousedown);\n        editor.off('mouseup', onContentMouseup);\n        editor.off('ScrollWindow', onWindowScroll);\n        editor.off('ResizeWindow', onWindowResize);\n        editor.off('ResizeEditor', onEditorResize);\n        onMousedown.unbind();\n        onTouchstart.unbind();\n        onTouchmove.unbind();\n        onTouchend.unbind();\n        onMouseup.unbind();\n      });\n      editor.on('detach', function () {\n        detachSystem(mothership);\n        detachSystem(uiMothership);\n        mothership.destroy();\n        uiMothership.destroy();\n      });\n    };\n    var Events$1 = { setup: setup$3 };\n\n    var schema$q = constant([\n      defaulted$1('shell', false),\n      strict$1('makeItem'),\n      defaulted$1('setupItem', noop),\n      SketchBehaviours.field('listBehaviours', [Replacing])\n    ]);\n    var customListDetail = function (detail) {\n      return { behaviours: derive$1([Replacing.config({})]) };\n    };\n    var itemsPart = optional({\n      name: 'items',\n      overrides: customListDetail\n    });\n    var parts$c = constant([itemsPart]);\n    var name$2 = constant('CustomList');\n\n    var factory$e = function (detail, components, spec, external) {\n      var setItems = function (list, items) {\n        getListContainer(list).fold(function () {\n          domGlobals.console.error('Custom List was defined to not be a shell, but no item container was specified in components');\n          throw new Error('Custom List was defined to not be a shell, but no item container was specified in components');\n        }, function (container) {\n          var itemComps = Replacing.contents(container);\n          var numListsRequired = items.length;\n          var numListsToAdd = numListsRequired - itemComps.length;\n          var itemsToAdd = numListsToAdd > 0 ? range(numListsToAdd, function () {\n            return detail.makeItem();\n          }) : [];\n          var itemsToRemove = itemComps.slice(numListsRequired);\n          each(itemsToRemove, function (item) {\n            return Replacing.remove(container, item);\n          });\n          each(itemsToAdd, function (item) {\n            return Replacing.append(container, item);\n          });\n          var builtLists = Replacing.contents(container);\n          each(builtLists, function (item, i) {\n            detail.setupItem(list, item, items[i], i);\n          });\n        });\n      };\n      var extra = detail.shell ? {\n        behaviours: [Replacing.config({})],\n        components: []\n      } : {\n        behaviours: [],\n        components: components\n      };\n      var getListContainer = function (component) {\n        return detail.shell ? Option.some(component) : getPart(component, detail, 'items');\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: extra.components,\n        behaviours: augment(detail.listBehaviours, extra.behaviours),\n        apis: { setItems: setItems }\n      };\n    };\n    var CustomList = composite$1({\n      name: name$2(),\n      configFields: schema$q(),\n      partFields: parts$c(),\n      factory: factory$e,\n      apis: {\n        setItems: function (apis, list, items) {\n          apis.setItems(list, items);\n        }\n      }\n    });\n\n    var parts$d = AlloyParts;\n    var partType$1 = PartType;\n\n    var getOrigin = function (element) {\n      var isFixed = getRaw(element, 'position').is('fixed');\n      var offsetParent$1 = isFixed ? Option.none() : offsetParent(element);\n      return offsetParent$1.orThunk(function () {\n        var marker = Element.fromTag('span');\n        before(element, marker);\n        var offsetParent$1 = offsetParent(marker);\n        remove(marker);\n        return offsetParent$1;\n      }).map(absolute).getOrThunk(function () {\n        return Position(0, 0);\n      });\n    };\n\n    var adt$c = Adt.generate([\n      {\n        offset: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var subtract = function (change) {\n      return function (point) {\n        return point.translate(-change.left(), -change.top());\n      };\n    };\n    var add$4 = function (change) {\n      return function (point) {\n        return point.translate(change.left(), change.top());\n      };\n    };\n    var transform$1 = function (changes) {\n      return function (x, y) {\n        return foldl(changes, function (rest, f) {\n          return f(rest);\n        }, Position(x, y));\n      };\n    };\n    var asFixed = function (coord, scroll, origin) {\n      return coord.fold(transform$1([\n        add$4(origin),\n        subtract(scroll)\n      ]), transform$1([subtract(scroll)]), transform$1([]));\n    };\n    var asAbsolute = function (coord, scroll, origin) {\n      return coord.fold(transform$1([add$4(origin)]), transform$1([]), transform$1([add$4(scroll)]));\n    };\n    var asOffset = function (coord, scroll, origin) {\n      return coord.fold(transform$1([]), transform$1([subtract(origin)]), transform$1([\n        add$4(scroll),\n        subtract(origin)\n      ]));\n    };\n    var withinRange = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      return Math.abs(a1.left() - a2.left()) <= xRange && Math.abs(a1.top() - a2.top()) <= yRange;\n    };\n    var getDeltas = function (coord1, coord2, xRange, yRange, scroll, origin) {\n      var a1 = asAbsolute(coord1, scroll, origin);\n      var a2 = asAbsolute(coord2, scroll, origin);\n      var left = Math.abs(a1.left() - a2.left());\n      var top = Math.abs(a1.top() - a2.top());\n      return Position(left, top);\n    };\n    var toStyles = function (coord, scroll, origin) {\n      return coord.fold(function (x, y) {\n        return {\n          position: 'absolute',\n          left: x + 'px',\n          top: y + 'px'\n        };\n      }, function (x, y) {\n        return {\n          position: 'absolute',\n          left: x - origin.left() + 'px',\n          top: y - origin.top() + 'px'\n        };\n      }, function (x, y) {\n        return {\n          position: 'fixed',\n          left: x + 'px',\n          top: y + 'px'\n        };\n      });\n    };\n    var translate$2 = function (coord, deltaX, deltaY) {\n      return coord.fold(function (x, y) {\n        return adt$c.offset(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return adt$c.absolute(x + deltaX, y + deltaY);\n      }, function (x, y) {\n        return adt$c.fixed(x + deltaX, y + deltaY);\n      });\n    };\n    var absorb = function (partialCoord, originalCoord, scroll, origin) {\n      var absorbOne = function (stencil, nu) {\n        return function (optX, optY) {\n          var original = stencil(originalCoord, scroll, origin);\n          return nu(optX.getOr(original.left()), optY.getOr(original.top()));\n        };\n      };\n      return partialCoord.fold(absorbOne(asOffset, adt$c.offset), absorbOne(asAbsolute, adt$c.absolute), absorbOne(asFixed, adt$c.fixed));\n    };\n    var offset = adt$c.offset;\n    var absolute$3 = adt$c.absolute;\n    var fixed$1 = adt$c.fixed;\n\n    var morphAdt = Adt.generate([\n      { static: [] },\n      {\n        absolute: [\n          'x',\n          'y'\n        ]\n      },\n      {\n        fixed: [\n          'x',\n          'y'\n        ]\n      }\n    ]);\n    var appear = function (component, contextualInfo) {\n      var elem = component.element();\n      add$2(elem, contextualInfo.transitionClass);\n      remove$4(elem, contextualInfo.fadeOutClass);\n      add$2(elem, contextualInfo.fadeInClass);\n      contextualInfo.onShow(component);\n    };\n    var disappear = function (component, contextualInfo) {\n      var elem = component.element();\n      add$2(elem, contextualInfo.transitionClass);\n      remove$4(elem, contextualInfo.fadeInClass);\n      add$2(elem, contextualInfo.fadeOutClass);\n      contextualInfo.onHide(component);\n    };\n    var isPartiallyVisible = function (box, viewport) {\n      return box.y() < viewport.bottom() && box.bottom() > viewport.y();\n    };\n    var isTopCompletelyVisible = function (box, viewport) {\n      return box.y() >= viewport.y();\n    };\n    var isBottomCompletelyVisible = function (box, viewport) {\n      return box.bottom() <= viewport.bottom();\n    };\n    var isVisibleForModes = function (modes, box, viewport) {\n      return forall(modes, function (mode) {\n        switch (mode) {\n        case 'bottom':\n          return isBottomCompletelyVisible(box, viewport);\n        case 'top':\n          return isTopCompletelyVisible(box, viewport);\n        }\n      });\n    };\n    var getAttr = function (elem, attr) {\n      return has$1(elem, attr) ? Option.some(parseInt(get$2(elem, attr), 10)) : Option.none();\n    };\n    var getPrior = function (elem, dockInfo) {\n      return getAttr(elem, dockInfo.leftAttr).bind(function (left) {\n        return getAttr(elem, dockInfo.topAttr).map(function (top) {\n          var w = get$7(elem);\n          var h = get$6(elem);\n          return bounds$1(left, top, w, h);\n        });\n      });\n    };\n    var setPrior = function (elem, dockInfo, absLeft, absTop, position) {\n      set$1(elem, dockInfo.leftAttr, absLeft);\n      set$1(elem, dockInfo.topAttr, absTop);\n      set$1(elem, dockInfo.positionAttr, position);\n    };\n    var clearPrior = function (elem, dockInfo) {\n      remove$1(elem, dockInfo.leftAttr);\n      remove$1(elem, dockInfo.topAttr);\n      remove$1(elem, dockInfo.positionAttr);\n    };\n    var revertToOriginal = function (elem, dockInfo, box) {\n      var position = get$2(elem, dockInfo.positionAttr);\n      clearPrior(elem, dockInfo);\n      switch (position) {\n      case 'static':\n        return Option.some(morphAdt.static());\n      case 'absolute':\n        return Option.some(morphAdt.absolute(box.x(), box.y()));\n      default:\n        return Option.none();\n      }\n    };\n    var morphToOriginal = function (elem, dockInfo, viewport) {\n      return getPrior(elem, dockInfo).filter(function (box) {\n        return isVisibleForModes(dockInfo.modes, box, viewport);\n      }).bind(function (box) {\n        return revertToOriginal(elem, dockInfo, box);\n      });\n    };\n    var morphToFixed = function (elem, dockInfo, viewport, scroll, origin) {\n      var box$1 = box(elem);\n      if (!isVisibleForModes(dockInfo.modes, box$1, viewport)) {\n        var position = get$4(elem, 'position');\n        setPrior(elem, dockInfo, box$1.x(), box$1.y(), position);\n        var coord = absolute$3(box$1.x(), box$1.y());\n        var asFixed$1 = asFixed(coord, scroll, origin);\n        var viewportPt = absolute$3(viewport.x(), viewport.y());\n        var fixedViewport = asFixed(viewportPt, scroll, origin);\n        var fixedY = box$1.y() <= viewport.y() ? fixedViewport.top() : fixedViewport.top() + viewport.height() - box$1.height();\n        return Option.some(morphAdt.fixed(asFixed$1.left(), fixedY));\n      } else {\n        return Option.none();\n      }\n    };\n    var getMorph = function (component, dockInfo, viewport, scroll, origin) {\n      var elem = component.element();\n      var isDocked = getRaw(elem, 'position').is('fixed');\n      return isDocked ? morphToOriginal(elem, dockInfo, viewport) : morphToFixed(elem, dockInfo, viewport, scroll, origin);\n    };\n    var getMorphToOriginal = function (component, dockInfo) {\n      var elem = component.element();\n      return getPrior(elem, dockInfo).bind(function (box) {\n        return revertToOriginal(elem, dockInfo, box);\n      });\n    };\n\n    var morphToStatic = function (component, config) {\n      each([\n        'left',\n        'top',\n        'position'\n      ], function (prop) {\n        return remove$6(component.element(), prop);\n      });\n      config.onUndocked(component);\n    };\n    var morphToCoord = function (component, config, scroll, origin, morph) {\n      var styles = toStyles(morph, scroll, origin);\n      setAll$1(component.element(), styles);\n      var method = styles.position === 'fixed' ? config.onDocked : config.onUndocked;\n      method(component);\n    };\n    var updateVisibility = function (component, config, state, viewport, morphToDocked) {\n      if (morphToDocked === void 0) {\n        morphToDocked = false;\n      }\n      config.contextual.each(function (contextInfo) {\n        contextInfo.lazyContext(component).each(function (box) {\n          var isVisible = isPartiallyVisible(box, viewport);\n          if (isVisible !== state.isVisible()) {\n            state.setVisible(isVisible);\n            if (morphToDocked && !isVisible) {\n              add$3(component.element(), [contextInfo.fadeOutClass]);\n              contextInfo.onHide(component);\n            } else {\n              var method = isVisible ? appear : disappear;\n              method(component, contextInfo);\n            }\n          }\n        });\n      });\n    };\n    var refreshInternal = function (component, config, state) {\n      var viewport = config.lazyViewport(component);\n      var elem = component.element();\n      var doc = owner(elem);\n      var scroll = get$8(doc);\n      var origin = getOrigin(elem);\n      var isDocked = state.isDocked();\n      if (isDocked) {\n        updateVisibility(component, config, state, viewport);\n      }\n      getMorph(component, config, viewport, scroll, origin).each(function (morph) {\n        state.setDocked(!isDocked);\n        morph.fold(function () {\n          return morphToStatic(component, config);\n        }, function (x, y) {\n          return morphToCoord(component, config, scroll, origin, absolute$3(x, y));\n        }, function (x, y) {\n          updateVisibility(component, config, state, viewport, true);\n          morphToCoord(component, config, scroll, origin, fixed$1(x, y));\n        });\n      });\n    };\n    var resetInternal = function (component, config, state) {\n      var elem = component.element();\n      state.setDocked(false);\n      getMorphToOriginal(component, config).each(function (morph) {\n        morph.fold(function () {\n          return morphToStatic(component, config);\n        }, function (x, y) {\n          var doc = owner(elem);\n          var scroll = get$8(doc);\n          var origin = getOrigin(elem);\n          morphToCoord(component, config, scroll, origin, absolute$3(x, y));\n        }, noop);\n      });\n      state.setVisible(true);\n      config.contextual.each(function (contextInfo) {\n        remove$5(elem, [\n          contextInfo.fadeInClass,\n          contextInfo.fadeOutClass,\n          contextInfo.transitionClass\n        ]);\n        contextInfo.onShow(component);\n      });\n      refresh$4(component, config, state);\n    };\n    var refresh$4 = function (component, config, state) {\n      if (component.getSystem().isConnected()) {\n        refreshInternal(component, config, state);\n      }\n    };\n    var reset = function (component, config, state) {\n      if (state.isDocked()) {\n        resetInternal(component, config, state);\n      }\n    };\n    var isDocked = function (component, config, state) {\n      return state.isDocked();\n    };\n\n    var DockingApis = /*#__PURE__*/Object.freeze({\n        refresh: refresh$4,\n        reset: reset,\n        isDocked: isDocked\n    });\n\n    var events$f = function (dockInfo, dockState) {\n      return derive([\n        runOnSource(transitionend(), function (component, simulatedEvent) {\n          dockInfo.contextual.each(function (contextInfo) {\n            if (has$2(component.element(), contextInfo.transitionClass)) {\n              remove$5(component.element(), [\n                contextInfo.transitionClass,\n                contextInfo.fadeInClass\n              ]);\n              var notify = dockState.isVisible() ? contextInfo.onShown : contextInfo.onHidden;\n              notify(component);\n            }\n            simulatedEvent.stop();\n          });\n        }),\n        run(windowScroll(), function (component, _) {\n          refresh$4(component, dockInfo, dockState);\n        }),\n        run(windowResize(), function (component, _) {\n          reset(component, dockInfo, dockState);\n        })\n      ]);\n    };\n\n    var ActiveDocking = /*#__PURE__*/Object.freeze({\n        events: events$f\n    });\n\n    var DockingSchema = [\n      optionObjOf('contextual', [\n        strictString('fadeInClass'),\n        strictString('fadeOutClass'),\n        strictString('transitionClass'),\n        strictFunction('lazyContext'),\n        onHandler('onShow'),\n        onHandler('onShown'),\n        onHandler('onHide'),\n        onHandler('onHidden')\n      ]),\n      defaultedFunction('lazyViewport', win),\n      strictString('leftAttr'),\n      strictString('topAttr'),\n      strictString('positionAttr'),\n      defaultedArrayOf('modes', [\n        'top',\n        'bottom'\n      ], string),\n      onHandler('onDocked'),\n      onHandler('onUndocked')\n    ];\n\n    var init$b = function () {\n      var docked = Cell(false);\n      var visible = Cell(true);\n      var readState = function () {\n        return 'docked:  ' + docked.get() + ', visible: ' + visible.get();\n      };\n      return nu$5({\n        isDocked: function () {\n          return docked.get();\n        },\n        setDocked: function (state) {\n          return docked.set(state);\n        },\n        isVisible: function () {\n          return visible.get();\n        },\n        setVisible: function (state) {\n          return visible.set(state);\n        },\n        readState: readState\n      });\n    };\n\n    var DockingState = /*#__PURE__*/Object.freeze({\n        init: init$b\n    });\n\n    var Docking = create$1({\n      fields: DockingSchema,\n      name: 'docking',\n      active: ActiveDocking,\n      apis: DockingApis,\n      state: DockingState\n    });\n\n    var visibility = {\n      fadeInClass: 'tox-editor-dock-fadein',\n      fadeOutClass: 'tox-editor-dock-fadeout',\n      transitionClass: 'tox-editor-dock-transition'\n    };\n    var editorStickyOnClass = 'tox-tinymce--toolbar-sticky-on';\n    var editorStickyOffClass = 'tox-tinymce--toolbar-sticky-off';\n    var updateContentFlow = function (header) {\n      var elm = header.element();\n      parent(elm).each(function (parentElem) {\n        if (Docking.isDocked(header)) {\n          var parentWidth = get$7(parentElem);\n          set$2(elm, 'width', parentWidth + 'px');\n          var headerHeight = getOuter$1(elm);\n          set$2(parentElem, 'padding-top', headerHeight + 'px');\n        } else {\n          remove$6(elm, 'width');\n          remove$6(parentElem, 'padding-top');\n        }\n      });\n    };\n    var updateSinkVisibility = function (sinkElem, visible) {\n      if (visible) {\n        remove$4(sinkElem, visibility.fadeOutClass);\n        add$3(sinkElem, [\n          visibility.transitionClass,\n          visibility.fadeInClass\n        ]);\n      } else {\n        remove$4(sinkElem, visibility.fadeInClass);\n        add$3(sinkElem, [\n          visibility.fadeOutClass,\n          visibility.transitionClass\n        ]);\n      }\n    };\n    var updateEditorClasses = function (editor, docked) {\n      var editorContainer = Element.fromDom(editor.getContainer());\n      if (docked) {\n        add$2(editorContainer, editorStickyOnClass);\n        remove$4(editorContainer, editorStickyOffClass);\n      } else {\n        add$2(editorContainer, editorStickyOffClass);\n        remove$4(editorContainer, editorStickyOnClass);\n      }\n    };\n    var restoreFocus = function (headerElem, focusedElem) {\n      var ownerDoc = owner(focusedElem);\n      active(ownerDoc).filter(function (activeElm) {\n        return !eq(focusedElem, activeElm);\n      }).filter(function (activeElm) {\n        return eq(activeElm, Element.fromDom(ownerDoc.dom().body)) || contains$2(headerElem, activeElm);\n      }).each(function () {\n        return focus$1(focusedElem);\n      });\n    };\n    var findFocusedElem = function (rootElm, lazySink) {\n      return search(rootElm).orThunk(function () {\n        return lazySink().toOption().bind(function (sink) {\n          return search(sink.element());\n        });\n      });\n    };\n    var setup$4 = function (editor, lazyHeader) {\n      if (!editor.inline) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          lazyHeader().each(updateContentFlow);\n        });\n        editor.on('SkinLoaded', function () {\n          lazyHeader().each(Docking.reset);\n        });\n      }\n      editor.on('PostRender', function () {\n        updateEditorClasses(editor, false);\n      });\n    };\n    var isDocked$1 = function (lazyHeader) {\n      return lazyHeader().map(Docking.isDocked).getOr(false);\n    };\n    var getBehaviours$2 = function (editor, lazySink) {\n      var _a;\n      var focusedElm = Cell(Option.none());\n      var runOnSinkElement = function (f) {\n        lazySink().each(function (sink) {\n          return f(sink.element());\n        });\n      };\n      var onDockingSwitch = function (comp) {\n        if (!editor.inline) {\n          updateContentFlow(comp);\n        }\n        updateEditorClasses(editor, Docking.isDocked(comp));\n        comp.getSystem().broadcastOn([repositionPopups()], {});\n        lazySink().each(function (sink) {\n          return sink.getSystem().broadcastOn([repositionPopups()], {});\n        });\n      };\n      return [\n        Docking.config({\n          leftAttr: 'data-dock-left',\n          topAttr: 'data-dock-top',\n          positionAttr: 'data-dock-pos',\n          contextual: __assign({\n            lazyContext: function (comp) {\n              var headerHeight = getOuter$1(comp.element());\n              var container = editor.inline ? editor.getContentAreaContainer() : editor.getContainer();\n              var box$1 = box(Element.fromDom(container));\n              var boxHeight = box$1.height() - headerHeight;\n              return Option.some(bounds$1(box$1.x(), box$1.y(), box$1.width(), boxHeight));\n            },\n            onShow: function () {\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, true);\n              });\n            },\n            onShown: function (comp) {\n              runOnSinkElement(function (elem) {\n                return remove$5(elem, [\n                  visibility.transitionClass,\n                  visibility.fadeInClass\n                ]);\n              });\n              focusedElm.get().each(function (elem) {\n                restoreFocus(comp.element(), elem);\n                focusedElm.set(Option.none());\n              });\n            },\n            onHide: function (comp) {\n              focusedElm.set(findFocusedElem(comp.element(), lazySink));\n              runOnSinkElement(function (elem) {\n                return updateSinkVisibility(elem, false);\n              });\n            },\n            onHidden: function () {\n              runOnSinkElement(function (elem) {\n                return remove$5(elem, [visibility.transitionClass]);\n              });\n            }\n          }, visibility),\n          modes: ['top'],\n          onDocked: onDockingSwitch,\n          onUndocked: onDockingSwitch\n        }),\n        Focusing.config({}),\n        Receiving.config({\n          channels: (_a = {}, _a[toolbarHeightChange()] = {\n            onReceive: function (comp) {\n              updateContentFlow(comp);\n            }\n          }, _a)\n        })\n      ];\n    };\n\n    var StickyHeader = /*#__PURE__*/Object.freeze({\n        setup: setup$4,\n        isDocked: isDocked$1,\n        getBehaviours: getBehaviours$2\n    });\n\n    var setup$5 = noop;\n    var isDocked$2 = never;\n    var getBehaviours$3 = constant([]);\n\n    var StaticHeader = /*#__PURE__*/Object.freeze({\n        setup: setup$5,\n        isDocked: isDocked$2,\n        getBehaviours: getBehaviours$3\n    });\n\n    var renderHeader = function (spec) {\n      var editor = spec.editor;\n      var getBehaviours = spec.sticky ? getBehaviours$2 : getBehaviours$3;\n      return {\n        uid: spec.uid,\n        dom: spec.dom,\n        components: spec.components,\n        behaviours: derive$1(getBehaviours(editor, spec.getSink))\n      };\n    };\n\n    var factory$f = function (detail, spec) {\n      var setMenus = function (comp, menus) {\n        var newMenus = map(menus, function (m) {\n          var buttonSpec = {\n            type: 'menubutton',\n            text: m.text,\n            fetch: function (callback) {\n              callback(m.getItems());\n            }\n          };\n          var internal = createMenuButton(buttonSpec).mapError(function (errInfo) {\n            return formatError(errInfo);\n          }).getOrDie();\n          return renderMenuButton(internal, 'tox-mbtn', spec.backstage, Option.some('menuitem'));\n        });\n        Replacing.set(comp, newMenus);\n      };\n      var apis = {\n        focus: Keying.focusIn,\n        setMenus: setMenus\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: [],\n        behaviours: derive$1([\n          Replacing.config({}),\n          config('menubar-events', [\n            runOnAttached(function (component) {\n              detail.onSetup(component);\n            }),\n            run(mouseover(), function (comp, se) {\n              descendant$1(comp.element(), '.' + 'tox-mbtn--active').each(function (activeButton) {\n                closest$3(se.event().target(), '.' + 'tox-mbtn').each(function (hoveredButton) {\n                  if (!eq(activeButton, hoveredButton)) {\n                    comp.getSystem().getByDom(activeButton).each(function (activeComp) {\n                      comp.getSystem().getByDom(hoveredButton).each(function (hoveredComp) {\n                        Dropdown.expand(hoveredComp);\n                        Dropdown.close(activeComp);\n                        Focusing.focus(hoveredComp);\n                      });\n                    });\n                  }\n                });\n              });\n            }),\n            run(focusShifted(), function (comp, se) {\n              se.event().prevFocus().bind(function (prev) {\n                return comp.getSystem().getByDom(prev).toOption();\n              }).each(function (prev) {\n                se.event().newFocus().bind(function (nu) {\n                  return comp.getSystem().getByDom(nu).toOption();\n                }).each(function (nu) {\n                  if (Dropdown.isOpen(prev)) {\n                    Dropdown.expand(nu);\n                    Dropdown.close(prev);\n                  }\n                });\n              });\n            })\n          ]),\n          Keying.config({\n            mode: 'flow',\n            selector: '.' + 'tox-mbtn',\n            onEscape: function (comp) {\n              detail.onEscape(comp);\n              return Option.some(true);\n            }\n          }),\n          Tabstopping.config({})\n        ]),\n        apis: apis,\n        domModification: { attributes: { role: 'menubar' } }\n      };\n    };\n    var SilverMenubar = single$2({\n      factory: factory$f,\n      name: 'silver.Menubar',\n      configFields: [\n        strict$1('dom'),\n        strict$1('uid'),\n        strict$1('onEscape'),\n        strict$1('backstage'),\n        defaulted$1('onSetup', noop)\n      ],\n      apis: {\n        focus: function (apis, comp) {\n          apis.focus(comp);\n        },\n        setMenus: function (apis, comp, menus) {\n          apis.setMenus(comp, menus);\n        }\n      }\n    });\n\n    var owner$4 = 'container';\n    var schema$r = [field$1('slotBehaviours', [])];\n    var getPartName$1 = function (name) {\n      return '<alloy.field.' + name + '>';\n    };\n    var sketch$2 = function (sSpec) {\n      var parts = function () {\n        var record = [];\n        var slot = function (name, config) {\n          record.push(name);\n          return generateOne(owner$4, getPartName$1(name), config);\n        };\n        return {\n          slot: slot,\n          record: function () {\n            return record;\n          }\n        };\n      }();\n      var spec = sSpec(parts);\n      var partNames = parts.record();\n      var fieldParts = map(partNames, function (n) {\n        return required({\n          name: n,\n          pname: getPartName$1(n)\n        });\n      });\n      return composite(owner$4, schema$r, fieldParts, make$7, spec);\n    };\n    var make$7 = function (detail, components, spec) {\n      var getSlotNames = function (_) {\n        return getAllPartNames(detail);\n      };\n      var getSlot = function (container, key) {\n        return getPart(container, detail, key);\n      };\n      var onSlot = function (f, def) {\n        if (def === void 0) {\n          def = undefined;\n        }\n        return function (container, key) {\n          return getPart(container, detail, key).map(function (slot) {\n            return f(slot, key);\n          }).getOr(def);\n        };\n      };\n      var onSlots = function (f) {\n        return function (container, keys) {\n          each(keys, function (key) {\n            return f(container, key);\n          });\n        };\n      };\n      var doShowing = function (comp, key) {\n        return get$2(comp.element(), 'aria-hidden') !== 'true';\n      };\n      var doShow = function (comp, key) {\n        if (!doShowing(comp)) {\n          var element = comp.element();\n          remove$6(element, 'display');\n          remove$1(element, 'aria-hidden');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: true\n          });\n        }\n      };\n      var doHide = function (comp, key) {\n        if (doShowing(comp)) {\n          var element = comp.element();\n          set$2(element, 'display', 'none');\n          set$1(element, 'aria-hidden', 'true');\n          emitWith(comp, slotVisibility(), {\n            name: key,\n            visible: false\n          });\n        }\n      };\n      var isShowing = onSlot(doShowing, false);\n      var hideSlot = onSlot(doHide);\n      var hideSlots = onSlots(hideSlot);\n      var hideAllSlots = function (container) {\n        return hideSlots(container, getSlotNames());\n      };\n      var showSlot = onSlot(doShow);\n      var apis = {\n        getSlotNames: getSlotNames,\n        getSlot: getSlot,\n        isShowing: isShowing,\n        hideSlot: hideSlot,\n        hideAllSlots: hideAllSlots,\n        showSlot: showSlot\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$b(detail.slotBehaviours),\n        apis: apis\n      };\n    };\n    var slotApis = map$1({\n      getSlotNames: function (apis, c) {\n        return apis.getSlotNames(c);\n      },\n      getSlot: function (apis, c, key) {\n        return apis.getSlot(c, key);\n      },\n      isShowing: function (apis, c, key) {\n        return apis.isShowing(c, key);\n      },\n      hideSlot: function (apis, c, key) {\n        return apis.hideSlot(c, key);\n      },\n      hideAllSlots: function (apis, c) {\n        return apis.hideAllSlots(c);\n      },\n      showSlot: function (apis, c, key) {\n        return apis.showSlot(c, key);\n      }\n    }, makeApi);\n    var SlotContainer = __assign(__assign({}, slotApis), { sketch: sketch$2 });\n\n    var sidebarSchema = objOf([\n      optionString('icon'),\n      optionString('tooltip'),\n      defaultedFunction('onShow', noop),\n      defaultedFunction('onHide', noop),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ]);\n    var createSidebar = function (spec) {\n      return asRaw('sidebar', sidebarSchema, spec);\n    };\n\n    var setup$6 = function (editor) {\n      var sidebars = editor.ui.registry.getAll().sidebars;\n      each(keys(sidebars), function (name) {\n        var spec = sidebars[name];\n        var isActive = function () {\n          return Option.from(editor.queryCommandValue('ToggleSidebar')).is(name);\n        };\n        editor.ui.registry.addToggleButton(name, {\n          icon: spec.icon,\n          tooltip: spec.tooltip,\n          onAction: function (buttonApi) {\n            editor.execCommand('ToggleSidebar', false, name);\n            buttonApi.setActive(isActive());\n          },\n          onSetup: function (buttonApi) {\n            var handleToggle = function () {\n              return buttonApi.setActive(isActive());\n            };\n            editor.on('ToggleSidebar', handleToggle);\n            return function () {\n              editor.off('ToggleSidebar', handleToggle);\n            };\n          }\n        });\n      });\n    };\n    var getApi = function (comp) {\n      return {\n        element: function () {\n          return comp.element().dom();\n        }\n      };\n    };\n    var makePanels = function (parts, panelConfigs) {\n      var specs = map(keys(panelConfigs), function (name) {\n        var spec = panelConfigs[name];\n        var bridged = getOrDie(createSidebar(spec));\n        return {\n          name: name,\n          getApi: getApi,\n          onSetup: bridged.onSetup,\n          onShow: bridged.onShow,\n          onHide: bridged.onHide\n        };\n      });\n      return map(specs, function (spec) {\n        var editorOffCell = Cell(noop);\n        return parts.slot(spec.name, {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane']\n          },\n          behaviours: SimpleBehaviours.unnamedEvents([\n            onControlAttached(spec, editorOffCell),\n            onControlDetached(spec, editorOffCell),\n            run(slotVisibility(), function (sidepanel, se) {\n              var data = se.event();\n              var optSidePanelSpec = find(specs, function (config) {\n                return config.name === data.name();\n              });\n              optSidePanelSpec.each(function (sidePanelSpec) {\n                var handler = data.visible() ? sidePanelSpec.onShow : sidePanelSpec.onHide;\n                handler(sidePanelSpec.getApi(sidepanel));\n              });\n            })\n          ])\n        });\n      });\n    };\n    var makeSidebar = function (panelConfigs) {\n      return SlotContainer.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-sidebar__pane-container']\n          },\n          components: makePanels(parts, panelConfigs),\n          slotBehaviours: SimpleBehaviours.unnamedEvents([runOnAttached(function (slotContainer) {\n              return SlotContainer.hideAllSlots(slotContainer);\n            })])\n        };\n      });\n    };\n    var setSidebar = function (sidebar, panelConfigs) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        return Replacing.set(slider, [makeSidebar(panelConfigs)]);\n      });\n    };\n    var toggleSidebar = function (sidebar, name) {\n      var optSlider = Composing.getCurrent(sidebar);\n      optSlider.each(function (slider) {\n        var optSlotContainer = Composing.getCurrent(slider);\n        optSlotContainer.each(function (slotContainer) {\n          if (Sliding.hasGrown(slider)) {\n            if (SlotContainer.isShowing(slotContainer, name)) {\n              Sliding.shrink(slider);\n            } else {\n              SlotContainer.hideAllSlots(slotContainer);\n              SlotContainer.showSlot(slotContainer, name);\n            }\n          } else {\n            SlotContainer.hideAllSlots(slotContainer);\n            SlotContainer.showSlot(slotContainer, name);\n            Sliding.grow(slider);\n          }\n        });\n      });\n    };\n    var whichSidebar = function (sidebar) {\n      var optSlider = Composing.getCurrent(sidebar);\n      return optSlider.bind(function (slider) {\n        var sidebarOpen = Sliding.isGrowing(slider) || Sliding.hasGrown(slider);\n        if (sidebarOpen) {\n          var optSlotContainer = Composing.getCurrent(slider);\n          return optSlotContainer.bind(function (slotContainer) {\n            return find(SlotContainer.getSlotNames(slotContainer), function (name) {\n              return SlotContainer.isShowing(slotContainer, name);\n            });\n          });\n        } else {\n          return Option.none();\n        }\n      });\n    };\n    var fixSize = generate$1('FixSizeEvent');\n    var autoSize = generate$1('AutoSizeEvent');\n    var renderSidebar = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar'],\n          attributes: { role: 'complementary' }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-sidebar__slider']\n            },\n            components: [],\n            behaviours: derive$1([\n              Tabstopping.config({}),\n              Focusing.config({}),\n              Sliding.config({\n                dimension: { property: 'width' },\n                closedClass: 'tox-sidebar--sliding-closed',\n                openClass: 'tox-sidebar--sliding-open',\n                shrinkingClass: 'tox-sidebar--sliding-shrinking',\n                growingClass: 'tox-sidebar--sliding-growing',\n                onShrunk: function (slider) {\n                  var optSlotContainer = Composing.getCurrent(slider);\n                  optSlotContainer.each(SlotContainer.hideAllSlots);\n                  emit(slider, autoSize);\n                },\n                onGrown: function (slider) {\n                  emit(slider, autoSize);\n                },\n                onStartGrow: function (slider) {\n                  emitWith(slider, fixSize, { width: getRaw(slider.element(), 'width').getOr('') });\n                },\n                onStartShrink: function (slider) {\n                  emitWith(slider, fixSize, { width: get$7(slider.element()) + 'px' });\n                }\n              }),\n              Replacing.config({}),\n              Composing.config({\n                find: function (comp) {\n                  var children = Replacing.contents(comp);\n                  return head(children);\n                }\n              })\n            ])\n          }],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          config('sidebar-sliding-events', [\n            run(fixSize, function (comp, se) {\n              set$2(comp.element(), 'width', se.event().width());\n            }),\n            run(autoSize, function (comp, se) {\n              remove$6(comp.element(), 'width');\n            })\n          ])\n        ])\n      };\n    };\n\n    var renderSpinner = function (providerBackstage) {\n      return {\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-label': providerBackstage.translate('Loading...') },\n          classes: ['tox-throbber__busy-spinner']\n        },\n        components: [{ dom: fromHtml$2('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'special',\n            onTab: function () {\n              return Option.some(true);\n            },\n            onShiftTab: function () {\n              return Option.some(true);\n            }\n          }),\n          Focusing.config({})\n        ])\n      };\n    };\n    var toggleThrobber = function (comp, state, providerBackstage) {\n      var element = comp.element();\n      if (state === true) {\n        Replacing.set(comp, [renderSpinner(providerBackstage)]);\n        remove$6(element, 'display');\n        remove$1(element, 'aria-hidden');\n      } else {\n        Replacing.set(comp, []);\n        set$2(element, 'display', 'none');\n        set$1(element, 'aria-hidden', 'true');\n      }\n    };\n    var renderThrobber = function (spec) {\n      return {\n        uid: spec.uid,\n        dom: {\n          tag: 'div',\n          attributes: { 'aria-hidden': 'true' },\n          classes: ['tox-throbber'],\n          styles: { display: 'none' }\n        },\n        behaviours: derive$1([Replacing.config({})]),\n        components: []\n      };\n    };\n    var setup$7 = function (editor, lazyThrobber, sharedBackstage) {\n      var throbberState = Cell(false);\n      var timer = Cell(Option.none());\n      var toggle = function (state) {\n        if (state !== throbberState.get()) {\n          toggleThrobber(lazyThrobber(), state, sharedBackstage.providers);\n          throbberState.set(state);\n        }\n      };\n      editor.on('ProgressState', function (e) {\n        timer.get().each(global$2.clearTimeout);\n        if (isNumber(e.time)) {\n          var timerId = global$2.setEditorTimeout(editor, function () {\n            return toggle(e.state);\n          }, e.time);\n          timer.set(Option.some(timerId));\n        } else {\n          toggle(e.state);\n          timer.set(Option.none());\n        }\n      });\n    };\n\n    var factory$g = function (detail, components, spec) {\n      var apis = {\n        getSocket: function (comp) {\n          return parts$d.getPart(comp, detail, 'socket');\n        },\n        setSidebar: function (comp, panelConfigs) {\n          parts$d.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return setSidebar(sidebar, panelConfigs);\n          });\n        },\n        toggleSidebar: function (comp, name) {\n          parts$d.getPart(comp, detail, 'sidebar').each(function (sidebar) {\n            return toggleSidebar(sidebar, name);\n          });\n        },\n        whichSidebar: function (comp) {\n          return parts$d.getPart(comp, detail, 'sidebar').bind(whichSidebar).getOrNull();\n        },\n        getHeader: function (comp) {\n          return parts$d.getPart(comp, detail, 'header');\n        },\n        getToolbar: function (comp) {\n          return parts$d.getPart(comp, detail, 'toolbar');\n        },\n        setToolbar: function (comp, groups) {\n          parts$d.getPart(comp, detail, 'toolbar').each(function (toolbar) {\n            toolbar.getApis().setGroups(toolbar, groups);\n          });\n        },\n        setToolbars: function (comp, toolbars) {\n          parts$d.getPart(comp, detail, 'multiple-toolbar').each(function (mToolbar) {\n            CustomList.setItems(mToolbar, toolbars);\n          });\n        },\n        refreshToolbar: function (comp) {\n          var toolbar = parts$d.getPart(comp, detail, 'toolbar');\n          toolbar.each(function (toolbar) {\n            return toolbar.getApis().refresh(toolbar);\n          });\n        },\n        getMoreButton: function (comp) {\n          var toolbar = parts$d.getPart(comp, detail, 'toolbar');\n          return toolbar.bind(function (toolbar) {\n            return toolbar.getApis().getMoreButton(toolbar);\n          });\n        },\n        getThrobber: function (comp) {\n          return parts$d.getPart(comp, detail, 'throbber');\n        },\n        focusToolbar: function (comp) {\n          var optToolbar = parts$d.getPart(comp, detail, 'toolbar').orThunk(function () {\n            return parts$d.getPart(comp, detail, 'multiple-toolbar');\n          });\n          optToolbar.each(function (toolbar) {\n            Keying.focusIn(toolbar);\n          });\n        },\n        setMenubar: function (comp, menus) {\n          parts$d.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.setMenus(menubar, menus);\n          });\n        },\n        focusMenubar: function (comp) {\n          parts$d.getPart(comp, detail, 'menubar').each(function (menubar) {\n            SilverMenubar.focus(menubar);\n          });\n        }\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: apis,\n        behaviours: detail.behaviours\n      };\n    };\n    var partMenubar = partType$1.optional({\n      factory: SilverMenubar,\n      name: 'menubar',\n      schema: [strict$1('backstage')]\n    });\n    var toolbarFactory = function (spec) {\n      if (spec.split === ToolbarDrawer.sliding) {\n        return renderSlidingMoreToolbar;\n      } else if (spec.split === ToolbarDrawer.floating) {\n        return renderFloatingMoreToolbar;\n      } else {\n        return renderToolbar;\n      }\n    };\n    var partMultipleToolbar = partType$1.optional({\n      factory: {\n        sketch: function (spec) {\n          return CustomList.sketch({\n            uid: spec.uid,\n            dom: spec.dom,\n            listBehaviours: derive$1([Keying.config({\n                mode: 'acyclic',\n                selector: '.tox-toolbar'\n              })]),\n            makeItem: function () {\n              return renderToolbar({\n                uid: generate$1('multiple-toolbar-item'),\n                backstage: spec.backstage,\n                cyclicKeying: false,\n                getSink: spec.getSink,\n                initGroups: [],\n                onEscape: function () {\n                  return Option.none();\n                }\n              });\n            },\n            setupItem: function (mToolbar, tc, data, index) {\n              Toolbar.setGroups(tc, data);\n            },\n            shell: true\n          });\n        }\n      },\n      name: 'multiple-toolbar',\n      schema: [\n        strict$1('dom'),\n        strict$1('onEscape')\n      ]\n    });\n    var partToolbar = partType$1.optional({\n      factory: {\n        sketch: function (spec) {\n          var renderer = toolbarFactory(spec);\n          var toolbarSpec = {\n            uid: spec.uid,\n            onEscape: function () {\n              spec.onEscape();\n              return Option.some(true);\n            },\n            cyclicKeying: false,\n            initGroups: [],\n            getSink: spec.getSink,\n            backstage: spec.backstage,\n            moreDrawerData: {\n              lazyToolbar: spec.lazyToolbar,\n              lazyMoreButton: spec.lazyMoreButton,\n              lazyHeader: spec.lazyHeader\n            }\n          };\n          return renderer(toolbarSpec);\n        }\n      },\n      name: 'toolbar',\n      schema: [\n        strict$1('dom'),\n        strict$1('onEscape'),\n        strict$1('getSink')\n      ]\n    });\n    var partHeader = partType$1.optional({\n      factory: { sketch: renderHeader },\n      name: 'header',\n      schema: [strict$1('dom')]\n    });\n    var partSocket = partType$1.optional({\n      name: 'socket',\n      schema: [strict$1('dom')]\n    });\n    var partSidebar = partType$1.optional({\n      factory: { sketch: renderSidebar },\n      name: 'sidebar',\n      schema: [strict$1('dom')]\n    });\n    var partThrobber = partType$1.optional({\n      factory: { sketch: renderThrobber },\n      name: 'throbber',\n      schema: [strict$1('dom')]\n    });\n    var OuterContainer = composite$1({\n      name: 'OuterContainer',\n      factory: factory$g,\n      configFields: [\n        strict$1('dom'),\n        strict$1('behaviours')\n      ],\n      partFields: [\n        partHeader,\n        partMenubar,\n        partToolbar,\n        partMultipleToolbar,\n        partSocket,\n        partSidebar,\n        partThrobber\n      ],\n      apis: {\n        getSocket: function (apis, comp) {\n          return apis.getSocket(comp);\n        },\n        setSidebar: function (apis, comp, panelConfigs) {\n          apis.setSidebar(comp, panelConfigs);\n        },\n        toggleSidebar: function (apis, comp, name) {\n          apis.toggleSidebar(comp, name);\n        },\n        whichSidebar: function (apis, comp) {\n          return apis.whichSidebar(comp);\n        },\n        getHeader: function (apis, comp) {\n          return apis.getHeader(comp);\n        },\n        getToolbar: function (apis, comp) {\n          return apis.getToolbar(comp);\n        },\n        setToolbar: function (apis, comp, grps) {\n          var groups = map(grps, function (grp) {\n            return renderToolbarGroup(grp);\n          });\n          apis.setToolbar(comp, groups);\n        },\n        setToolbars: function (apis, comp, ts) {\n          var renderedToolbars = map(ts, function (g) {\n            return map(g, renderToolbarGroup);\n          });\n          apis.setToolbars(comp, renderedToolbars);\n        },\n        getMoreButton: function (apis, comp) {\n          return apis.getMoreButton(comp);\n        },\n        refreshToolbar: function (apis, comp) {\n          return apis.refreshToolbar(comp);\n        },\n        getThrobber: function (apis, comp) {\n          return apis.getThrobber(comp);\n        },\n        setMenubar: function (apis, comp, menus) {\n          apis.setMenubar(comp, menus);\n        },\n        focusMenubar: function (apis, comp) {\n          apis.focusMenubar(comp);\n        },\n        focusToolbar: function (apis, comp) {\n          apis.focusToolbar(comp);\n        }\n      }\n    });\n\n    var defaultMenubar = 'file edit view insert format tools table help';\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | print | deleteallconversations'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall | searchreplace'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code wordcount'\n      },\n      table: {\n        title: 'Table',\n        items: 'inserttable tableprops deletetable row column cell'\n      },\n      help: {\n        title: 'Help',\n        items: 'help'\n      }\n    };\n    var make$8 = function (menu, registry, editor) {\n      var removedMenuItems = getRemovedMenuItems(editor).split(/[ ,]/);\n      return {\n        text: menu.title,\n        getItems: function () {\n          return bind(menu.items, function (i) {\n            var itemName = i.toLowerCase();\n            if (itemName.trim().length === 0) {\n              return [];\n            } else if (exists(removedMenuItems, function (removedMenuItem) {\n                return removedMenuItem === itemName;\n              })) {\n              return [];\n            } else if (itemName === 'separator' || itemName === '|') {\n              return [{ type: 'separator' }];\n            } else if (registry.menuItems[itemName]) {\n              return [registry.menuItems[itemName]];\n            } else {\n              return [];\n            }\n          });\n        }\n      };\n    };\n    var parseItemsString = function (items) {\n      if (typeof items === 'string') {\n        return items.split(' ');\n      }\n      return items;\n    };\n    var identifyMenus = function (editor, registry) {\n      var rawMenuData = merge(defaultMenus, registry.menus);\n      var userDefinedMenus = keys(registry.menus).length > 0;\n      var menubar = registry.menubar === undefined || registry.menubar === true ? parseItemsString(defaultMenubar) : parseItemsString(registry.menubar === false ? '' : registry.menubar);\n      var validMenus = filter(menubar, function (menuName) {\n        return userDefinedMenus ? registry.menus.hasOwnProperty(menuName) && registry.menus[menuName].hasOwnProperty('items') || defaultMenus.hasOwnProperty(menuName) : defaultMenus.hasOwnProperty(menuName);\n      });\n      var menus = map(validMenus, function (menuName) {\n        var menuData = rawMenuData[menuName];\n        return make$8({\n          title: menuData.title,\n          items: parseItemsString(menuData.items)\n        }, registry, editor);\n      });\n      return filter(menus, function (menu) {\n        var isNotSeparator = function (item) {\n          return item.type !== 'separator';\n        };\n        return menu.getItems().length > 0 && exists(menu.getItems(), isNotSeparator);\n      });\n    };\n\n    var fireSkinLoaded$1 = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        Events.fireSkinLoaded(editor);\n      };\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n    var SkinLoaded = { fireSkinLoaded: fireSkinLoaded$1 };\n\n    var loadSkin = function (isInline, editor) {\n      var skinUrl = getSkinUrl(editor);\n      var skinUiCss;\n      if (skinUrl) {\n        skinUiCss = skinUrl + '/skin.min.css';\n        editor.contentCSS.push(skinUrl + (isInline ? '/content.inline' : '/content') + '.min.css');\n      }\n      if (isSkinDisabled(editor) === false && skinUiCss) {\n        global$7.DOM.styleSheetLoader.load(skinUiCss, SkinLoaded.fireSkinLoaded(editor));\n      } else {\n        SkinLoaded.fireSkinLoaded(editor)();\n      }\n    };\n    var iframe = curry(loadSkin, false);\n    var inline = curry(loadSkin, true);\n\n    var setToolbar = function (editor, uiComponents, rawUiConfig, backstage) {\n      var comp = uiComponents.outerContainer;\n      var toolbarConfig = rawUiConfig.toolbar;\n      var toolbarButtonsConfig = rawUiConfig.buttons;\n      if (isArrayOf(toolbarConfig, isString)) {\n        var toolbars = toolbarConfig.map(function (t) {\n          var config = {\n            toolbar: t,\n            buttons: toolbarButtonsConfig\n          };\n          return identifyButtons(editor, config, { backstage: backstage }, Option.none());\n        });\n        OuterContainer.setToolbars(comp, toolbars);\n      } else {\n        OuterContainer.setToolbar(comp, identifyButtons(editor, rawUiConfig, { backstage: backstage }, Option.none()));\n      }\n    };\n\n    var DOM = global$7.DOM;\n    var detection = detect$3();\n    var isiOS12 = detection.os.isiOS() && detection.os.version.major <= 12;\n    var setupEvents = function (editor) {\n      var contentWindow = editor.getWin();\n      var initialDocEle = editor.getDoc().documentElement;\n      var lastWindowDimensions = Cell(Position(contentWindow.innerWidth, contentWindow.innerHeight));\n      var lastDocumentDimensions = Cell(Position(initialDocEle.offsetWidth, initialDocEle.offsetHeight));\n      var resize = function (e) {\n        var docEle = editor.getDoc().documentElement;\n        var outer = lastWindowDimensions.get();\n        var inner = lastDocumentDimensions.get();\n        if (outer.left() !== contentWindow.innerWidth || outer.top() !== contentWindow.innerHeight) {\n          lastWindowDimensions.set(Position(contentWindow.innerWidth, contentWindow.innerHeight));\n          Events.fireResizeContent(editor, e);\n        } else if (inner.left() !== docEle.offsetWidth || inner.top() !== docEle.offsetHeight) {\n          lastDocumentDimensions.set(Position(docEle.offsetWidth, docEle.offsetHeight));\n          Events.fireResizeContent(editor, e);\n        }\n      };\n      var scroll = function (e) {\n        return Events.fireScrollContent(editor, e);\n      };\n      DOM.bind(contentWindow, 'resize', resize);\n      DOM.bind(contentWindow, 'scroll', scroll);\n      var elementLoad = capture$1(Element.fromDom(editor.getBody()), 'load', resize);\n      editor.on('remove', function () {\n        elementLoad.unbind();\n        DOM.unbind(contentWindow, 'resize', resize);\n        DOM.unbind(contentWindow, 'scroll', scroll);\n      });\n    };\n    var render = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var lastToolbarWidth = Cell(0);\n      iframe(editor);\n      attachSystemAfter(Element.fromDom(args.targetNode), uiComponents.mothership);\n      attachSystem(body(), uiComponents.uiMothership);\n      editor.on('PostRender', function () {\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        lastToolbarWidth.set(editor.getWin().innerWidth);\n        OuterContainer.setMenubar(uiComponents.outerContainer, identifyMenus(editor, rawUiConfig));\n        OuterContainer.setSidebar(uiComponents.outerContainer, rawUiConfig.sidebar);\n        setupEvents(editor);\n      });\n      var socket = OuterContainer.getSocket(uiComponents.outerContainer).getOrDie('Could not find expected socket element');\n      if (isiOS12 === true) {\n        setAll$1(socket.element(), {\n          'overflow': 'scroll',\n          '-webkit-overflow-scrolling': 'touch'\n        });\n        var limit = first$1(function () {\n          editor.fire('ScrollContent');\n        }, 20);\n        bind$3(socket.element(), 'scroll', limit.throttle);\n      }\n      setupReadonlyModeSwitch(editor, uiComponents);\n      editor.addCommand('ToggleSidebar', function (ui, value) {\n        OuterContainer.toggleSidebar(uiComponents.outerContainer, value);\n        editor.fire('ToggleSidebar');\n      });\n      editor.addQueryValueHandler('ToggleSidebar', function () {\n        return OuterContainer.whichSidebar(uiComponents.outerContainer);\n      });\n      var drawer = getToolbarDrawer(editor);\n      var refreshDrawer = function () {\n        OuterContainer.refreshToolbar(uiComponents.outerContainer);\n      };\n      if (drawer === ToolbarDrawer.sliding || drawer === ToolbarDrawer.floating) {\n        editor.on('ResizeWindow ResizeEditor ResizeContent', function () {\n          var width = editor.getWin().innerWidth;\n          if (width !== lastToolbarWidth.get()) {\n            refreshDrawer();\n            lastToolbarWidth.set(width);\n          }\n        });\n      }\n      return {\n        iframeContainer: socket.element().dom(),\n        editorContainer: uiComponents.outerContainer.element().dom()\n      };\n    };\n    var Iframe = { render: render };\n\n    var render$1 = function (editor, uiComponents, rawUiConfig, backstage, args) {\n      var floatContainer;\n      var DOM = global$7.DOM;\n      var useFixedToolbarContainer = useFixedContainer(editor);\n      var isSticky = isStickyToolbar(editor);\n      var targetElm = Element.fromDom(args.targetNode);\n      var splitSetting = getToolbarDrawer(editor);\n      var split = splitSetting === ToolbarDrawer.sliding || splitSetting === ToolbarDrawer.floating;\n      inline(editor);\n      var updateChromePosition = function (toolbar) {\n        var offset = split ? toolbar.fold(function () {\n          return 0;\n        }, function (tbar) {\n          return tbar.components().length > 1 ? get$6(tbar.components()[1].element()) : 0;\n        }) : 0;\n        var location = absolute(targetElm);\n        var top = location.top() - get$6(floatContainer.element()) + offset;\n        setAll$1(uiComponents.outerContainer.element(), {\n          position: 'absolute',\n          top: Math.round(top) + 'px',\n          left: Math.round(location.left()) + 'px'\n        });\n      };\n      var updateChromeUi = function (resetDocking) {\n        if (resetDocking === void 0) {\n          resetDocking = false;\n        }\n        if (split) {\n          OuterContainer.refreshToolbar(uiComponents.outerContainer);\n        }\n        if (!useFixedToolbarContainer) {\n          var toolbar = OuterContainer.getToolbar(uiComponents.outerContainer);\n          updateChromePosition(toolbar);\n        }\n        if (isSticky) {\n          resetDocking ? Docking.reset(floatContainer) : Docking.refresh(floatContainer);\n        }\n      };\n      var show = function () {\n        set$2(uiComponents.outerContainer.element(), 'display', 'flex');\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        remove$6(uiComponents.uiMothership.element(), 'display');\n        updateChromeUi();\n      };\n      var hide = function () {\n        if (uiComponents.outerContainer) {\n          set$2(uiComponents.outerContainer.element(), 'display', 'none');\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n        set$2(uiComponents.uiMothership.element(), 'display', 'none');\n      };\n      var render = function () {\n        if (floatContainer) {\n          show();\n          return;\n        }\n        floatContainer = OuterContainer.getHeader(uiComponents.outerContainer).getOrDie();\n        var uiContainer = getUiContainer(editor);\n        attachSystem(uiContainer, uiComponents.mothership);\n        attachSystem(uiContainer, uiComponents.uiMothership);\n        setToolbar(editor, uiComponents, rawUiConfig, backstage);\n        OuterContainer.setMenubar(uiComponents.outerContainer, identifyMenus(editor, rawUiConfig));\n        show();\n        editor.on('activate', show);\n        editor.on('deactivate', hide);\n        editor.on('NodeChange SkinLoaded ResizeWindow', function () {\n          if (!editor.hidden) {\n            updateChromeUi(true);\n          }\n        });\n        editor.nodeChanged();\n      };\n      editor.on('focus', render);\n      editor.on('blur hide', hide);\n      editor.on('init', function () {\n        if (editor.hasFocus()) {\n          render();\n        }\n      });\n      setupReadonlyModeSwitch(editor, uiComponents);\n      return { editorContainer: uiComponents.outerContainer.element().dom() };\n    };\n    var Inline = { render: render$1 };\n\n    var register$5 = function (editor) {\n      var alignToolbarButtons = [\n        {\n          name: 'alignleft',\n          text: 'Align left',\n          cmd: 'JustifyLeft',\n          icon: 'align-left'\n        },\n        {\n          name: 'aligncenter',\n          text: 'Align center',\n          cmd: 'JustifyCenter',\n          icon: 'align-center'\n        },\n        {\n          name: 'alignright',\n          text: 'Align right',\n          cmd: 'JustifyRight',\n          icon: 'align-right'\n        },\n        {\n          name: 'alignjustify',\n          text: 'Justify',\n          cmd: 'JustifyFull',\n          icon: 'align-justify'\n        }\n      ];\n      global$e.each(alignToolbarButtons, function (item) {\n        editor.ui.registry.addToggleButton(item.name, {\n          tooltip: item.text,\n          onAction: function () {\n            return editor.execCommand(item.cmd);\n          },\n          icon: item.icon,\n          onSetup: onSetupFormatToggle(editor, item.name)\n        });\n      });\n      var alignNoneToolbarButton = {\n        name: 'alignnone',\n        text: 'No alignment',\n        cmd: 'JustifyNone',\n        icon: 'align-none'\n      };\n      editor.ui.registry.addButton(alignNoneToolbarButton.name, {\n        tooltip: alignNoneToolbarButton.text,\n        onAction: function () {\n          return editor.execCommand(alignNoneToolbarButton.cmd);\n        },\n        icon: alignNoneToolbarButton.icon\n      });\n    };\n    var AlignmentButtons = { register: register$5 };\n\n    var toggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n    var registerFormatButtons = function (editor) {\n      global$e.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          icon: 'bold'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          icon: 'italic'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          icon: 'underline'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          icon: 'strike-through'\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          icon: 'subscript'\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          icon: 'superscript'\n        }\n      ], function (btn, idx) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onSetup: onSetupFormatToggle(editor, btn.name),\n          onAction: toggleFormat(editor, btn.name)\n        });\n      });\n      for (var i = 1; i <= 6; i++) {\n        var name = 'h' + i;\n        editor.ui.registry.addToggleButton(name, {\n          text: name.toUpperCase(),\n          tooltip: 'Heading ' + i,\n          onSetup: onSetupFormatToggle(editor, name),\n          onAction: toggleFormat(editor, name)\n        });\n      }\n    };\n    var registerCommandButtons = function (editor) {\n      global$e.each([\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste'\n        },\n        {\n          name: 'help',\n          text: 'Help',\n          action: 'mceHelp',\n          icon: 'help'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all'\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document'\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting'\n        },\n        {\n          name: 'remove',\n          text: 'Remove',\n          action: 'Delete',\n          icon: 'remove'\n        }\n      ], function (btn) {\n        editor.ui.registry.addButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: function () {\n            return editor.execCommand(btn.action);\n          }\n        });\n      });\n    };\n    var registerCommandToggleButtons = function (editor) {\n      global$e.each([{\n          name: 'blockquote',\n          text: 'Blockquote',\n          action: 'mceBlockQuote',\n          icon: 'quote'\n        }], function (btn) {\n        editor.ui.registry.addToggleButton(btn.name, {\n          tooltip: btn.text,\n          icon: btn.icon,\n          onAction: function () {\n            return editor.execCommand(btn.action);\n          },\n          onSetup: onSetupFormatToggle(editor, btn.name)\n        });\n      });\n    };\n    var registerButtons = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n    var registerMenuItems = function (editor) {\n      global$e.each([\n        {\n          name: 'bold',\n          text: 'Bold',\n          action: 'Bold',\n          icon: 'bold',\n          shortcut: 'Meta+B'\n        },\n        {\n          name: 'italic',\n          text: 'Italic',\n          action: 'Italic',\n          icon: 'italic',\n          shortcut: 'Meta+I'\n        },\n        {\n          name: 'underline',\n          text: 'Underline',\n          action: 'Underline',\n          icon: 'underline',\n          shortcut: 'Meta+U'\n        },\n        {\n          name: 'strikethrough',\n          text: 'Strikethrough',\n          action: 'Strikethrough',\n          icon: 'strike-through',\n          shortcut: ''\n        },\n        {\n          name: 'subscript',\n          text: 'Subscript',\n          action: 'Subscript',\n          icon: 'subscript',\n          shortcut: ''\n        },\n        {\n          name: 'superscript',\n          text: 'Superscript',\n          action: 'Superscript',\n          icon: 'superscript',\n          shortcut: ''\n        },\n        {\n          name: 'removeformat',\n          text: 'Clear formatting',\n          action: 'RemoveFormat',\n          icon: 'remove-formatting',\n          shortcut: ''\n        },\n        {\n          name: 'newdocument',\n          text: 'New document',\n          action: 'mceNewDocument',\n          icon: 'new-document',\n          shortcut: ''\n        },\n        {\n          name: 'cut',\n          text: 'Cut',\n          action: 'Cut',\n          icon: 'cut',\n          shortcut: 'Meta+X'\n        },\n        {\n          name: 'copy',\n          text: 'Copy',\n          action: 'Copy',\n          icon: 'copy',\n          shortcut: 'Meta+C'\n        },\n        {\n          name: 'paste',\n          text: 'Paste',\n          action: 'Paste',\n          icon: 'paste',\n          shortcut: 'Meta+V'\n        },\n        {\n          name: 'selectall',\n          text: 'Select all',\n          action: 'SelectAll',\n          icon: 'select-all',\n          shortcut: 'Meta+A'\n        }\n      ], function (btn) {\n        editor.ui.registry.addMenuItem(btn.name, {\n          text: btn.text,\n          icon: btn.icon,\n          shortcut: btn.shortcut,\n          onAction: function () {\n            return editor.execCommand(btn.action);\n          }\n        });\n      });\n      editor.ui.registry.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'sourcecode',\n        onAction: toggleFormat(editor, 'code')\n      });\n    };\n    var register$6 = function (editor) {\n      registerButtons(editor);\n      registerMenuItems(editor);\n    };\n    var SimpleControls = { register: register$6 };\n\n    var toggleUndoRedoState = function (api, editor, type) {\n      var checkState = function () {\n        return editor.undoManager ? editor.undoManager[type]() : false;\n      };\n      var onUndoStateChange = function () {\n        api.setDisabled(editor.readonly || !checkState());\n      };\n      api.setDisabled(!checkState());\n      editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', onUndoStateChange);\n      return function () {\n        return editor.off('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', onUndoStateChange);\n      };\n    };\n    var registerMenuItems$1 = function (editor) {\n      editor.ui.registry.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onSetup: function (api) {\n          return toggleUndoRedoState(api, editor, 'hasUndo');\n        },\n        onAction: function () {\n          return editor.execCommand('undo');\n        }\n      });\n      editor.ui.registry.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onSetup: function (api) {\n          return toggleUndoRedoState(api, editor, 'hasRedo');\n        },\n        onAction: function () {\n          return editor.execCommand('redo');\n        }\n      });\n    };\n    var registerButtons$1 = function (editor) {\n      editor.ui.registry.addButton('undo', {\n        tooltip: 'Undo',\n        icon: 'undo',\n        onSetup: function (api) {\n          return toggleUndoRedoState(api, editor, 'hasUndo');\n        },\n        onAction: function () {\n          return editor.execCommand('undo');\n        }\n      });\n      editor.ui.registry.addButton('redo', {\n        tooltip: 'Redo',\n        icon: 'redo',\n        onSetup: function (api) {\n          return toggleUndoRedoState(api, editor, 'hasRedo');\n        },\n        onAction: function () {\n          return editor.execCommand('redo');\n        }\n      });\n    };\n    var register$7 = function (editor) {\n      registerMenuItems$1(editor);\n      registerButtons$1(editor);\n    };\n    var UndoRedo = { register: register$7 };\n\n    var toggleVisualAidState = function (api, editor) {\n      api.setActive(editor.hasVisual);\n      var onVisualAid = function (e) {\n        api.setActive(e.hasVisual);\n      };\n      editor.on('VisualAid', onVisualAid);\n      return function () {\n        return editor.off('VisualAid', onVisualAid);\n      };\n    };\n    var registerMenuItems$2 = function (editor) {\n      editor.ui.registry.addToggleMenuItem('visualaid', {\n        text: 'Visual aids',\n        onSetup: function (api) {\n          return toggleVisualAidState(api, editor);\n        },\n        onAction: function () {\n          editor.execCommand('mceToggleVisualAid');\n        }\n      });\n    };\n    var registerToolbarButton = function (editor) {\n      editor.ui.registry.addButton('visualaid', {\n        tooltip: 'Visual aids',\n        text: 'Visual aids',\n        onAction: function () {\n          return editor.execCommand('mceToggleVisualAid');\n        }\n      });\n    };\n    var register$8 = function (editor) {\n      registerToolbarButton(editor);\n      registerMenuItems$2(editor);\n    };\n    var VisualAid = { register: register$8 };\n\n    var toggleOutdentState = function (api, editor) {\n      api.setDisabled(!editor.queryCommandState('outdent'));\n      var onNodeChange = function () {\n        api.setDisabled(!editor.queryCommandState('outdent'));\n      };\n      editor.on('NodeChange', onNodeChange);\n      return function () {\n        return editor.off('NodeChange', onNodeChange);\n      };\n    };\n    var registerButtons$2 = function (editor) {\n      editor.ui.registry.addButton('outdent', {\n        tooltip: 'Decrease indent',\n        icon: 'outdent',\n        onSetup: function (api) {\n          return toggleOutdentState(api, editor);\n        },\n        onAction: function () {\n          return editor.execCommand('outdent');\n        }\n      });\n      editor.ui.registry.addButton('indent', {\n        tooltip: 'Increase indent',\n        icon: 'indent',\n        onAction: function () {\n          return editor.execCommand('indent');\n        }\n      });\n    };\n    var register$9 = function (editor) {\n      registerButtons$2(editor);\n    };\n    var IndentOutdent = { register: register$9 };\n\n    var register$a = function (editor, backstage) {\n      alignSelectMenu(editor, backstage);\n      fontSelectMenu(editor, backstage);\n      styleSelectMenu(editor, backstage);\n      formatSelectMenu(editor, backstage);\n      fontsizeSelectMenu(editor, backstage);\n    };\n    var ComplexControls = { register: register$a };\n\n    var setup$8 = function (editor, backstage) {\n      AlignmentButtons.register(editor);\n      SimpleControls.register(editor);\n      ComplexControls.register(editor, backstage);\n      UndoRedo.register(editor);\n      ColorSwatch.register(editor);\n      VisualAid.register(editor);\n      IndentOutdent.register(editor);\n    };\n    var FormatControls = { setup: setup$8 };\n\n    var nu$d = function (x, y) {\n      return {\n        anchor: 'makeshift',\n        x: x,\n        y: y\n      };\n    };\n    var transpose$1 = function (pos, dx, dy) {\n      return nu$d(pos.x + dx, pos.y + dy);\n    };\n    var isTouchEvent = function (e) {\n      return e.type === 'longpress' || e.type.indexOf('touch') === 0;\n    };\n    var fromPageXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu$d(touch.pageX, touch.pageY);\n      } else {\n        return nu$d(e.pageX, e.pageY);\n      }\n    };\n    var fromClientXY = function (e) {\n      if (isTouchEvent(e)) {\n        var touch = e.touches[0];\n        return nu$d(touch.clientX, touch.clientY);\n      } else {\n        return nu$d(e.clientX, e.clientY);\n      }\n    };\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$7.DOM.getPos(element);\n      return transpose$1(pos, containerPos.x, containerPos.y);\n    };\n    var getPointAnchor = function (editor, e) {\n      if (e.type === 'contextmenu') {\n        if (editor.inline) {\n          return fromPageXY(e);\n        } else {\n          return transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        }\n      } else {\n        return getSelectionAnchor(editor);\n      }\n    };\n    var getSelectionAnchor = function (editor) {\n      return {\n        anchor: 'selection',\n        root: Element.fromDom(editor.selection.getNode())\n      };\n    };\n    var getNodeAnchor$1 = function (editor) {\n      return {\n        anchor: 'node',\n        node: Option.some(Element.fromDom(editor.selection.getNode())),\n        root: Element.fromDom(editor.getBody())\n      };\n    };\n\n    var getAnchorSpec = function (editor, e, isTriggeredByKeyboardEvent) {\n      return isTriggeredByKeyboardEvent ? getNodeAnchor$1(editor) : getPointAnchor(editor, e);\n    };\n    var initAndShow = function (editor, e, buildMenu, backstage, contextmenu, isTriggeredByKeyboardEvent) {\n      var items = buildMenu();\n      var anchorSpec = getAnchorSpec(editor, e, isTriggeredByKeyboardEvent);\n      build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, false).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuAt(contextmenu, anchorSpec, {\n          menu: { markers: markers$1('normal') },\n          data: menuData\n        });\n      });\n    };\n\n    var layouts = {\n      onLtr: function () {\n        return [\n          south$1,\n          southeast$1,\n          southwest$1,\n          northeast$1,\n          northwest$1,\n          north$1,\n          north$3,\n          south$3,\n          northeast$3,\n          southeast$3,\n          northwest$3,\n          southwest$3\n        ];\n      },\n      onRtl: function () {\n        return [\n          south$1,\n          southwest$1,\n          southeast$1,\n          northwest$1,\n          northeast$1,\n          north$1,\n          north$3,\n          south$3,\n          northwest$3,\n          southwest$3,\n          northeast$3,\n          southeast$3\n        ];\n      }\n    };\n    var bubbleSize$1 = 12;\n    var bubbleAlignments$2 = {\n      valignCentre: [],\n      alignCentre: [],\n      alignLeft: ['tox-pop--align-left'],\n      alignRight: ['tox-pop--align-right'],\n      right: ['tox-pop--right'],\n      left: ['tox-pop--left'],\n      bottom: ['tox-pop--bottom'],\n      top: ['tox-pop--top']\n    };\n    var isTouchWithinSelection = function (editor, e) {\n      var selection = editor.selection;\n      if (selection.isCollapsed() || e.touches.length < 1) {\n        return false;\n      } else {\n        var touch_1 = e.touches[0];\n        var rng = selection.getRng();\n        var rngRectOpt = getFirstRect$1(editor.getWin(), Selection.domRange(rng));\n        return rngRectOpt.exists(function (rngRect) {\n          return rngRect.left() <= touch_1.clientX && rngRect.right() >= touch_1.clientX && rngRect.top() <= touch_1.clientY && rngRect.bottom() >= touch_1.clientY;\n        });\n      }\n    };\n    var getAnchorSpec$1 = function (editor, isTriggeredByKeyboardEvent) {\n      var anchorSpec = isTriggeredByKeyboardEvent ? getNodeAnchor$1(editor) : getSelectionAnchor(editor);\n      return __assign({\n        bubble: nu$8(0, bubbleSize$1, bubbleAlignments$2),\n        layouts: layouts,\n        overrides: {\n          maxWidthFunction: expandable$1(),\n          maxHeightFunction: expandable()\n        }\n      }, anchorSpec);\n    };\n    var setupiOSOverrides = function (editor) {\n      var originalSelection = editor.selection.getRng();\n      var selectionReset = function () {\n        global$2.setEditorTimeout(editor, function () {\n          editor.selection.setRng(originalSelection);\n        }, 10);\n        unbindEventListeners();\n      };\n      editor.once('touchend', selectionReset);\n      var preventMousedown = function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      };\n      editor.on('mousedown', preventMousedown, true);\n      var clearSelectionReset = function () {\n        return unbindEventListeners();\n      };\n      editor.once('longpresscancel', clearSelectionReset);\n      var unbindEventListeners = function () {\n        editor.off('touchend', selectionReset);\n        editor.off('longpresscancel', clearSelectionReset);\n        editor.off('mousedown', preventMousedown);\n      };\n    };\n    var show = function (editor, e, items, backstage, contextmenu, isTriggeredByKeyboardEvent) {\n      var toolbarOrMenubarEnabled = isMenubarEnabled(editor) || isToolbarEnabled(editor) || isMultipleToolbars(editor);\n      var anchorSpec = getAnchorSpec$1(editor, isTriggeredByKeyboardEvent);\n      build$2(items, ItemResponse$1.CLOSE_ON_EXECUTE, backstage, true).map(function (menuData) {\n        e.preventDefault();\n        InlineView.showMenuWithinBounds(contextmenu, anchorSpec, {\n          menu: { markers: markers$1('normal') },\n          data: menuData,\n          type: 'horizontal'\n        }, function () {\n          return getBounds$2(editor, toolbarOrMenubarEnabled);\n        });\n        editor.fire(hideContextToolbarEvent);\n      });\n    };\n    var initAndShow$1 = function (editor, e, buildMenu, backstage, contextmenu, isTriggeredByKeyboardEvent) {\n      var detection = detect$3();\n      var isiOS = detection.os.isiOS();\n      var isOSX = detection.os.isOSX();\n      var isAndroid = detection.os.isAndroid();\n      var open = function () {\n        var items = buildMenu();\n        show(editor, e, items, backstage, contextmenu, isTriggeredByKeyboardEvent);\n      };\n      if ((isOSX || isiOS) && !isTriggeredByKeyboardEvent) {\n        var openiOS_1 = function () {\n          setupiOSOverrides(editor);\n          open();\n        };\n        if (isTouchWithinSelection(editor, e)) {\n          openiOS_1();\n        } else {\n          editor.once('selectionchange', openiOS_1);\n          editor.once('touchend', function () {\n            return editor.off('selectionchange', openiOS_1);\n          });\n        }\n      } else {\n        if (isAndroid && !isTriggeredByKeyboardEvent) {\n          editor.selection.setCursorLocation(e.target, 0);\n        }\n        open();\n      }\n    };\n\n    var patchPipeConfig = function (config) {\n      return typeof config === 'string' ? config.split(/[ ,]/) : config;\n    };\n    var shouldNeverUseNative = function (editor) {\n      return editor.settings.contextmenu_never_use_native || false;\n    };\n    var getMenuItems = function (editor, name, defaultItems) {\n      var contextMenus = editor.ui.registry.getAll().contextMenus;\n      return get(editor.settings, name).map(patchPipeConfig).getOrThunk(function () {\n        return filter(patchPipeConfig(defaultItems), function (item) {\n          return has(contextMenus, item);\n        });\n      });\n    };\n    var isContextMenuDisabled = function (editor) {\n      return editor.getParam('contextmenu') === false;\n    };\n    var getContextMenu = function (editor) {\n      return getMenuItems(editor, 'contextmenu', 'link linkchecker image imagetools table spellchecker configurepermanentpen');\n    };\n    var Settings$1 = {\n      shouldNeverUseNative: shouldNeverUseNative,\n      getContextMenu: getContextMenu,\n      isContextMenuDisabled: isContextMenuDisabled\n    };\n\n    var isSeparator$1 = function (item) {\n      return isString(item) ? item === '|' : item.type === 'separator';\n    };\n    var separator$3 = { type: 'separator' };\n    var makeContextItem = function (item) {\n      if (isString(item)) {\n        return item;\n      } else {\n        switch (item.type) {\n        case 'separator':\n          return separator$3;\n        case 'submenu':\n          return {\n            type: 'nestedmenuitem',\n            text: item.text,\n            icon: item.icon,\n            getSubmenuItems: function () {\n              var items = item.getSubmenuItems();\n              if (isString(items)) {\n                return items;\n              } else {\n                return map(items, makeContextItem);\n              }\n            }\n          };\n        default:\n          return {\n            type: 'menuitem',\n            text: item.text,\n            icon: item.icon,\n            onAction: noarg(item.onAction)\n          };\n        }\n      }\n    };\n    var addContextMenuGroup = function (xs, groupItems) {\n      if (groupItems.length === 0) {\n        return xs;\n      }\n      var lastMenuItem = last(xs).filter(function (item) {\n        return !isSeparator$1(item);\n      });\n      var before = lastMenuItem.fold(function () {\n        return [];\n      }, function (_) {\n        return [separator$3];\n      });\n      return xs.concat(before).concat(groupItems).concat([separator$3]);\n    };\n    var generateContextMenu = function (contextMenus, menuConfig, selectedElement) {\n      var sections = foldl(menuConfig, function (acc, name) {\n        if (has(contextMenus, name)) {\n          var items = contextMenus[name].update(selectedElement);\n          if (isString(items)) {\n            return addContextMenuGroup(acc, items.split(' '));\n          } else if (items.length > 0) {\n            var allItems = map(items, makeContextItem);\n            return addContextMenuGroup(acc, allItems);\n          } else {\n            return acc;\n          }\n        } else {\n          return acc.concat([name]);\n        }\n      }, []);\n      if (sections.length > 0 && isSeparator$1(sections[sections.length - 1])) {\n        sections.pop();\n      }\n      return sections;\n    };\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !Settings$1.shouldNeverUseNative(editor);\n    };\n    var setup$9 = function (editor, lazySink, backstage) {\n      var detection = detect$3();\n      var isTouch = detection.deviceType.isTouch;\n      var contextmenu = build$1(InlineView.sketch({\n        dom: { tag: 'div' },\n        lazySink: lazySink,\n        onEscape: function () {\n          return editor.focus();\n        },\n        onShow: function () {\n          return backstage.setContextMenuState(true);\n        },\n        onHide: function () {\n          return backstage.setContextMenuState(false);\n        },\n        fireDismissalEventInstead: {},\n        inlineBehaviours: derive$1([config('dismissContextMenu', [run(dismissRequested(), function (comp, se) {\n              Sandboxing.close(comp);\n              editor.focus();\n            })])])\n      }));\n      var hideContextMenu = function (_e) {\n        return InlineView.hide(contextmenu);\n      };\n      var showContextMenu = function (e) {\n        var isLongpress = e.type === 'longpress';\n        if (Settings$1.shouldNeverUseNative(editor)) {\n          e.preventDefault();\n        }\n        if (isNativeOverrideKeyEvent(editor, e) || Settings$1.isContextMenuDisabled(editor)) {\n          return;\n        }\n        var isTriggeredByKeyboardEvent = !isLongpress && (e.button !== 2 || e.target === editor.getBody());\n        var buildMenu = function () {\n          var selectedElement = isTriggeredByKeyboardEvent ? editor.selection.getStart(true) : e.target;\n          var registry = editor.ui.registry.getAll();\n          var menuConfig = Settings$1.getContextMenu(editor);\n          return generateContextMenu(registry.contextMenus, menuConfig, selectedElement);\n        };\n        var initAndShow$2 = isTouch() ? initAndShow$1 : initAndShow;\n        initAndShow$2(editor, e, buildMenu, backstage, contextmenu, isTriggeredByKeyboardEvent);\n      };\n      editor.on('init', function () {\n        var hideEvents = 'ResizeEditor ScrollContent ScrollWindow longpresscancel' + (isTouch() ? '' : 'ResizeWindow');\n        editor.on(hideEvents, hideContextMenu);\n        editor.on(isTouch() ? 'longpress' : 'longpress contextmenu', showContextMenu);\n      });\n    };\n\n    var parseToInt = function (val) {\n      var re = /^[0-9\\.]+(|px)$/i;\n      if (re.test('' + val)) {\n        return Option.some(parseInt(val, 10));\n      }\n      return Option.none();\n    };\n    var numToPx = function (val) {\n      return isNumber(val) ? val + 'px' : val;\n    };\n    var Utils = {\n      parseToInt: parseToInt,\n      numToPx: numToPx\n    };\n\n    var initialAttribute = 'data-initial-z-index';\n    var resetZIndex = function (blocker) {\n      parent(blocker.element()).filter(isElement).each(function (root) {\n        var initZIndex = get$2(root, initialAttribute);\n        if (has$1(root, initialAttribute)) {\n          set$2(root, 'z-index', initZIndex);\n        } else {\n          remove$6(root, 'z-index');\n        }\n        remove$1(root, initialAttribute);\n      });\n    };\n    var changeZIndex = function (blocker) {\n      parent(blocker.element()).filter(isElement).each(function (root) {\n        getRaw(root, 'z-index').each(function (zindex) {\n          set$1(root, initialAttribute, zindex);\n        });\n        set$2(root, 'z-index', get$4(blocker.element(), 'z-index'));\n      });\n    };\n    var instigate = function (anyComponent, blocker) {\n      anyComponent.getSystem().addToGui(blocker);\n      changeZIndex(blocker);\n    };\n    var discard = function (blocker) {\n      resetZIndex(blocker);\n      blocker.getSystem().removeFromGui(blocker);\n    };\n\n    var get$d = function (component, snapsInfo) {\n      var element = component.element();\n      var x = parseInt(get$2(element, snapsInfo.leftAttr), 10);\n      var y = parseInt(get$2(element, snapsInfo.topAttr), 10);\n      return isNaN(x) || isNaN(y) ? Option.none() : Option.some(Position(x, y));\n    };\n    var set$8 = function (component, snapsInfo, pt) {\n      var element = component.element();\n      set$1(element, snapsInfo.leftAttr, pt.left() + 'px');\n      set$1(element, snapsInfo.topAttr, pt.top() + 'px');\n    };\n    var clear = function (component, snapsInfo) {\n      var element = component.element();\n      remove$1(element, snapsInfo.leftAttr);\n      remove$1(element, snapsInfo.topAttr);\n    };\n\n    var getCoords = function (component, snapInfo, coord, delta) {\n      return get$d(component, snapInfo).fold(function () {\n        return coord;\n      }, function (fixed) {\n        return fixed$1(fixed.left() + delta.left(), fixed.top() + delta.top());\n      });\n    };\n    var moveOrSnap = function (component, snapInfo, coord, delta, scroll, origin) {\n      var newCoord = getCoords(component, snapInfo, coord, delta);\n      var snap = snapInfo.mustSnap ? findClosestSnap(component, snapInfo, newCoord, scroll, origin) : findSnap(component, snapInfo, newCoord, scroll, origin);\n      var fixedCoord = asFixed(newCoord, scroll, origin);\n      set$8(component, snapInfo, fixedCoord);\n      return snap.fold(function () {\n        return {\n          coord: fixed$1(fixedCoord.left(), fixedCoord.top()),\n          extra: Option.none()\n        };\n      }, function (spanned) {\n        return {\n          coord: spanned.output(),\n          extra: spanned.extra()\n        };\n      });\n    };\n    var stopDrag = function (component, snapInfo) {\n      clear(component, snapInfo);\n    };\n    var findMatchingSnap = function (snaps, newCoord, scroll, origin) {\n      return findMap(snaps, function (snap) {\n        var sensor = snap.sensor();\n        var inRange = withinRange(newCoord, sensor, snap.range().left(), snap.range().top(), scroll, origin);\n        return inRange ? Option.some({\n          output: constant(absorb(snap.output(), newCoord, scroll, origin)),\n          extra: snap.extra\n        }) : Option.none();\n      });\n    };\n    var findClosestSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      var matchSnap = findMatchingSnap(snaps, newCoord, scroll, origin);\n      return matchSnap.orThunk(function () {\n        var bestSnap = foldl(snaps, function (acc, snap) {\n          var sensor = snap.sensor();\n          var deltas = getDeltas(newCoord, sensor, snap.range().left(), snap.range().top(), scroll, origin);\n          return acc.deltas.fold(function () {\n            return {\n              deltas: Option.some(deltas),\n              snap: Option.some(snap)\n            };\n          }, function (bestDeltas) {\n            var currAvg = (deltas.left() + deltas.top()) / 2;\n            var bestAvg = (bestDeltas.left() + bestDeltas.top()) / 2;\n            if (currAvg <= bestAvg) {\n              return {\n                deltas: Option.some(deltas),\n                snap: Option.some(snap)\n              };\n            } else {\n              return acc;\n            }\n          });\n        }, {\n          deltas: Option.none(),\n          snap: Option.none()\n        });\n        return bestSnap.snap.map(function (snap) {\n          return {\n            output: constant(absorb(snap.output(), newCoord, scroll, origin)),\n            extra: snap.extra\n          };\n        });\n      });\n    };\n    var findSnap = function (component, snapInfo, newCoord, scroll, origin) {\n      var snaps = snapInfo.getSnapPoints(component);\n      return findMatchingSnap(snaps, newCoord, scroll, origin);\n    };\n    var snapTo = function (snap, scroll, origin) {\n      return {\n        coord: absorb(snap.output(), snap.output(), scroll, origin),\n        extra: snap.extra()\n      };\n    };\n\n    var getCurrentCoord = function (target) {\n      return getRaw(target, 'left').bind(function (left) {\n        return getRaw(target, 'top').bind(function (top) {\n          return getRaw(target, 'position').map(function (position) {\n            var nu = position === 'fixed' ? fixed$1 : offset;\n            return nu(parseInt(left, 10), parseInt(top, 10));\n          });\n        });\n      }).getOrThunk(function () {\n        var location = absolute(target);\n        return absolute$3(location.left(), location.top());\n      });\n    };\n    var calcStartData = function (dragConfig, comp) {\n      return {\n        bounds: dragConfig.getBounds(),\n        height: getOuter$1(comp.element()),\n        width: getOuter$2(comp.element()),\n        comp: comp\n      };\n    };\n\n    var clampCoords = function (component, coords, scroll, origin, startData) {\n      var bounds = startData.bounds;\n      var absoluteCoord = asAbsolute(coords, scroll, origin);\n      var newX = cap(absoluteCoord.left(), bounds.x(), bounds.x() + bounds.width() - startData.width);\n      var newY = cap(absoluteCoord.top(), bounds.y(), bounds.y() + bounds.height() - startData.height);\n      var newCoords = absolute$3(newX, newY);\n      return coords.fold(function () {\n        var offset$1 = asOffset(newCoords, scroll, origin);\n        return offset(offset$1.left(), offset$1.top());\n      }, function () {\n        return newCoords;\n      }, function () {\n        var fixed = asFixed(newCoords, scroll, origin);\n        return fixed$1(fixed.left(), fixed.top());\n      });\n    };\n    var calcNewCoord = function (component, optSnaps, currentCoord, scroll, origin, delta, startData) {\n      var newCoord = optSnaps.fold(function () {\n        var translated = translate$2(currentCoord, delta.left(), delta.top());\n        var fixedCoord = asFixed(translated, scroll, origin);\n        return fixed$1(fixedCoord.left(), fixedCoord.top());\n      }, function (snapInfo) {\n        var snapping = moveOrSnap(component, snapInfo, currentCoord, delta, scroll, origin);\n        snapping.extra.each(function (extra) {\n          snapInfo.onSensor(component, extra);\n        });\n        return snapping.coord;\n      });\n      return clampCoords(component, newCoord, scroll, origin, startData);\n    };\n    var dragBy = function (component, dragConfig, startData, delta) {\n      var target = dragConfig.getTarget(component.element());\n      if (dragConfig.repositionTarget) {\n        var doc = owner(component.element());\n        var scroll = get$8(doc);\n        var origin = getOrigin(target);\n        var currentCoord = getCurrentCoord(target);\n        var newCoord = calcNewCoord(component, dragConfig.snaps, currentCoord, scroll, origin, delta, startData);\n        var styles = toStyles(newCoord, scroll, origin);\n        setAll$1(target, styles);\n      }\n      dragConfig.onDrag(component, target, delta);\n    };\n\n    var SnapSchema = optionObjOf('snaps', [\n      strict$1('getSnapPoints'),\n      onHandler('onSensor'),\n      strict$1('leftAttr'),\n      strict$1('topAttr'),\n      defaulted$1('lazyViewport', win),\n      defaulted$1('mustSnap', false)\n    ]);\n\n    var init$c = function (dragApi) {\n      return derive([\n        run(mousedown(), dragApi.forceDrop),\n        run(mouseup(), dragApi.drop),\n        run(mousemove(), function (comp, simulatedEvent) {\n          dragApi.move(simulatedEvent.event());\n        }),\n        run(mouseout(), dragApi.delayDrop)\n      ]);\n    };\n\n    var getData$1 = function (event) {\n      return Option.from(Position(event.x(), event.y()));\n    };\n    var getDelta$1 = function (old, nu) {\n      return Position(nu.left() - old.left(), nu.top() - old.top());\n    };\n\n    var MouseData = /*#__PURE__*/Object.freeze({\n        getData: getData$1,\n        getDelta: getDelta$1\n    });\n\n    var handlers = function (dragConfig, dragState) {\n      var updateStartState = function (comp) {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive([\n        run(windowScroll(), updateStartState),\n        run(mousedown(), function (component, simulatedEvent) {\n          var raw = simulatedEvent.event().raw();\n          if (raw.button !== 0) {\n            return;\n          }\n          simulatedEvent.stop();\n          var dragApi = {\n            drop: function () {\n              stop();\n            },\n            delayDrop: function () {\n              delayDrop.schedule();\n            },\n            forceDrop: function () {\n              stop();\n            },\n            move: function (event) {\n              delayDrop.cancel();\n              var delta = dragState.update(MouseData, event);\n              var dragStartData = dragState.getStartData().getOrThunk(function () {\n                return calcStartData(dragConfig, component);\n              });\n              delta.each(function (dlt) {\n                dragBy(component, dragConfig, dragStartData, dlt);\n              });\n            }\n          };\n          var blocker = component.getSystem().build(Container.sketch({\n            dom: {\n              styles: {\n                'left': '0px',\n                'top': '0px',\n                'width': '100%',\n                'height': '100%',\n                'position': 'fixed',\n                'z-index': '1000000000000000'\n              },\n              classes: [dragConfig.blockerClass]\n            },\n            events: init$c(dragApi)\n          }));\n          var stop = function () {\n            discard(blocker);\n            dragConfig.snaps.each(function (snapInfo) {\n              stopDrag(component, snapInfo);\n            });\n            var target = dragConfig.getTarget(component.element());\n            dragState.reset();\n            dragConfig.onDrop(component, target);\n          };\n          var delayDrop = DelayedFunction(stop, 200);\n          var start = function () {\n            updateStartState(component);\n            instigate(component, blocker);\n          };\n          start();\n        })\n      ]);\n    };\n    var schema$s = [\n      defaulted$1('useFixed', never),\n      strict$1('blockerClass'),\n      defaulted$1('getTarget', identity),\n      defaulted$1('onDrag', noop),\n      defaulted$1('repositionTarget', true),\n      onHandler('onDrop'),\n      defaultedFunction('getBounds', win),\n      SnapSchema,\n      output('dragger', { handlers: handlers })\n    ];\n\n    var getDataFrom = function (touches) {\n      var touch = touches[0];\n      return Option.some(Position(touch.clientX, touch.clientY));\n    };\n    var getData$2 = function (event) {\n      var raw = event.raw();\n      var touches = raw.touches;\n      return touches.length === 1 ? getDataFrom(touches) : Option.none();\n    };\n    var getDelta$2 = function (old, nu) {\n      return Position(nu.left() - old.left(), nu.top() - old.top());\n    };\n\n    var TouchData = /*#__PURE__*/Object.freeze({\n        getData: getData$2,\n        getDelta: getDelta$2\n    });\n\n    var handlers$1 = function (dragConfig, dragState) {\n      var updateStartState = function (comp) {\n        dragState.setStartData(calcStartData(dragConfig, comp));\n      };\n      return derive([\n        run(windowScroll(), updateStartState),\n        run(touchstart(), function (component, simulatedEvent) {\n          updateStartState(component);\n          simulatedEvent.stop();\n        }),\n        run(documentTouchmove(), function (component, simulatedEvent) {\n          dragState.getStartData().each(function (startData) {\n            if (eq(startData.comp.element(), component.element())) {\n              simulatedEvent.stop();\n              var delta = dragState.update(TouchData, simulatedEvent.event());\n              var dragStartData_1 = dragState.getStartData().getOrThunk(function () {\n                return calcStartData(dragConfig, component);\n              });\n              delta.each(function (dlt) {\n                dragBy(component, dragConfig, dragStartData_1, dlt);\n              });\n            }\n          });\n        }),\n        run(documentTouchend(), function (component, simulatedEvent) {\n          dragState.getStartData().each(function (startData) {\n            if (eq(startData.comp.element(), component.element())) {\n              dragConfig.snaps.each(function (snapInfo) {\n                stopDrag(component, snapInfo);\n              });\n              var target = dragConfig.getTarget(component.element());\n              dragState.reset();\n              dragConfig.onDrop(component, target);\n            }\n          });\n        })\n      ]);\n    };\n    var schema$t = [\n      defaulted$1('useFixed', never),\n      defaulted$1('getTarget', identity),\n      defaulted$1('onDrag', noop),\n      defaulted$1('repositionTarget', true),\n      defaulted$1('onDrop', noop),\n      defaultedFunction('getBounds', win),\n      SnapSchema,\n      output('dragger', { handlers: handlers$1 })\n    ];\n\n    var mouse = schema$s;\n    var touch = schema$t;\n\n    var DraggingBranches = /*#__PURE__*/Object.freeze({\n        mouse: mouse,\n        touch: touch\n    });\n\n    var init$d = function () {\n      var previous = Option.none();\n      var startData = Option.none();\n      var reset = function () {\n        previous = Option.none();\n        startData = Option.none();\n      };\n      var calculateDelta = function (mode, nu) {\n        var result = previous.map(function (old) {\n          return mode.getDelta(old, nu);\n        });\n        previous = Option.some(nu);\n        return result;\n      };\n      var update = function (mode, dragEvent) {\n        return mode.getData(dragEvent).bind(function (nuData) {\n          return calculateDelta(mode, nuData);\n        });\n      };\n      var setStartData = function (data) {\n        startData = Option.some(data);\n      };\n      var getStartData = function () {\n        return startData;\n      };\n      var readState = constant({});\n      return nu$5({\n        readState: readState,\n        reset: reset,\n        update: update,\n        getStartData: getStartData,\n        setStartData: setStartData\n      });\n    };\n\n    var DragState = /*#__PURE__*/Object.freeze({\n        init: init$d\n    });\n\n    var snapTo$1 = function (component, dragConfig, _state, snap) {\n      var target = dragConfig.getTarget(component.element());\n      if (dragConfig.repositionTarget) {\n        var doc = owner(component.element());\n        var scroll = get$8(doc);\n        var origin = getOrigin(target);\n        var snapPin = snapTo(snap, scroll, origin);\n        var styles = toStyles(snapPin.coord, scroll, origin);\n        setAll$1(target, styles);\n      }\n    };\n\n    var DraggingApis = /*#__PURE__*/Object.freeze({\n        snapTo: snapTo$1\n    });\n\n    var Dragging = createModes$1({\n      branchKey: 'mode',\n      branches: DraggingBranches,\n      name: 'dragging',\n      active: {\n        events: function (dragConfig, dragState) {\n          var dragger = dragConfig.dragger;\n          return dragger.handlers(dragConfig, dragState);\n        }\n      },\n      extra: {\n        snap: MixedBag([\n          'sensor',\n          'range',\n          'output'\n        ], ['extra'])\n      },\n      state: DragState,\n      apis: DraggingApis\n    });\n\n    var ResizeTypes;\n    (function (ResizeTypes) {\n      ResizeTypes[ResizeTypes['None'] = 0] = 'None';\n      ResizeTypes[ResizeTypes['Both'] = 1] = 'Both';\n      ResizeTypes[ResizeTypes['Vertical'] = 2] = 'Vertical';\n    }(ResizeTypes || (ResizeTypes = {})));\n    var calcCappedSize = function (originalSize, delta, minSize, maxSize) {\n      var newSize = originalSize + delta;\n      var minOverride = minSize.filter(function (min) {\n        return newSize < min;\n      });\n      var maxOverride = maxSize.filter(function (max) {\n        return newSize > max;\n      });\n      return minOverride.or(maxOverride).getOr(newSize);\n    };\n    var getDimensions = function (editor, deltas, resizeType, originalHeight, originalWidth) {\n      var dimensions = {};\n      dimensions.height = calcCappedSize(originalHeight, deltas.top(), getMinHeightSetting(editor), getMaxHeightSetting(editor));\n      if (resizeType === ResizeTypes.Both) {\n        dimensions.width = calcCappedSize(originalWidth, deltas.left(), getMinWidthSetting(editor), getMaxWidthSetting(editor));\n      }\n      return dimensions;\n    };\n    var resize$3 = function (editor, deltas, resizeType) {\n      var container = Element.fromDom(editor.getContainer());\n      var dimensions = getDimensions(editor, deltas, resizeType, get$6(container), get$7(container));\n      each$1(dimensions, function (val, dim) {\n        return set$2(container, dim, Utils.numToPx(val));\n      });\n      Events.fireResizeEditor(editor);\n    };\n\n    var isHidden$1 = function (elm) {\n      if (elm.nodeType === 1) {\n        if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n          return true;\n        }\n        if (elm.getAttribute('data-mce-type') === 'bookmark') {\n          return true;\n        }\n      }\n      return false;\n    };\n    var renderElementPath = function (editor, settings) {\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      var getDataPath = function (data) {\n        var parts = data || [];\n        var newPathElements = map(parts, function (part, index) {\n          return Button.sketch({\n            dom: {\n              tag: 'div',\n              classes: ['tox-statusbar__path-item'],\n              attributes: {\n                'role': 'button',\n                'data-index': index,\n                'tab-index': -1,\n                'aria-level': index + 1\n              },\n              innerHtml: part.name\n            },\n            action: function (btn) {\n              editor.focus();\n              editor.selection.select(part.element);\n              editor.nodeChanged();\n            }\n          });\n        });\n        var divider = {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__path-divider'],\n            attributes: { 'aria-hidden': true },\n            innerHtml: ' ' + settings.delimiter + ' '\n          }\n        };\n        return foldl(newPathElements.slice(1), function (acc, element) {\n          var newAcc = acc;\n          newAcc.push(divider);\n          newAcc.push(element);\n          return newAcc;\n        }, [newPathElements[0]]);\n      };\n      var updatePath = function (parents) {\n        var newPath = [];\n        var i = parents.length;\n        while (i-- > 0) {\n          var parent = parents[i];\n          if (parent.nodeType === 1 && !isHidden$1(parent)) {\n            var args = editor.fire('ResolveName', {\n              name: parent.nodeName.toLowerCase(),\n              target: parent\n            });\n            if (!args.isDefaultPrevented()) {\n              newPath.push({\n                name: args.name,\n                element: parent\n              });\n            }\n            if (args.isPropagationStopped()) {\n              break;\n            }\n          }\n        }\n        return newPath;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar__path'],\n          attributes: { role: 'navigation' }\n        },\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'flow',\n            selector: 'div[role=button]'\n          }),\n          Tabstopping.config({}),\n          Replacing.config({}),\n          config('elementPathEvents', [runOnAttached(function (comp, e) {\n              editor.shortcuts.add('alt+F11', 'focus statusbar elementpath', function () {\n                return Keying.focusIn(comp);\n              });\n              editor.on('NodeChange', function (e) {\n                var newPath = updatePath(e.parents);\n                if (newPath.length > 0) {\n                  Replacing.set(comp, getDataPath(newPath));\n                }\n              });\n            })])\n        ]),\n        components: []\n      };\n    };\n    var ElementPath = { renderElementPath: renderElementPath };\n\n    var renderWordCount = function (editor, providersBackstage) {\n      var _a;\n      var replaceCountText = function (comp, count, mode) {\n        return Replacing.set(comp, [text(providersBackstage.translate([\n            '{0} ' + mode,\n            count[mode]\n          ]))]);\n      };\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: ['tox-statusbar__wordcount']\n        },\n        components: [],\n        buttonBehaviours: derive$1([\n          Tabstopping.config({}),\n          Replacing.config({}),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: {\n                mode: 'words',\n                count: {\n                  words: 0,\n                  characters: 0\n                }\n              }\n            }\n          }),\n          config('wordcount-events', [\n            run(tapOrClick(), function (comp) {\n              var currentVal = Representing.getValue(comp);\n              var newMode = currentVal.mode === 'words' ? 'characters' : 'words';\n              Representing.setValue(comp, {\n                mode: newMode,\n                count: currentVal.count\n              });\n              replaceCountText(comp, currentVal.count, newMode);\n            }),\n            runOnAttached(function (comp) {\n              editor.on('wordCountUpdate', function (e) {\n                var mode = Representing.getValue(comp).mode;\n                Representing.setValue(comp, {\n                  mode: mode,\n                  count: e.wordCount\n                });\n                replaceCountText(comp, e.wordCount, mode);\n              });\n            })\n          ])\n        ]),\n        eventOrder: (_a = {}, _a[tapOrClick()] = [\n          'wordcount-events',\n          'alloy.base.behaviour'\n        ], _a)\n      });\n    };\n\n    var renderStatusbar = function (editor, providersBackstage) {\n      var renderResizeHandlerIcon = function (resizeType) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-statusbar__resize-handle'],\n            attributes: { title: providersBackstage.translate('Resize') },\n            innerHtml: get$c('resize-handle', providersBackstage.icons)\n          },\n          behaviours: derive$1([Dragging.config({\n              mode: 'mouse',\n              repositionTarget: false,\n              onDrag: function (comp, target, delta) {\n                resize$3(editor, delta, resizeType);\n              },\n              blockerClass: 'tox-blocker'\n            })])\n        };\n      };\n      var renderBranding = function () {\n        var label = global$5.translate([\n          'Powered by {0}',\n          'Tiny'\n        ]);\n        var linkHtml = '<a href=\"https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5\" rel=\"noopener\" target=\"_blank\" tabindex=\"-1\" aria-label=\"' + label + '\">' + label + '</a>';\n        return {\n          dom: {\n            tag: 'span',\n            classes: ['tox-statusbar__branding'],\n            innerHtml: linkHtml\n          }\n        };\n      };\n      var getResizeType = function (editor) {\n        var fallback = !contains$1(editor.settings.plugins, 'autoresize');\n        var resize = editor.getParam('resize', fallback);\n        if (resize === false) {\n          return ResizeTypes.None;\n        } else if (resize === 'both') {\n          return ResizeTypes.Both;\n        } else {\n          return ResizeTypes.Vertical;\n        }\n      };\n      var getTextComponents = function () {\n        var components = [];\n        if (editor.getParam('elementpath', true, 'boolean')) {\n          components.push(ElementPath.renderElementPath(editor, {}));\n        }\n        if (contains$1(editor.settings.plugins, 'wordcount')) {\n          components.push(renderWordCount(editor, providersBackstage));\n        }\n        if (editor.getParam('branding', true, 'boolean')) {\n          components.push(renderBranding());\n        }\n        if (components.length > 0) {\n          return [{\n              dom: {\n                tag: 'div',\n                classes: ['tox-statusbar__text-container']\n              },\n              components: components\n            }];\n        }\n        return [];\n      };\n      var getComponents = function () {\n        var components = getTextComponents();\n        var resizeType = getResizeType(editor);\n        if (resizeType !== ResizeTypes.None) {\n          components.push(renderResizeHandlerIcon(resizeType));\n        }\n        return components;\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-statusbar']\n        },\n        components: getComponents()\n      };\n    };\n\n    var platform$2 = detect$3();\n    var snapWidth = 40;\n    var snapOffset = snapWidth / 2;\n    var setup$a = function (editor, sink) {\n      var tlTds = Cell([]);\n      var brTds = Cell([]);\n      var getTopLeftSnap = function (td) {\n        var box = absolute$1(td);\n        return memTopLeft.getOpt(sink).fold(function () {\n          return Dragging.snap({\n            sensor: absolute$3(box.x() - snapOffset, box.y() - snapOffset),\n            range: Position(box.width(), box.height()),\n            output: absolute$3(Option.some(box.x()), Option.some(box.y())),\n            extra: { td: td }\n          });\n        }, function (selectorHandle) {\n          var sensorLeft = box.x() - snapOffset;\n          var sensorTop = box.y() - snapOffset;\n          var sensorWidth = snapWidth;\n          var sensorHeight = snapWidth;\n          var rect = selectorHandle.element().dom().getBoundingClientRect();\n          return Dragging.snap({\n            sensor: absolute$3(sensorLeft, sensorTop),\n            range: Position(sensorWidth, sensorHeight),\n            output: absolute$3(Option.some(box.x() - rect.width / 2), Option.some(box.y() - rect.height / 2)),\n            extra: { td: td }\n          });\n        });\n      };\n      var getTopLeftSnaps = function () {\n        return map(tlTds.get(), function (td) {\n          return getTopLeftSnap(td);\n        });\n      };\n      var getBottomRightSnap = function (td) {\n        var box = absolute$1(td);\n        return memBottomRight.getOpt(sink).fold(function () {\n          return Dragging.snap({\n            sensor: absolute$3(box.x() - snapOffset, box.y() - snapOffset),\n            range: Position(box.width(), box.height()),\n            output: absolute$3(Option.some(box.right()), Option.some(box.bottom())),\n            extra: { td: td }\n          });\n        }, function (selectorHandle) {\n          var sensorLeft = box.right() - snapOffset;\n          var sensorTop = box.bottom() - snapOffset;\n          var sensorWidth = snapWidth;\n          var sensorHeight = snapWidth;\n          var rect = selectorHandle.element().dom().getBoundingClientRect();\n          return Dragging.snap({\n            sensor: absolute$3(sensorLeft, sensorTop),\n            range: Position(sensorWidth, sensorHeight),\n            output: absolute$3(Option.some(box.right() - rect.width / 2), Option.some(box.bottom() - rect.height / 2)),\n            extra: { td: td }\n          });\n        });\n      };\n      var getBottomRightSnaps = function () {\n        return map(brTds.get(), function (td) {\n          return getBottomRightSnap(td);\n        });\n      };\n      var topLeftSnaps = {\n        getSnapPoints: getTopLeftSnaps,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          startCell.set(extra.td);\n          editor.fire('tableselectorchange', {\n            start: startCell.get(),\n            finish: finishCell.get()\n          });\n        },\n        mustSnap: true\n      };\n      var bottomRightSnaps = {\n        getSnapPoints: getBottomRightSnaps,\n        leftAttr: 'data-drag-left',\n        topAttr: 'data-drag-top',\n        onSensor: function (component, extra) {\n          finishCell.set(extra.td);\n          editor.fire('tableselectorchange', {\n            start: startCell.get(),\n            finish: finishCell.get()\n          });\n        },\n        mustSnap: true\n      };\n      var memTopLeft = record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config(platform$2.deviceType.isTouch() ? {\n            mode: 'touch',\n            snaps: topLeftSnaps\n          } : {\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            snaps: topLeftSnaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n      var memBottomRight = record(Button.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-selector']\n        },\n        buttonBehaviours: derive$1([\n          Dragging.config(platform$2.deviceType.isTouch() ? {\n            mode: 'touch',\n            snaps: bottomRightSnaps\n          } : {\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            snaps: bottomRightSnaps\n          }),\n          Unselecting.config({})\n        ]),\n        eventOrder: {\n          mousedown: [\n            'dragging',\n            'alloy.base.behaviour'\n          ]\n        }\n      }));\n      var topLeft = build$1(memTopLeft.asSpec());\n      var bottomRight = build$1(memBottomRight.asSpec());\n      var isVisible = Cell(false);\n      var startCell = Cell(null);\n      var finishCell = Cell(null);\n      var showOrHideHandle = function (selector, cell, isAbove, isBelow) {\n        var cellRect = cell.dom().getBoundingClientRect();\n        remove$6(selector.element(), 'display');\n        var viewportHeight = defaultView(Element.fromDom(editor.getBody())).dom().innerHeight;\n        var aboveViewport = isAbove(cellRect);\n        var belowViewport = isBelow(cellRect, viewportHeight);\n        if (aboveViewport || belowViewport) {\n          set$2(selector.element(), 'display', 'none');\n        }\n      };\n      var snapLastTopLeft = function () {\n        var cell = startCell.get();\n        snapTopLeft(cell);\n      };\n      var snapTopLeft = function (cell) {\n        var snap = getTopLeftSnap(cell);\n        Dragging.snapTo(topLeft, snap);\n        var isAbove = function (rect) {\n          return rect.top < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect.top > viewportHeight;\n        };\n        showOrHideHandle(topLeft, cell, isAbove, isBelow);\n      };\n      var snapLastBottomRight = function () {\n        var cell = finishCell.get();\n        snapBottomRight(cell);\n      };\n      var snapBottomRight = function (cell) {\n        var firstSnap = getBottomRightSnap(cell);\n        Dragging.snapTo(bottomRight, firstSnap);\n        var isAbove = function (rect) {\n          return rect.bottom < 0;\n        };\n        var isBelow = function (rect, viewportHeight) {\n          return rect.bottom > viewportHeight;\n        };\n        showOrHideHandle(bottomRight, cell, isAbove, isBelow);\n      };\n      if (platform$2.deviceType.isTouch()) {\n        editor.on('tableselectionchange', function (e) {\n          if (!isVisible.get()) {\n            attach$1(sink, topLeft);\n            attach$1(sink, bottomRight);\n            isVisible.set(true);\n          }\n          startCell.set(e.start);\n          finishCell.set(e.finish);\n          e.otherCells.each(function (otherCells) {\n            tlTds.set(otherCells.upOrLeftCells);\n            brTds.set(otherCells.downOrRightCells);\n            snapTopLeft(e.start);\n            snapBottomRight(e.finish);\n          });\n        });\n        editor.on('resize ScrollContent', function () {\n          snapLastTopLeft();\n          snapLastBottomRight();\n        });\n        editor.on('tableselectionclear', function () {\n          if (isVisible.get()) {\n            detach(topLeft);\n            detach(bottomRight);\n            isVisible.set(false);\n          }\n        });\n      }\n    };\n    var TableSelectorHandles = { setup: setup$a };\n\n    var SIGNIFICANT_MOVE$1 = 5;\n    var LONGPRESS_DELAY$1 = 400;\n    var getTouch$1 = function (event) {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Option.none();\n      }\n      return Option.some(event.touches[0]);\n    };\n    var isFarEnough$1 = function (touch, data) {\n      var distX = Math.abs(touch.clientX - data.x());\n      var distY = Math.abs(touch.clientY - data.y());\n      return distX > SIGNIFICANT_MOVE$1 || distY > SIGNIFICANT_MOVE$1;\n    };\n    var setupLongpress = function (editor) {\n      var startData = Cell(Option.none());\n      var longpressFired = Cell(false);\n      var debounceLongpress = last$2(function (e) {\n        editor.fire('longpress', __assign(__assign({}, e), { type: 'longpress' }));\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY$1);\n      editor.on('touchstart', function (e) {\n        getTouch$1(e).each(function (touch) {\n          debounceLongpress.cancel();\n          var data = {\n            x: constant(touch.clientX),\n            y: constant(touch.clientY),\n            target: constant(e.target)\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(Option.some(data));\n        });\n      }, true);\n      editor.on('touchmove', function (e) {\n        debounceLongpress.cancel();\n        getTouch$1(e).each(function (touch) {\n          startData.get().each(function (data) {\n            if (isFarEnough$1(touch, data)) {\n              startData.set(Option.none());\n              longpressFired.set(false);\n              editor.fire('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', function (e) {\n        debounceLongpress.cancel();\n        if (e.type === 'touchend' && longpressFired.get()) {\n          startData.get().filter(function (data) {\n            return data.target().isEqualNode(e.target);\n          }).map(function () {\n            e.preventDefault();\n          });\n        }\n      }, true);\n    };\n    var TouchEvents = { setupLongpress: setupLongpress };\n\n    var setup$b = function (editor) {\n      var isInline = editor.inline;\n      var mode = isInline ? Inline : Iframe;\n      var header = isStickyToolbar(editor) ? StickyHeader : StaticHeader;\n      var lazyOuterContainer = Option.none();\n      var platform = detect$3();\n      var isIE = platform.browser.isIE();\n      var platformClasses = isIE ? ['tox-platform-ie'] : [];\n      var isTouch = platform.deviceType.isTouch();\n      var touchPlatformClass = 'tox-platform-touch';\n      var deviceClasses = isTouch ? [touchPlatformClass] : [];\n      var dirAttributes = global$5.isRtl() ? { attributes: { dir: 'rtl' } } : {};\n      var lazyHeader = function () {\n        return lazyOuterContainer.bind(OuterContainer.getHeader);\n      };\n      var sink = build$1({\n        dom: __assign({\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-silver-sink',\n            'tox-tinymce-aux'\n          ].concat(platformClasses).concat(deviceClasses)\n        }, dirAttributes),\n        behaviours: derive$1([Positioning.config({\n            useFixed: function () {\n              return header.isDocked(lazyHeader);\n            }\n          })])\n      });\n      var lazySink = function () {\n        return Result.value(sink);\n      };\n      var memAnchorBar = record({\n        dom: {\n          tag: 'div',\n          classes: ['tox-anchorbar']\n        }\n      });\n      var lazyAnchorBar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return memAnchorBar.getOpt(container);\n        }).getOrDie('Could not find a anchor bar element');\n      };\n      var lazyMoreButton = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getMoreButton(container);\n        }).getOrDie('Could not find more button element');\n      };\n      var lazyToolbar = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getToolbar(container);\n        }).getOrDie('Could not find more toolbar element');\n      };\n      var lazyThrobber = function () {\n        return lazyOuterContainer.bind(function (container) {\n          return OuterContainer.getThrobber(container);\n        }).getOrDie('Could not find throbber element');\n      };\n      var backstage = init$8(sink, editor, lazyAnchorBar, lazyMoreButton);\n      var partMenubar = OuterContainer.parts().menubar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-menubar']\n        },\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        }\n      });\n      var toolbarDrawer = function (editor) {\n        return getToolbarDrawer(editor);\n      };\n      var partToolbar = OuterContainer.parts().toolbar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar']\n        },\n        getSink: lazySink,\n        backstage: backstage,\n        onEscape: function () {\n          editor.focus();\n        },\n        split: toolbarDrawer(editor),\n        lazyToolbar: lazyToolbar,\n        lazyMoreButton: lazyMoreButton,\n        lazyHeader: function () {\n          return lazyHeader().getOrDie('Could not find header element');\n        }\n      });\n      var partMultipleToolbar = OuterContainer.parts()['multiple-toolbar']({\n        dom: {\n          tag: 'div',\n          classes: ['tox-toolbar-overlord']\n        },\n        onEscape: function () {\n        }\n      });\n      var partSocket = OuterContainer.parts().socket({\n        dom: {\n          tag: 'div',\n          classes: ['tox-edit-area']\n        }\n      });\n      var partSidebar = OuterContainer.parts().sidebar({\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar']\n        }\n      });\n      var partThrobber = OuterContainer.parts().throbber({\n        dom: {\n          tag: 'div',\n          classes: ['tox-throbber']\n        },\n        backstage: backstage\n      });\n      var sb = editor.getParam('statusbar', true, 'boolean');\n      var statusbar = sb && !isInline ? Option.some(renderStatusbar(editor, backstage.shared.providers)) : Option.none();\n      var socketSidebarContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-sidebar-wrap']\n        },\n        components: [\n          partSocket,\n          partSidebar\n        ]\n      };\n      var hasMultipleToolbar = isMultipleToolbars(editor);\n      var hasToolbar = isToolbarEnabled(editor);\n      var hasMenubar = isMenubarEnabled(editor);\n      var hasToolbarDrawer = toolbarDrawer(editor) !== ToolbarDrawer.default;\n      var getPartToolbar = function () {\n        if (hasMultipleToolbar) {\n          if (hasToolbarDrawer) {\n            domGlobals.console.warn('Toolbar drawer cannot be applied when multiple toolbars are active');\n          }\n          return [partMultipleToolbar];\n        } else if (hasToolbar) {\n          return [partToolbar];\n        } else {\n          return [];\n        }\n      };\n      var partHeader = OuterContainer.parts().header({\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-header']\n        },\n        components: flatten([\n          hasMenubar ? [partMenubar] : [],\n          getPartToolbar(),\n          useFixedContainer(editor) ? [] : [memAnchorBar.asSpec()]\n        ]),\n        sticky: isStickyToolbar(editor),\n        editor: editor,\n        getSink: lazySink\n      });\n      var editorComponents = flatten([\n        [partHeader],\n        isInline ? [] : [socketSidebarContainer]\n      ]);\n      var editorContainer = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-editor-container']\n        },\n        components: editorComponents\n      };\n      var containerComponents = flatten([\n        [editorContainer],\n        isInline ? [] : statusbar.toArray(),\n        [partThrobber]\n      ]);\n      var isHidden = isDistractionFree(editor);\n      var attributes = __assign(__assign({ role: 'application' }, global$5.isRtl() ? { dir: 'rtl' } : {}), isHidden ? { 'aria-hidden': 'true' } : {});\n      var outerContainer = build$1(OuterContainer.sketch({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox',\n            'tox-tinymce'\n          ].concat(isInline ? ['tox-tinymce-inline'] : []).concat(deviceClasses).concat(platformClasses),\n          styles: __assign({ visibility: 'hidden' }, isHidden ? {\n            opacity: '0',\n            border: '0'\n          } : {}),\n          attributes: attributes\n        },\n        components: containerComponents,\n        behaviours: derive$1([Keying.config({\n            mode: 'cyclic',\n            selector: '.tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a'\n          })])\n      }));\n      lazyOuterContainer = Option.some(outerContainer);\n      editor.shortcuts.add('alt+F9', 'focus menubar', function () {\n        OuterContainer.focusMenubar(outerContainer);\n      });\n      editor.shortcuts.add('alt+F10', 'focus toolbar', function () {\n        OuterContainer.focusToolbar(outerContainer);\n      });\n      var mothership = takeover(outerContainer);\n      var uiMothership = takeover(sink);\n      Events$1.setup(editor, mothership, uiMothership);\n      TouchEvents.setupLongpress(editor);\n      var getUi = function () {\n        var channels = {\n          broadcastAll: uiMothership.broadcast,\n          broadcastOn: uiMothership.broadcastOn,\n          register: function () {\n          }\n        };\n        return { channels: channels };\n      };\n      var setEditorSize = function (elm) {\n        var DOM = global$7.DOM;\n        var baseWidth = editor.getParam('width', DOM.getStyle(elm, 'width'));\n        var baseHeight = getHeightSetting(editor);\n        var minWidth = getMinWidthSetting(editor);\n        var minHeight = getMinHeightSetting(editor);\n        var parsedWidth = Utils.parseToInt(baseWidth).bind(function (w) {\n          return Utils.numToPx(minWidth.map(function (mw) {\n            return Math.max(w, mw);\n          }));\n        }).getOr(Utils.numToPx(baseWidth));\n        var parsedHeight = Utils.parseToInt(baseHeight).bind(function (h) {\n          return minHeight.map(function (mh) {\n            return Math.max(h, mh);\n          });\n        }).getOr(baseHeight);\n        var stringWidth = Utils.numToPx(parsedWidth);\n        var widthProperty = editor.inline ? 'max-width' : 'width';\n        if (isValidValue('div', widthProperty, stringWidth)) {\n          set$2(outerContainer.element(), widthProperty, stringWidth);\n        }\n        if (!editor.inline) {\n          var stringHeight = Utils.numToPx(parsedHeight);\n          if (isValidValue('div', 'height', stringHeight)) {\n            set$2(outerContainer.element(), 'height', stringHeight);\n          } else {\n            set$2(outerContainer.element(), 'height', '200px');\n          }\n        }\n        return parsedHeight;\n      };\n      var renderUI = function () {\n        header.setup(editor, lazyHeader);\n        FormatControls.setup(editor, backstage);\n        setup$9(editor, lazySink, backstage);\n        setup$6(editor);\n        setup$7(editor, lazyThrobber, backstage.shared);\n        var _a = editor.ui.registry.getAll(), buttons = _a.buttons, menuItems = _a.menuItems, contextToolbars = _a.contextToolbars, sidebars = _a.sidebars;\n        var toolbarOpt = getMultipleToolbarsSetting(editor);\n        var rawUiConfig = {\n          menuItems: menuItems,\n          menus: !editor.settings.menu ? {} : map$1(editor.settings.menu, function (menu) {\n            return merge(menu, { items: menu.items });\n          }),\n          menubar: editor.settings.menubar,\n          toolbar: toolbarOpt.getOrThunk(function () {\n            return editor.getParam('toolbar', true);\n          }),\n          buttons: buttons,\n          sidebar: sidebars\n        };\n        ContextToolbar.register(editor, contextToolbars, sink, { backstage: backstage });\n        TableSelectorHandles.setup(editor, sink);\n        var elm = editor.getElement();\n        var height = setEditorSize(elm);\n        var uiComponents = {\n          mothership: mothership,\n          uiMothership: uiMothership,\n          outerContainer: outerContainer\n        };\n        var args = {\n          targetNode: elm,\n          height: height\n        };\n        return mode.render(editor, uiComponents, rawUiConfig, backstage, args);\n      };\n      return {\n        mothership: mothership,\n        uiMothership: uiMothership,\n        backstage: backstage,\n        renderUI: renderUI,\n        getUi: getUi\n      };\n    };\n    var Render = { setup: setup$b };\n\n    var describedBy = function (describedElement, describeElement) {\n      var describeId = Option.from(get$2(describedElement, 'id')).fold(function () {\n        var id = generate$1('dialog-describe');\n        set$1(describeElement, 'id', id);\n        return id;\n      }, identity);\n      set$1(describedElement, 'aria-describedby', describeId);\n    };\n\n    var AriaLabel = {\n      labelledBy: function (labelledElement, labelElement) {\n        var labelId = Option.from(get$2(labelledElement, 'id')).fold(function () {\n          var id = generate$1('dialog-label');\n          set$1(labelElement, 'id', id);\n          return id;\n        }, identity);\n        set$1(labelledElement, 'aria-labelledby', labelId);\n      }\n    };\n\n    var schema$u = constant([\n      strict$1('lazySink'),\n      option('dragBlockClass'),\n      defaultedFunction('getBounds', win),\n      defaulted$1('useTabstopAt', constant(true)),\n      defaulted$1('eventOrder', {}),\n      field$1('modalBehaviours', [Keying]),\n      onKeyboardHandler('onExecute'),\n      onStrictKeyboardHandler('onEscape')\n    ]);\n    var basic = { sketch: identity };\n    var parts$e = constant([\n      optional({\n        name: 'draghandle',\n        overrides: function (detail, spec) {\n          return {\n            behaviours: derive$1([Dragging.config({\n                mode: 'mouse',\n                getTarget: function (handle) {\n                  return ancestor$1(handle, '[role=\"dialog\"]').getOr(handle);\n                },\n                blockerClass: detail.dragBlockClass.getOrDie(new Error('The drag blocker class was not specified for a dialog with a drag handle: \\n' + JSON.stringify(spec, null, 2)).message),\n                getBounds: detail.getDragBounds\n              })])\n          };\n        }\n      }),\n      required({\n        schema: [strict$1('dom')],\n        name: 'title'\n      }),\n      required({\n        factory: basic,\n        schema: [strict$1('dom')],\n        name: 'close'\n      }),\n      required({\n        factory: basic,\n        schema: [strict$1('dom')],\n        name: 'body'\n      }),\n      optional({\n        factory: basic,\n        schema: [strict$1('dom')],\n        name: 'footer'\n      }),\n      external$1({\n        factory: {\n          sketch: function (spec, detail) {\n            return __assign(__assign({}, spec), {\n              dom: detail.dom,\n              components: detail.components\n            });\n          }\n        },\n        schema: [\n          defaulted$1('dom', {\n            tag: 'div',\n            styles: {\n              position: 'fixed',\n              left: '0px',\n              top: '0px',\n              right: '0px',\n              bottom: '0px'\n            }\n          }),\n          defaulted$1('components', [])\n        ],\n        name: 'blocker'\n      })\n    ]);\n\n    var factory$h = function (detail, components, spec, externals) {\n      var dialogBusyEvent = generate$1('alloy.dialog.busy');\n      var dialogIdleEvent = generate$1('alloy.dialog.idle');\n      var busyBehaviours = derive$1([\n        Keying.config({\n          mode: 'special',\n          onTab: function () {\n            return Option.some(true);\n          },\n          onShiftTab: function () {\n            return Option.some(true);\n          }\n        }),\n        Focusing.config({})\n      ]);\n      var showDialog = function (dialog) {\n        var sink = detail.lazySink(dialog).getOrDie();\n        var busyComp = Cell(Option.none());\n        var externalBlocker = externals.blocker();\n        var blocker = sink.getSystem().build(__assign(__assign({}, externalBlocker), {\n          components: externalBlocker.components.concat([premade$1(dialog)]),\n          behaviours: derive$1([config('dialog-blocker-events', [\n              run(dialogIdleEvent, function (blocker, se) {\n                if (has$1(dialog.element(), 'aria-busy')) {\n                  remove$1(dialog.element(), 'aria-busy');\n                  busyComp.get().each(function (bc) {\n                    return Replacing.remove(dialog, bc);\n                  });\n                }\n              }),\n              run(dialogBusyEvent, function (blocker, se) {\n                set$1(dialog.element(), 'aria-busy', 'true');\n                var getBusySpec = se.event().getBusySpec();\n                busyComp.get().each(function (bc) {\n                  Replacing.remove(dialog, bc);\n                });\n                var busySpec = getBusySpec(dialog, busyBehaviours);\n                var busy = blocker.getSystem().build(busySpec);\n                busyComp.set(Option.some(busy));\n                Replacing.append(dialog, premade$1(busy));\n                if (busy.hasConfigured(Keying)) {\n                  Keying.focusIn(busy);\n                }\n              })\n            ])])\n        }));\n        attach$1(sink, blocker);\n        Keying.focusIn(dialog);\n      };\n      var hideDialog = function (dialog) {\n        parent(dialog.element()).each(function (blockerDom) {\n          dialog.getSystem().getByDom(blockerDom).each(function (blocker) {\n            detach(blocker);\n          });\n        });\n      };\n      var getDialogBody = function (dialog) {\n        return getPartOrDie(dialog, detail, 'body');\n      };\n      var getDialogFooter = function (dialog) {\n        return getPartOrDie(dialog, detail, 'footer');\n      };\n      var setBusy = function (dialog, getBusySpec) {\n        emitWith(dialog, dialogBusyEvent, { getBusySpec: getBusySpec });\n      };\n      var setIdle = function (dialog) {\n        emit(dialog, dialogIdleEvent);\n      };\n      var modalEventsId = generate$1('modal-events');\n      var eventOrder = __assign(__assign({}, detail.eventOrder), { 'alloy.system.attached': [modalEventsId].concat(detail.eventOrder['alloy.system.attached'] || []) });\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        apis: {\n          show: showDialog,\n          hide: hideDialog,\n          getBody: getDialogBody,\n          getFooter: getDialogFooter,\n          setIdle: setIdle,\n          setBusy: setBusy\n        },\n        eventOrder: eventOrder,\n        domModification: {\n          attributes: {\n            'role': 'dialog',\n            'aria-modal': 'true'\n          }\n        },\n        behaviours: augment(detail.modalBehaviours, [\n          Replacing.config({}),\n          Keying.config({\n            mode: 'cyclic',\n            onEnter: detail.onExecute,\n            onEscape: detail.onEscape,\n            useTabstopAt: detail.useTabstopAt\n          }),\n          config(modalEventsId, [runOnAttached(function (c) {\n              AriaLabel.labelledBy(c.element(), getPartOrDie(c, detail, 'title').element());\n              describedBy(c.element(), getPartOrDie(c, detail, 'body').element());\n            })])\n        ])\n      };\n    };\n    var ModalDialog = composite$1({\n      name: 'ModalDialog',\n      configFields: schema$u(),\n      partFields: parts$e(),\n      factory: factory$h,\n      apis: {\n        show: function (apis, dialog) {\n          apis.show(dialog);\n        },\n        hide: function (apis, dialog) {\n          apis.hide(dialog);\n        },\n        getBody: function (apis, dialog) {\n          return apis.getBody(dialog);\n        },\n        getFooter: function (apis, dialog) {\n          return apis.getFooter(dialog);\n        },\n        setBusy: function (apis, dialog, getBusySpec) {\n          apis.setBusy(dialog, getBusySpec);\n        },\n        setIdle: function (apis, dialog) {\n          apis.setIdle(dialog);\n        }\n      }\n    });\n\n    var alertBannerFields = [\n      strictString('type'),\n      strictString('text'),\n      strictStringEnum('level', [\n        'info',\n        'warn',\n        'error',\n        'success'\n      ]),\n      strictString('icon'),\n      defaulted$1('url', '')\n    ];\n    var alertBannerSchema = objOf(alertBannerFields);\n\n    var createBarFields = function (itemsField) {\n      return [\n        strictString('type'),\n        itemsField\n      ];\n    };\n\n    var buttonFields = [\n      strictString('type'),\n      strictString('text'),\n      defaultedBoolean('disabled', false),\n      defaultedBoolean('primary', false),\n      field('name', 'name', defaultedThunk(function () {\n        return generate$1('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedBoolean('borderless', false)\n    ];\n    var buttonSchema = objOf(buttonFields);\n\n    var checkboxFields = [\n      strictString('type'),\n      strictString('name'),\n      strictString('label'),\n      defaultedBoolean('disabled', false)\n    ];\n    var checkboxSchema = objOf(checkboxFields);\n    var checkboxDataProcessor = boolean;\n\n    var formComponentFields = [\n      strictString('type'),\n      strictString('name')\n    ];\n    var formComponentWithLabelFields = formComponentFields.concat([optionString('label')]);\n\n    var colorInputFields = formComponentWithLabelFields;\n    var colorInputSchema = objOf(colorInputFields);\n    var colorInputDataProcessor = string;\n\n    var colorPickerFields = formComponentWithLabelFields;\n    var colorPickerSchema = objOf(colorPickerFields);\n    var colorPickerDataProcessor = string;\n\n    var dropZoneFields = formComponentWithLabelFields;\n    var dropZoneSchema = objOf(dropZoneFields);\n    var dropZoneDataProcessor = arrOfVal();\n\n    var createGridFields = function (itemsField) {\n      return [\n        strictString('type'),\n        strictNumber('columns'),\n        itemsField\n      ];\n    };\n\n    var iframeFields = formComponentWithLabelFields.concat([defaultedBoolean('sandboxed', true)]);\n    var iframeSchema = objOf(iframeFields);\n    var iframeDataProcessor = string;\n\n    var inputFields = formComponentWithLabelFields.concat([\n      optionString('inputMode'),\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var inputSchema = objOf(inputFields);\n    var inputDataProcessor = string;\n\n    var selectBoxFields = formComponentWithLabelFields.concat([\n      strictArrayOfObj('items', [\n        strictString('text'),\n        strictString('value')\n      ]),\n      defaultedNumber('size', 1),\n      defaultedBoolean('disabled', false)\n    ]);\n    var selectBoxSchema = objOf(selectBoxFields);\n    var selectBoxDataProcessor = string;\n\n    var sizeInputFields = formComponentWithLabelFields.concat([\n      defaultedBoolean('constrain', true),\n      defaultedBoolean('disabled', false)\n    ]);\n    var sizeInputSchema = objOf(sizeInputFields);\n    var sizeInputDataProcessor = objOf([\n      strictString('width'),\n      strictString('height')\n    ]);\n\n    var textAreaFields = formComponentWithLabelFields.concat([\n      optionString('placeholder'),\n      defaultedBoolean('maximized', false),\n      defaultedBoolean('disabled', false)\n    ]);\n    var textAreaSchema = objOf(textAreaFields);\n    var textAreaDataProcessor = string;\n\n    var urlInputFields = formComponentWithLabelFields.concat([\n      defaultedStringEnum('filetype', 'file', [\n        'image',\n        'media',\n        'file'\n      ]),\n      defaulted$1('disabled', false)\n    ]);\n    var urlInputSchema = objOf(urlInputFields);\n    var urlInputDataProcessor = objOf([\n      strictString('value'),\n      defaulted$1('meta', {})\n    ]);\n\n    var customEditorFields = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      strictString('scriptId'),\n      strictString('scriptUrl'),\n      defaultedPostMsg('settings', undefined)\n    ]);\n    var customEditorFieldsOld = formComponentFields.concat([\n      defaultedString('tag', 'textarea'),\n      strictFunction('init')\n    ]);\n    var customEditorSchema = valueOf(function (v) {\n      return asRaw('customeditor.old', objOfOnly(customEditorFieldsOld), v).orThunk(function () {\n        return asRaw('customeditor.new', objOfOnly(customEditorFields), v);\n      });\n    });\n    var customEditorDataProcessor = string;\n\n    var htmlPanelFields = [\n      strictString('type'),\n      strictString('html'),\n      defaultedStringEnum('presets', 'presentation', [\n        'presentation',\n        'document'\n      ])\n    ];\n    var htmlPanelSchema = objOf(htmlPanelFields);\n\n    var imageToolsFields = formComponentWithLabelFields.concat([strictOf('currentState', objOf([\n        strict$1('blob'),\n        strictString('url')\n      ]))]);\n    var imageToolsSchema = objOf(imageToolsFields);\n\n    var collectionFields = formComponentWithLabelFields.concat([defaulted$1('columns', 'auto')]);\n    var collectionSchema = objOf(collectionFields);\n    var collectionDataProcessor = arrOfObj$1([\n      strictString('value'),\n      strictString('text'),\n      strictString('icon')\n    ]);\n\n    var createLabelFields = function (itemsField) {\n      return [\n        strictString('type'),\n        strictString('label'),\n        itemsField\n      ];\n    };\n\n    var tableFields = [\n      strictString('type'),\n      strictArrayOf('header', string),\n      strictArrayOf('cells', arrOf(string))\n    ];\n    var tableSchema = objOf(tableFields);\n\n    var createItemsField = function (name) {\n      return field('items', 'items', strict(), arrOf(valueOf(function (v) {\n        return asRaw('Checking item of ' + name, itemSchema$2, v).fold(function (sErr) {\n          return Result.error(formatError(sErr));\n        }, function (passValue) {\n          return Result.value(passValue);\n        });\n      })));\n    };\n    var itemSchema$2 = valueThunkOf(function () {\n      return chooseProcessor('type', {\n        alertbanner: alertBannerSchema,\n        bar: objOf(createBarFields(createItemsField('bar'))),\n        button: buttonSchema,\n        checkbox: checkboxSchema,\n        colorinput: colorInputSchema,\n        colorpicker: colorPickerSchema,\n        dropzone: dropZoneSchema,\n        grid: objOf(createGridFields(createItemsField('grid'))),\n        iframe: iframeSchema,\n        input: inputSchema,\n        selectbox: selectBoxSchema,\n        sizeinput: sizeInputSchema,\n        textarea: textAreaSchema,\n        urlinput: urlInputSchema,\n        customeditor: customEditorSchema,\n        htmlpanel: htmlPanelSchema,\n        imagetools: imageToolsSchema,\n        collection: collectionSchema,\n        label: objOf(createLabelFields(createItemsField('label'))),\n        table: tableSchema,\n        panel: panelSchema\n      });\n    });\n    var panelFields = [\n      strictString('type'),\n      defaulted$1('classes', []),\n      strictArrayOf('items', itemSchema$2)\n    ];\n    var panelSchema = objOf(panelFields);\n\n    var tabFields = [\n      field('name', 'name', defaultedThunk(function () {\n        return generate$1('tab-name');\n      }), string),\n      strictString('title'),\n      strictArrayOf('items', itemSchema$2)\n    ];\n    var tabPanelFields = [\n      strictString('type'),\n      strictArrayOfObj('tabs', tabFields)\n    ];\n    var tabPanelSchema = objOf(tabPanelFields);\n\n    var dialogToggleMenuItemSchema = objOf([\n      strictString('type'),\n      strictString('name'),\n      defaultedBoolean('active', false)\n    ].concat(commonMenuItemFields));\n    var dialogToggleMenuItemDataProcessor = boolean;\n\n    var baseButtonFields = [\n      field('name', 'name', defaultedThunk(function () {\n        return generate$1('button-name');\n      }), string),\n      optionString('icon'),\n      defaultedStringEnum('align', 'end', [\n        'start',\n        'end'\n      ]),\n      defaultedBoolean('primary', false),\n      defaultedBoolean('disabled', false)\n    ];\n    var dialogButtonFields = __spreadArrays(baseButtonFields, [strictString('text')]);\n    var normalButtonFields = __spreadArrays([strictStringEnum('type', [\n        'submit',\n        'cancel',\n        'custom'\n      ])], dialogButtonFields);\n    var menuButtonFields = __spreadArrays([\n      strictStringEnum('type', ['menu']),\n      optionString('text'),\n      optionString('tooltip'),\n      optionString('icon'),\n      strictArrayOf('items', dialogToggleMenuItemSchema),\n      defaultedFunction('onSetup', function () {\n        return noop;\n      })\n    ], baseButtonFields);\n    var dialogButtonSchema = choose$1('type', {\n      submit: normalButtonFields,\n      cancel: normalButtonFields,\n      custom: normalButtonFields,\n      menu: menuButtonFields\n    });\n\n    var dialogButtonFields$1 = dialogButtonFields;\n    var dialogButtonSchema$1 = dialogButtonSchema;\n    var dialogSchema = objOf([\n      strictString('title'),\n      strictOf('body', chooseProcessor('type', {\n        panel: panelSchema,\n        tabpanel: tabPanelSchema\n      })),\n      defaultedString('size', 'normal'),\n      strictArrayOf('buttons', dialogButtonSchema$1),\n      defaulted$1('initialData', {}),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onChange', noop),\n      defaultedFunction('onSubmit', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onCancel', noop),\n      defaulted$1('onTabChange', noop)\n    ]);\n    var createDialog = function (spec) {\n      return asRaw('dialog', dialogSchema, spec);\n    };\n\n    var getAllObjects = function (obj) {\n      if (isObject(obj)) {\n        return [obj].concat(bind(values(obj), getAllObjects));\n      } else if (isArray(obj)) {\n        return bind(obj, getAllObjects);\n      } else {\n        return [];\n      }\n    };\n\n    var isNamedItem = function (obj) {\n      return isString(obj.type) && isString(obj.name);\n    };\n    var dataProcessors = {\n      checkbox: checkboxDataProcessor,\n      colorinput: colorInputDataProcessor,\n      colorpicker: colorPickerDataProcessor,\n      dropzone: dropZoneDataProcessor,\n      input: inputDataProcessor,\n      iframe: iframeDataProcessor,\n      sizeinput: sizeInputDataProcessor,\n      selectbox: selectBoxDataProcessor,\n      size: sizeInputDataProcessor,\n      textarea: textAreaDataProcessor,\n      urlinput: urlInputDataProcessor,\n      customeditor: customEditorDataProcessor,\n      collection: collectionDataProcessor,\n      togglemenuitem: dialogToggleMenuItemDataProcessor\n    };\n    var getDataProcessor = function (item) {\n      return Option.from(dataProcessors[item.type]);\n    };\n    var getNamedItems = function (structure) {\n      return filter(getAllObjects(structure), isNamedItem);\n    };\n\n    var createDataValidator = function (structure) {\n      var namedItems = getNamedItems(structure);\n      var fields = bind(namedItems, function (item) {\n        return getDataProcessor(item).fold(function () {\n          return [];\n        }, function (schema) {\n          return [strictOf(item.name, schema)];\n        });\n      });\n      return objOf(fields);\n    };\n\n    var urlDialogButtonSchema = objOf(__spreadArrays([strictStringEnum('type', [\n        'cancel',\n        'custom'\n      ])], dialogButtonFields$1));\n    var urlDialogSchema = objOf([\n      strictString('title'),\n      strictString('url'),\n      optionNumber('height'),\n      optionNumber('width'),\n      optionArrayOf('buttons', urlDialogButtonSchema),\n      defaultedFunction('onAction', noop),\n      defaultedFunction('onCancel', noop),\n      defaultedFunction('onClose', noop),\n      defaultedFunction('onMessage', noop)\n    ]);\n    var createUrlDialog = function (spec) {\n      return asRaw('dialog', urlDialogSchema, spec);\n    };\n\n    var extract$1 = function (structure) {\n      var internalDialog = getOrDie(createDialog(structure));\n      var dataValidator = createDataValidator(structure);\n      var initialData = structure.initialData;\n      return {\n        internalDialog: internalDialog,\n        dataValidator: dataValidator,\n        initialData: initialData\n      };\n    };\n    var DialogManager = {\n      open: function (factory, structure) {\n        var extraction = extract$1(structure);\n        return factory(extraction.internalDialog, extraction.initialData, extraction.dataValidator);\n      },\n      openUrl: function (factory, structure) {\n        var internalDialog = getOrDie(createUrlDialog(structure));\n        return factory(internalDialog);\n      },\n      redial: function (structure) {\n        return extract$1(structure);\n      }\n    };\n\n    var value$3 = function () {\n      var subject = Cell(Option.none());\n      var clear = function () {\n        subject.set(Option.none());\n      };\n      var set = function (s) {\n        subject.set(Option.some(s));\n      };\n      var on = function (f) {\n        subject.get().each(f);\n      };\n      var isSet = function () {\n        return subject.get().isSome();\n      };\n      return {\n        clear: clear,\n        set: set,\n        isSet: isSet,\n        on: on\n      };\n    };\n\n    var toValidValues = function (values) {\n      var errors = [];\n      var result = {};\n      each$1(values, function (value, name) {\n        value.fold(function () {\n          errors.push(name);\n        }, function (v) {\n          result[name] = v;\n        });\n      });\n      return errors.length > 0 ? Result.error(errors) : Result.value(result);\n    };\n\n    var renderBodyPanel = function (spec, backstage) {\n      var memForm = record(Form.sketch(function (parts) {\n        return {\n          dom: {\n            tag: 'div',\n            classes: ['tox-form'].concat(spec.classes)\n          },\n          components: map(spec.items, function (item) {\n            return interpretInForm(parts, item, backstage);\n          })\n        };\n      }));\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [memForm.asSpec()]\n          }],\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(NavigableObject.isPseudoStop)\n          }),\n          ComposingConfigs.memento(memForm),\n          RepresentingConfigs.memento(memForm, {\n            postprocess: function (formValue) {\n              return toValidValues(formValue).fold(function (err) {\n                domGlobals.console.error(err);\n                return {};\n              }, function (vals) {\n                return vals;\n              });\n            }\n          })\n        ])\n      };\n    };\n\n    var factory$i = function (detail, spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: detail.components,\n        events: events$7(detail.action),\n        behaviours: augment(detail.tabButtonBehaviours, [\n          Focusing.config({}),\n          Keying.config({\n            mode: 'execution',\n            useSpace: true,\n            useEnter: true\n          }),\n          Representing.config({\n            store: {\n              mode: 'memory',\n              initialValue: detail.value\n            }\n          })\n        ]),\n        domModification: detail.domModification\n      };\n    };\n    var TabButton = single$2({\n      name: 'TabButton',\n      configFields: [\n        defaulted$1('uid', undefined),\n        strict$1('value'),\n        field('dom', 'dom', mergeWithThunk(function (spec) {\n          return {\n            attributes: {\n              'role': 'tab',\n              'id': generate$1('aria'),\n              'aria-selected': 'false'\n            }\n          };\n        }), anyValue$1()),\n        option('action'),\n        defaulted$1('domModification', {}),\n        field$1('tabButtonBehaviours', [\n          Focusing,\n          Keying,\n          Representing\n        ]),\n        strict$1('view')\n      ],\n      factory: factory$i\n    });\n\n    var schema$v = constant([\n      strict$1('tabs'),\n      strict$1('dom'),\n      defaulted$1('clickToDismiss', false),\n      field$1('tabbarBehaviours', [\n        Highlighting,\n        Keying\n      ]),\n      markers([\n        'tabClass',\n        'selectedClass'\n      ])\n    ]);\n    var tabsPart = group({\n      factory: TabButton,\n      name: 'tabs',\n      unit: 'tab',\n      overrides: function (barDetail, tabSpec) {\n        var dismissTab$1 = function (tabbar, button) {\n          Highlighting.dehighlight(tabbar, button);\n          emitWith(tabbar, dismissTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        var changeTab$1 = function (tabbar, button) {\n          Highlighting.highlight(tabbar, button);\n          emitWith(tabbar, changeTab(), {\n            tabbar: tabbar,\n            button: button\n          });\n        };\n        return {\n          action: function (button) {\n            var tabbar = button.getSystem().getByUid(barDetail.uid).getOrDie();\n            var activeButton = Highlighting.isHighlighted(tabbar, button);\n            var response = function () {\n              if (activeButton && barDetail.clickToDismiss) {\n                return dismissTab$1;\n              } else if (!activeButton) {\n                return changeTab$1;\n              } else {\n                return noop;\n              }\n            }();\n            response(tabbar, button);\n          },\n          domModification: { classes: [barDetail.markers.tabClass] }\n        };\n      }\n    });\n    var parts$f = constant([tabsPart]);\n\n    var factory$j = function (detail, components, spec, externals) {\n      return {\n        'uid': detail.uid,\n        'dom': detail.dom,\n        'components': components,\n        'debug.sketcher': 'Tabbar',\n        'domModification': { attributes: { role: 'tablist' } },\n        'behaviours': augment(detail.tabbarBehaviours, [\n          Highlighting.config({\n            highlightClass: detail.markers.selectedClass,\n            itemClass: detail.markers.tabClass,\n            onHighlight: function (tabbar, tab) {\n              set$1(tab.element(), 'aria-selected', 'true');\n            },\n            onDehighlight: function (tabbar, tab) {\n              set$1(tab.element(), 'aria-selected', 'false');\n            }\n          }),\n          Keying.config({\n            mode: 'flow',\n            getInitial: function (tabbar) {\n              return Highlighting.getHighlighted(tabbar).map(function (tab) {\n                return tab.element();\n              });\n            },\n            selector: '.' + detail.markers.tabClass,\n            executeOnMove: true\n          })\n        ])\n      };\n    };\n    var Tabbar = composite$1({\n      name: 'Tabbar',\n      configFields: schema$v(),\n      partFields: parts$f(),\n      factory: factory$j\n    });\n\n    var factory$k = function (detail, spec) {\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        behaviours: augment(detail.tabviewBehaviours, [Replacing.config({})]),\n        domModification: { attributes: { role: 'tabpanel' } }\n      };\n    };\n    var Tabview = single$2({\n      name: 'Tabview',\n      configFields: [field$1('tabviewBehaviours', [Replacing])],\n      factory: factory$k\n    });\n\n    var schema$w = constant([\n      defaulted$1('selectFirst', true),\n      onHandler('onChangeTab'),\n      onHandler('onDismissTab'),\n      defaulted$1('tabs', []),\n      field$1('tabSectionBehaviours', [])\n    ]);\n    var barPart = required({\n      factory: Tabbar,\n      schema: [\n        strict$1('dom'),\n        strictObjOf('markers', [\n          strict$1('tabClass'),\n          strict$1('selectedClass')\n        ])\n      ],\n      name: 'tabbar',\n      defaults: function (detail) {\n        return { tabs: detail.tabs };\n      }\n    });\n    var viewPart = required({\n      factory: Tabview,\n      name: 'tabview'\n    });\n    var parts$g = constant([\n      barPart,\n      viewPart\n    ]);\n\n    var factory$l = function (detail, components, spec, externals) {\n      var changeTab$1 = function (button) {\n        var tabValue = Representing.getValue(button);\n        getPart(button, detail, 'tabview').each(function (tabview) {\n          var tabWithValue = find(detail.tabs, function (t) {\n            return t.value === tabValue;\n          });\n          tabWithValue.each(function (tabData) {\n            var panel = tabData.view();\n            set$1(tabview.element(), 'aria-labelledby', get$2(button.element(), 'id'));\n            Replacing.set(tabview, panel);\n            detail.onChangeTab(tabview, button, panel);\n          });\n        });\n      };\n      var changeTabBy = function (section, byPred) {\n        getPart(section, detail, 'tabbar').each(function (tabbar) {\n          byPred(tabbar).each(emitExecute);\n        });\n      };\n      return {\n        uid: detail.uid,\n        dom: detail.dom,\n        components: components,\n        behaviours: get$b(detail.tabSectionBehaviours),\n        events: derive(flatten([\n          detail.selectFirst ? [runOnAttached(function (section, simulatedEvent) {\n              changeTabBy(section, Highlighting.getFirst);\n            })] : [],\n          [\n            run(changeTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event().button();\n              changeTab$1(button);\n            }),\n            run(dismissTab(), function (section, simulatedEvent) {\n              var button = simulatedEvent.event().button();\n              detail.onDismissTab(section, button);\n            })\n          ]\n        ])),\n        apis: {\n          getViewItems: function (section) {\n            return getPart(section, detail, 'tabview').map(function (tabview) {\n              return Replacing.contents(tabview);\n            }).getOr([]);\n          },\n          showTab: function (section, tabKey) {\n            var getTabIfNotActive = function (tabbar) {\n              var candidates = Highlighting.getCandidates(tabbar);\n              var optTab = find(candidates, function (c) {\n                return Representing.getValue(c) === tabKey;\n              });\n              return optTab.filter(function (tab) {\n                return !Highlighting.isHighlighted(tabbar, tab);\n              });\n            };\n            changeTabBy(section, getTabIfNotActive);\n          }\n        }\n      };\n    };\n    var TabSection = composite$1({\n      name: 'TabSection',\n      configFields: schema$w(),\n      partFields: parts$g(),\n      factory: factory$l,\n      apis: {\n        getViewItems: function (apis, component) {\n          return apis.getViewItems(component);\n        },\n        showTab: function (apis, component, tabKey) {\n          apis.showTab(component, tabKey);\n        }\n      }\n    });\n\n    var measureHeights = function (allTabs, tabview, tabviewComp) {\n      return map(allTabs, function (tab, i) {\n        Replacing.set(tabviewComp, allTabs[i].view());\n        var rect = tabview.dom().getBoundingClientRect();\n        Replacing.set(tabviewComp, []);\n        return rect.height;\n      });\n    };\n    var getMaxHeight = function (heights) {\n      return head(sort(heights, function (a, b) {\n        if (a > b) {\n          return -1;\n        } else if (a < b) {\n          return +1;\n        } else {\n          return 0;\n        }\n      }));\n    };\n    var getMaxTabviewHeight = function (dialog, dialogBody) {\n      var rootElm = ancestor$1(dialog, '.tox-dialog-wrap').getOr(dialog);\n      var isFixed = get$4(rootElm, 'position') === 'fixed';\n      var maxHeight;\n      if (isFixed) {\n        maxHeight = Math.max(domGlobals.document.documentElement.clientHeight, domGlobals.window.innerHeight);\n      } else {\n        maxHeight = Math.max(domGlobals.document.documentElement.offsetHeight, domGlobals.document.documentElement.scrollHeight);\n      }\n      var dialogChrome = dialog.dom().getBoundingClientRect().height - dialogBody.dom().getBoundingClientRect().height;\n      return maxHeight - dialogChrome;\n    };\n    var showTab = function (allTabs, comp) {\n      head(allTabs).each(function (tab) {\n        return TabSection.showTab(comp, tab.value);\n      });\n    };\n    var updateTabviewHeight = function (dialogBody, tabview, maxTabHeight) {\n      ancestor$1(dialogBody, '[role=\"dialog\"]').each(function (dialog) {\n        maxTabHeight.get().map(function (height) {\n          set$2(tabview, 'height', '0');\n          return Math.min(height, getMaxTabviewHeight(dialog, dialogBody));\n        }).each(function (height) {\n          set$2(tabview, 'height', height + 'px');\n        });\n      });\n    };\n    var setMode = function (allTabs) {\n      var smartTabHeight = function () {\n        var maxTabHeight = Cell(Option.none());\n        var extraEvents = [\n          runOnAttached(function (comp) {\n            descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n              set$2(tabview, 'visibility', 'hidden');\n              comp.getSystem().getByDom(tabview).toOption().each(function (tabviewComp) {\n                var heights = measureHeights(allTabs, tabview, tabviewComp);\n                var maxTabHeightOpt = getMaxHeight(heights);\n                maxTabHeight.set(maxTabHeightOpt);\n              });\n              updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n              remove$6(tabview, 'visibility');\n              showTab(allTabs, comp);\n              global$2.requestAnimationFrame(function () {\n                updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n              });\n            });\n          }),\n          run(windowResize(), function (comp) {\n            descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n              updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n            });\n          }),\n          run(formResizeEvent, function (comp, se) {\n            descendant$1(comp.element(), '[role=\"tabpanel\"]').each(function (tabview) {\n              var oldFocus = active();\n              set$2(tabview, 'visibility', 'hidden');\n              var oldHeight = getRaw(tabview, 'height').map(function (h) {\n                return parseInt(h, 10);\n              });\n              remove$6(tabview, 'height');\n              var newHeight = tabview.dom().getBoundingClientRect().height;\n              var hasGrown = oldHeight.forall(function (h) {\n                return newHeight > h;\n              });\n              if (hasGrown) {\n                maxTabHeight.set(Option.from(newHeight));\n                updateTabviewHeight(comp.element(), tabview, maxTabHeight);\n              } else {\n                oldHeight.each(function (h) {\n                  set$2(tabview, 'height', h + 'px');\n                });\n              }\n              remove$6(tabview, 'visibility');\n              oldFocus.each(focus$1);\n            });\n          })\n        ];\n        var selectFirst = false;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      var naiveTabHeight = function () {\n        var extraEvents = [];\n        var selectFirst = true;\n        return {\n          extraEvents: extraEvents,\n          selectFirst: selectFirst\n        };\n      }();\n      return {\n        smartTabHeight: smartTabHeight,\n        naiveTabHeight: naiveTabHeight\n      };\n    };\n\n    var SendDataToSectionChannel = 'send-data-to-section';\n    var SendDataToViewChannel = 'send-data-to-view';\n    var renderTabPanel = function (spec, backstage) {\n      var storedValue = Cell({});\n      var updateDataWithForm = function (form) {\n        var formData = Representing.getValue(form);\n        var validData = toValidValues(formData).getOr({});\n        var currentData = storedValue.get();\n        var newData = deepMerge(currentData, validData);\n        storedValue.set(newData);\n      };\n      var setDataOnForm = function (form) {\n        var tabData = storedValue.get();\n        Representing.setValue(form, tabData);\n      };\n      var oldTab = Cell(null);\n      var allTabs = map(spec.tabs, function (tab) {\n        return {\n          value: tab.name,\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__body-nav-item'],\n            innerHtml: backstage.shared.providers.translate(tab.title)\n          },\n          view: function () {\n            return [Form.sketch(function (parts) {\n                return {\n                  dom: {\n                    tag: 'div',\n                    classes: ['tox-form']\n                  },\n                  components: map(tab.items, function (item) {\n                    return interpretInForm(parts, item, backstage);\n                  }),\n                  formBehaviours: derive$1([\n                    Keying.config({\n                      mode: 'acyclic',\n                      useTabstopAt: not(NavigableObject.isPseudoStop)\n                    }),\n                    config('TabView.form.events', [\n                      runOnAttached(setDataOnForm),\n                      runOnDetached(updateDataWithForm)\n                    ]),\n                    Receiving.config({\n                      channels: wrapAll$1([\n                        {\n                          key: SendDataToSectionChannel,\n                          value: { onReceive: updateDataWithForm }\n                        },\n                        {\n                          key: SendDataToViewChannel,\n                          value: { onReceive: setDataOnForm }\n                        }\n                      ])\n                    })\n                  ])\n                };\n              })];\n          }\n        };\n      });\n      var tabMode = setMode(allTabs).smartTabHeight;\n      return TabSection.sketch({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        onChangeTab: function (section, button, _viewItems) {\n          var name = Representing.getValue(button);\n          emitWith(section, formTabChangeEvent, {\n            name: name,\n            oldName: oldTab.get()\n          });\n          oldTab.set(name);\n        },\n        tabs: allTabs,\n        components: [\n          TabSection.parts().tabbar({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-nav']\n            },\n            components: [Tabbar.parts().tabs({})],\n            markers: {\n              tabClass: 'tox-tab',\n              selectedClass: 'tox-dialog__body-nav-item--active'\n            },\n            tabbarBehaviours: derive$1([Tabstopping.config({})])\n          }),\n          TabSection.parts().tabview({\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            }\n          })\n        ],\n        selectFirst: tabMode.selectFirst,\n        tabSectionBehaviours: derive$1([\n          config('tabpanel', tabMode.extraEvents),\n          Keying.config({ mode: 'acyclic' }),\n          Composing.config({\n            find: function (comp) {\n              return head(TabSection.getViewItems(comp));\n            }\n          }),\n          Representing.config({\n            store: {\n              mode: 'manual',\n              getValue: function (tsection) {\n                tsection.getSystem().broadcastOn([SendDataToSectionChannel], {});\n                return storedValue.get();\n              },\n              setValue: function (tsection, value) {\n                storedValue.set(value);\n                tsection.getSystem().broadcastOn([SendDataToViewChannel], {});\n              }\n            }\n          })\n        ])\n      });\n    };\n\n    var dialogChannel = generate$1('update-dialog');\n    var titleChannel = generate$1('update-title');\n    var bodyChannel = generate$1('update-body');\n    var footerChannel = generate$1('update-footer');\n    var bodySendMessageChannel = generate$1('body-send-message');\n\n    var renderBody = function (spec, id, backstage, ariaAttrs) {\n      var renderComponents = function (incoming) {\n        switch (incoming.body.type) {\n        case 'tabpanel': {\n            return [renderTabPanel(incoming.body, backstage)];\n          }\n        default: {\n            return [renderBodyPanel(incoming.body, backstage)];\n          }\n        }\n      };\n      var updateState = function (_comp, incoming) {\n        return Option.some({\n          isTabPanel: function () {\n            return incoming.body.type === 'tabpanel';\n          }\n        });\n      };\n      var ariaAttributes = { 'aria-live': 'polite' };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js'],\n          attributes: __assign(__assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({})), ariaAttrs ? ariaAttributes : {})\n        },\n        components: [],\n        behaviours: derive$1([\n          ComposingConfigs.childAt(0),\n          Reflecting.config({\n            channel: bodyChannel,\n            updateState: updateState,\n            renderComponents: renderComponents,\n            initialData: spec\n          })\n        ])\n      };\n    };\n    var renderInlineBody = function (spec, contentId, backstage, ariaAttrs) {\n      return renderBody(spec, Option.some(contentId), backstage, ariaAttrs);\n    };\n    var renderModalBody = function (spec, backstage) {\n      var bodySpec = renderBody(spec, Option.none(), backstage, false);\n      return ModalDialog.parts().body(bodySpec);\n    };\n    var renderIframeBody = function (spec) {\n      var bodySpec = {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__content-js']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-iframe']\n            },\n            components: [NavigableObject.craft({\n                dom: {\n                  tag: 'iframe',\n                  attributes: { src: spec.url }\n                },\n                behaviours: derive$1([\n                  Tabstopping.config({}),\n                  Focusing.config({})\n                ])\n              })]\n          }],\n        behaviours: derive$1([Keying.config({\n            mode: 'acyclic',\n            useTabstopAt: not(NavigableObject.isPseudoStop)\n          })])\n      };\n      return ModalDialog.parts().body(bodySpec);\n    };\n\n    var initCommonEvents = function (fireApiEvent, extras) {\n      return [\n        runWithTarget(focusin(), NavigableObject.onFocus),\n        fireApiEvent(formCloseEvent, function (api, spec) {\n          extras.onClose();\n          spec.onClose();\n        }),\n        fireApiEvent(formCancelEvent, function (api, spec, _event, self) {\n          spec.onCancel(api);\n          emit(self, formCloseEvent);\n        }),\n        run(formUnblockEvent, function (c, se) {\n          return extras.onUnblock();\n        }),\n        run(formBlockEvent, function (c, se) {\n          return extras.onBlock(se.event());\n        })\n      ];\n    };\n    var initUrlDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event(), c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialog) {\n          f(currentDialog, c);\n        });\n      };\n      return __spreadArrays(initCommonEvents(fireApiEvent, extras), [fireApiEvent(formActionEvent, function (api, spec, event) {\n          spec.onAction(api, { name: event.name() });\n        })]);\n    };\n    var initDialog = function (getInstanceApi, extras) {\n      var fireApiEvent = function (eventName, f) {\n        return run(eventName, function (c, se) {\n          withSpec(c, function (spec, _c) {\n            f(getInstanceApi(), spec, se.event(), c);\n          });\n        });\n      };\n      var withSpec = function (c, f) {\n        Reflecting.getState(c).get().each(function (currentDialogInit) {\n          f(currentDialogInit.internalDialog, c);\n        });\n      };\n      return __spreadArrays(initCommonEvents(fireApiEvent, extras), [\n        fireApiEvent(formSubmitEvent, function (api, spec) {\n          return spec.onSubmit(api);\n        }),\n        fireApiEvent(formChangeEvent, function (api, spec, event) {\n          spec.onChange(api, { name: event.name() });\n        }),\n        fireApiEvent(formActionEvent, function (api, spec, event, component) {\n          var focusIn = function () {\n            return Keying.focusIn(component);\n          };\n          var current = active();\n          spec.onAction(api, {\n            name: event.name(),\n            value: event.value()\n          });\n          active().fold(function () {\n            focusIn();\n          }, function (focused) {\n            if (!contains$2(component.element(), focused) || has$1(focused, 'disabled')) {\n              focusIn();\n            } else if (contains$2(focused, current.getOrNull()) && has$1(current.getOrDie(), 'disabled')) {\n              focusIn();\n            }\n          });\n        }),\n        fireApiEvent(formTabChangeEvent, function (api, spec, event) {\n          spec.onTabChange(api, {\n            newTabName: event.name(),\n            oldTabName: event.oldName()\n          });\n        }),\n        runOnDetached(function (component) {\n          var api = getInstanceApi();\n          Representing.setValue(component, api.getData());\n        })\n      ]);\n    };\n    var SilverDialogEvents = {\n      initUrlDialog: initUrlDialog,\n      initDialog: initDialog\n    };\n\n    var makeButton = function (button, backstage) {\n      return renderFooterButton(button, button.type, backstage);\n    };\n    var lookup$2 = function (compInSystem, footerButtons, buttonName) {\n      return find(footerButtons, function (button) {\n        return button.name === buttonName;\n      }).bind(function (memButton) {\n        return memButton.memento.getOpt(compInSystem);\n      });\n    };\n    var renderComponents = function (_data, state) {\n      var footerButtons = state.map(function (s) {\n        return s.footerButtons;\n      }).getOr([]);\n      var buttonGroups = partition(footerButtons, function (button) {\n        return button.align === 'start';\n      });\n      var makeGroup = function (edge, buttons) {\n        return Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-' + edge]\n          },\n          components: map(buttons, function (button) {\n            return button.memento.asSpec();\n          })\n        });\n      };\n      var startButtons = makeGroup('start', buttonGroups.pass);\n      var endButtons = makeGroup('end', buttonGroups.fail);\n      return [\n        startButtons,\n        endButtons\n      ];\n    };\n    var renderFooter = function (initSpec, backstage) {\n      var updateState = function (_comp, data) {\n        var footerButtons = map(data.buttons, function (button) {\n          var memButton = record(makeButton(button, backstage));\n          return {\n            name: button.name,\n            align: button.align,\n            memento: memButton\n          };\n        });\n        var lookupByName = function (compInSystem, buttonName) {\n          return lookup$2(compInSystem, footerButtons, buttonName);\n        };\n        return Option.some({\n          lookupByName: lookupByName,\n          footerButtons: footerButtons\n        });\n      };\n      return {\n        dom: fromHtml$2('<div class=\"tox-dialog__footer\"></div>'),\n        components: [],\n        behaviours: derive$1([Reflecting.config({\n            channel: footerChannel,\n            initialData: initSpec,\n            updateState: updateState,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderInlineFooter = function (initSpec, backstage) {\n      return renderFooter(initSpec, backstage);\n    };\n    var renderModalFooter = function (initSpec, backstage) {\n      return ModalDialog.parts().footer(renderFooter(initSpec, backstage));\n    };\n\n    var getCompByName = function (access, name) {\n      var root = access.getRoot();\n      if (root.getSystem().isConnected()) {\n        var form_1 = Composing.getCurrent(access.getFormWrapper()).getOr(access.getFormWrapper());\n        return Form.getField(form_1, name).fold(function () {\n          var footer = access.getFooter();\n          var footerState = Reflecting.getState(footer);\n          return footerState.get().bind(function (f) {\n            return f.lookupByName(form_1, name);\n          });\n        }, function (comp) {\n          return Option.some(comp);\n        });\n      } else {\n        return Option.none();\n      }\n    };\n    var validateData = function (access, data) {\n      var root = access.getRoot();\n      return Reflecting.getState(root).get().map(function (dialogState) {\n        return getOrDie(asRaw('data', dialogState.dataValidator, data));\n      }).getOr(data);\n    };\n    var getDialogApi = function (access, doRedial, menuItemStates) {\n      var withRoot = function (f) {\n        var root = access.getRoot();\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var getData = function () {\n        var root = access.getRoot();\n        var valueComp = root.getSystem().isConnected() ? access.getFormWrapper() : root;\n        var representedValues = Representing.getValue(valueComp);\n        var menuItemCurrentState = map$1(menuItemStates, function (cell) {\n          return cell.get();\n        });\n        return __assign(__assign({}, representedValues), menuItemCurrentState);\n      };\n      var setData = function (newData) {\n        withRoot(function (_) {\n          var prevData = instanceApi.getData();\n          var mergedData = merge(prevData, newData);\n          var newInternalData = validateData(access, mergedData);\n          var form = access.getFormWrapper();\n          Representing.setValue(form, newInternalData);\n          each$1(menuItemStates, function (v, k) {\n            if (has(mergedData, k)) {\n              v.set(mergedData[k]);\n            }\n          });\n        });\n      };\n      var disable = function (name) {\n        getCompByName(access, name).each(Disabling.disable);\n      };\n      var enable = function (name) {\n        getCompByName(access, name).each(Disabling.enable);\n      };\n      var focus = function (name) {\n        getCompByName(access, name).each(Focusing.focus);\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var showTab = function (name) {\n        withRoot(function (_) {\n          var body = access.getBody();\n          var bodyState = Reflecting.getState(body);\n          if (bodyState.get().exists(function (b) {\n              return b.isTabPanel();\n            })) {\n            Composing.getCurrent(body).each(function (tabSection) {\n              TabSection.showTab(tabSection, name);\n            });\n          }\n        });\n      };\n      var redial = function (d) {\n        withRoot(function (root) {\n          var dialogInit = doRedial(d);\n          root.getSystem().broadcastOn([dialogChannel], dialogInit);\n          root.getSystem().broadcastOn([titleChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([bodyChannel], dialogInit.internalDialog);\n          root.getSystem().broadcastOn([footerChannel], dialogInit.internalDialog);\n          instanceApi.setData(dialogInit.initialData);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var instanceApi = {\n        getData: getData,\n        setData: setData,\n        disable: disable,\n        enable: enable,\n        focus: focus,\n        block: block,\n        unblock: unblock,\n        showTab: showTab,\n        redial: redial,\n        close: close\n      };\n      return instanceApi;\n    };\n\n    var renderClose = function (providersBackstage) {\n      return Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close'),\n            'title': providersBackstage.translate('Close')\n          }\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-icon'],\n              innerHtml: '<svg width=\"24\" height=\"24\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z\" fill-rule=\"evenodd\"></path></svg>'\n            }\n          }],\n        action: function (comp) {\n          emit(comp, formCancelEvent);\n        }\n      });\n    };\n    var renderTitle = function (spec, id, providersBackstage) {\n      var renderComponents = function (data) {\n        return [text(providersBackstage.translate(data.title))];\n      };\n      return {\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          attributes: __assign({}, id.map(function (x) {\n            return { id: x };\n          }).getOr({}))\n        },\n        components: renderComponents(spec),\n        behaviours: derive$1([Reflecting.config({\n            channel: titleChannel,\n            renderComponents: renderComponents\n          })])\n      };\n    };\n    var renderDragHandle = function () {\n      return { dom: fromHtml$2('<div class=\"tox-dialog__draghandle\"></div>') };\n    };\n    var renderInlineHeader = function (spec, titleId, providersBackstage) {\n      return Container.sketch({\n        dom: fromHtml$2('<div class=\"tox-dialog__header\"></div>'),\n        components: [\n          renderTitle(spec, Option.some(titleId), providersBackstage),\n          renderDragHandle(),\n          renderClose(providersBackstage)\n        ],\n        containerBehaviours: derive$1([Dragging.config({\n            mode: 'mouse',\n            blockerClass: 'blocker',\n            getTarget: function (handle) {\n              return closest$3(handle, '[role=\"dialog\"]').getOrDie();\n            },\n            snaps: {\n              getSnapPoints: function () {\n                return [];\n              },\n              leftAttr: 'data-drag-left',\n              topAttr: 'data-drag-top'\n            }\n          })])\n      });\n    };\n    var renderModalHeader = function (spec, providersBackstage) {\n      var pTitle = ModalDialog.parts().title(renderTitle(spec, Option.none(), providersBackstage));\n      var pHandle = ModalDialog.parts().draghandle(renderDragHandle());\n      var pClose = ModalDialog.parts().close(renderClose(providersBackstage));\n      var components = [pTitle].concat(spec.draggable ? [pHandle] : []).concat([pClose]);\n      return Container.sketch({\n        dom: fromHtml$2('<div class=\"tox-dialog__header\"></div>'),\n        components: components\n      });\n    };\n\n    var isTouch$4 = global$6.deviceType.isTouch();\n    var getHeader = function (title, backstage) {\n      return renderModalHeader({\n        title: backstage.shared.providers.translate(title),\n        draggable: backstage.dialog.isDraggableModal()\n      }, backstage.shared.providers);\n    };\n    var getEventExtras = function (lazyDialog, extra) {\n      return {\n        onClose: function () {\n          return extra.closeWindow();\n        },\n        onBlock: function (blockEvent) {\n          ModalDialog.setBusy(lazyDialog(), function (d, bs) {\n            return {\n              dom: {\n                tag: 'div',\n                classes: ['tox-dialog__busy-spinner'],\n                attributes: { 'aria-label': blockEvent.message() },\n                styles: {\n                  left: '0px',\n                  right: '0px',\n                  bottom: '0px',\n                  top: '0px',\n                  position: 'absolute'\n                }\n              },\n              behaviours: bs,\n              components: [{ dom: fromHtml$2('<div class=\"tox-spinner\"><div></div><div></div><div></div></div>') }]\n            };\n          });\n        },\n        onUnblock: function () {\n          ModalDialog.setIdle(lazyDialog());\n        }\n      };\n    };\n    var renderModalDialog = function (spec, initialData, dialogEvents, backstage) {\n      var _a;\n      var updateState = function (_comp, incoming) {\n        return Option.some(incoming);\n      };\n      return build$1(ModalDialog.sketch({\n        lazySink: backstage.shared.getSink,\n        onEscape: function (c) {\n          emit(c, formCancelEvent);\n          return Option.some(true);\n        },\n        useTabstopAt: function (elem) {\n          return !NavigableObject.isPseudoStop(elem);\n        },\n        modalBehaviours: derive$1(__spreadArrays([\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: initialData\n          }),\n          RepresentingConfigs.memory({}),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, se) {\n              Keying.focusIn(comp);\n            })])),\n          config('scroll-lock', [\n            runOnAttached(function () {\n              add$2(body(), 'tox-dialog__disable-scroll');\n            }),\n            runOnDetached(function () {\n              remove$4(body(), 'tox-dialog__disable-scroll');\n            })\n          ])\n        ], spec.extraBehaviours)),\n        eventOrder: (_a = {}, _a[execute()] = ['execute-on-form'], _a[receive()] = [\n          'reflecting',\n          'receiving'\n        ], _a[attachedToDom()] = [\n          'scroll-lock',\n          'reflecting',\n          'messages',\n          'execute-on-form',\n          'alloy.base.behaviour'\n        ], _a[detachedFromDom()] = [\n          'alloy.base.behaviour',\n          'execute-on-form',\n          'messages',\n          'reflecting',\n          'scroll-lock'\n        ], _a),\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog'].concat(spec.extraClasses),\n          styles: __assign({ position: 'relative' }, spec.extraStyles)\n        },\n        components: __spreadArrays([\n          spec.header,\n          spec.body\n        ], spec.footer.toArray()),\n        dragBlockClass: 'tox-dialog-wrap',\n        parts: {\n          blocker: {\n            dom: fromHtml$2('<div class=\"tox-dialog-wrap\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch$4 ? [\n                    'tox-dialog-wrap__backdrop',\n                    'tox-dialog-wrap__backdrop--opaque'\n                  ] : ['tox-dialog-wrap__backdrop']\n                }\n              }]\n          }\n        }\n      }));\n    };\n    var mapMenuButtons = function (buttons) {\n      var mapItems = function (button) {\n        var items = map(button.items, function (item) {\n          var cell = Cell(false);\n          return __assign(__assign({}, item), { storage: cell });\n        });\n        return __assign(__assign({}, button), { items: items });\n      };\n      return map(buttons, function (button) {\n        if (button.type === 'menu') {\n          return mapItems(button);\n        }\n        return button;\n      });\n    };\n    var extractCellsToObject = function (buttons) {\n      return foldl(buttons, function (acc, button) {\n        if (button.type === 'menu') {\n          var menuButton = button;\n          return foldl(menuButton.items, function (innerAcc, item) {\n            innerAcc[item.name] = item.storage;\n            return innerAcc;\n          }, acc);\n        }\n        return acc;\n      }, {});\n    };\n\n    var renderDialog = function (dialogInit, extra, backstage) {\n      var header = getHeader(dialogInit.internalDialog.title, backstage);\n      var body = renderModalBody({ body: dialogInit.internalDialog.body }, backstage);\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var footer = renderModalFooter({ buttons: storagedMenuButtons }, backstage);\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, extra));\n      var dialogSize = dialogInit.internalDialog.size !== 'normal' ? dialogInit.internalDialog.size === 'large' ? ['tox-dialog--width-lg'] : ['tox-dialog--width-md'] : [];\n      var spec = {\n        header: header,\n        body: body,\n        footer: Option.some(footer),\n        extraClasses: dialogSize,\n        extraBehaviours: [],\n        extraStyles: {}\n      };\n      var dialog = renderModalDialog(spec, dialogInit, dialogEvents, backstage);\n      var modalAccess = function () {\n        var getForm = function () {\n          var outerForm = ModalDialog.getBody(dialog);\n          return Composing.getCurrent(outerForm).getOr(outerForm);\n        };\n        return {\n          getRoot: function () {\n            return dialog;\n          },\n          getBody: function () {\n            return ModalDialog.getBody(dialog);\n          },\n          getFooter: function () {\n            return ModalDialog.getFooter(dialog);\n          },\n          getFormWrapper: getForm\n        };\n      }();\n      var instanceApi = getDialogApi(modalAccess, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var global$g = tinymce.util.Tools.resolve('tinymce.util.URI');\n\n    var getUrlDialogApi = function (root) {\n      var withRoot = function (f) {\n        if (root.getSystem().isConnected()) {\n          f(root);\n        }\n      };\n      var block = function (message) {\n        if (!isString(message)) {\n          throw new Error('The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument');\n        }\n        withRoot(function (root) {\n          emitWith(root, formBlockEvent, { message: message });\n        });\n      };\n      var unblock = function () {\n        withRoot(function (root) {\n          emit(root, formUnblockEvent);\n        });\n      };\n      var close = function () {\n        withRoot(function (root) {\n          emit(root, formCloseEvent);\n        });\n      };\n      var sendMessage = function (data) {\n        withRoot(function (root) {\n          root.getSystem().broadcastOn([bodySendMessageChannel], data);\n        });\n      };\n      return {\n        block: block,\n        unblock: unblock,\n        close: close,\n        sendMessage: sendMessage\n      };\n    };\n\n    var SUPPORTED_MESSAGE_ACTIONS = [\n      'insertContent',\n      'setContent',\n      'execCommand',\n      'close',\n      'block',\n      'unblock'\n    ];\n    var isSupportedMessage = function (data) {\n      return isObject(data) && SUPPORTED_MESSAGE_ACTIONS.indexOf(data.mceAction) !== -1;\n    };\n    var isCustomMessage = function (data) {\n      return !isSupportedMessage(data) && isObject(data) && has(data, 'mceAction');\n    };\n    var handleMessage = function (editor, api, data) {\n      switch (data.mceAction) {\n      case 'insertContent':\n        editor.insertContent(data.content);\n        break;\n      case 'setContent':\n        editor.setContent(data.content);\n        break;\n      case 'execCommand':\n        var ui = isBoolean(data.ui) ? data.ui : false;\n        editor.execCommand(data.cmd, ui, data.value);\n        break;\n      case 'close':\n        api.close();\n        break;\n      case 'block':\n        api.block(data.message);\n        break;\n      case 'unblock':\n        api.unblock();\n        break;\n      }\n    };\n    var renderUrlDialog = function (internalDialog, extra, editor, backstage) {\n      var _a;\n      var header = getHeader(internalDialog.title, backstage);\n      var body = renderIframeBody(internalDialog);\n      var footer = internalDialog.buttons.bind(function (buttons) {\n        if (buttons.length === 0) {\n          return Option.none();\n        } else {\n          return Option.some(renderModalFooter({ buttons: buttons }, backstage));\n        }\n      });\n      var dialogEvents = SilverDialogEvents.initUrlDialog(function () {\n        return instanceApi;\n      }, getEventExtras(function () {\n        return dialog;\n      }, extra));\n      var styles = __assign(__assign({}, internalDialog.height.fold(function () {\n        return {};\n      }, function (height) {\n        return {\n          'height': height + 'px',\n          'max-height': height + 'px'\n        };\n      })), internalDialog.width.fold(function () {\n        return {};\n      }, function (width) {\n        return {\n          'width': width + 'px',\n          'max-width': width + 'px'\n        };\n      }));\n      var classes = internalDialog.width.isNone() && internalDialog.height.isNone() ? ['tox-dialog--width-lg'] : [];\n      var iframeUri = new global$g(internalDialog.url, { base_uri: new global$g(domGlobals.window.location.href) });\n      var iframeDomain = iframeUri.protocol + '://' + iframeUri.host + (iframeUri.port ? ':' + iframeUri.port : '');\n      var messageHandlerUnbinder = Cell(Option.none());\n      var extraBehaviours = [\n        config('messages', [\n          runOnAttached(function () {\n            var unbind = bind$3(Element.fromDom(domGlobals.window), 'message', function (e) {\n              if (iframeUri.isSameOrigin(new global$g(e.raw().origin))) {\n                var data = e.raw().data;\n                if (isSupportedMessage(data)) {\n                  handleMessage(editor, instanceApi, data);\n                } else if (isCustomMessage(data)) {\n                  internalDialog.onMessage(instanceApi, data);\n                }\n              }\n            });\n            messageHandlerUnbinder.set(Option.some(unbind));\n          }),\n          runOnDetached(function () {\n            messageHandlerUnbinder.get().each(function (unbinder) {\n              return unbinder.unbind();\n            });\n          })\n        ]),\n        Receiving.config({\n          channels: (_a = {}, _a[bodySendMessageChannel] = {\n            onReceive: function (comp, data) {\n              descendant$1(comp.element(), 'iframe').each(function (iframeEle) {\n                var iframeWin = iframeEle.dom().contentWindow;\n                iframeWin.postMessage(data, iframeDomain);\n              });\n            }\n          }, _a)\n        })\n      ];\n      var spec = {\n        header: header,\n        body: body,\n        footer: footer,\n        extraClasses: classes,\n        extraBehaviours: extraBehaviours,\n        extraStyles: styles\n      };\n      var dialog = renderModalDialog(spec, internalDialog, dialogEvents, backstage);\n      var instanceApi = getUrlDialogApi(dialog);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var renderInlineDialog = function (dialogInit, extra, backstage, ariaAttrs) {\n      var _a, _b;\n      var dialogLabelId = generate$1('dialog-label');\n      var dialogContentId = generate$1('dialog-content');\n      var updateState = function (_comp, incoming) {\n        return Option.some(incoming);\n      };\n      var memHeader = record(renderInlineHeader({\n        title: dialogInit.internalDialog.title,\n        draggable: true\n      }, dialogLabelId, backstage.shared.providers));\n      var memBody = record(renderInlineBody({ body: dialogInit.internalDialog.body }, dialogContentId, backstage, ariaAttrs));\n      var storagedMenuButtons = mapMenuButtons(dialogInit.internalDialog.buttons);\n      var objOfCells = extractCellsToObject(storagedMenuButtons);\n      var memFooter = record(renderInlineFooter({ buttons: storagedMenuButtons }, backstage));\n      var dialogEvents = SilverDialogEvents.initDialog(function () {\n        return instanceApi;\n      }, {\n        onBlock: function () {\n        },\n        onUnblock: function () {\n        },\n        onClose: function () {\n          return extra.closeWindow();\n        }\n      });\n      var dialog = build$1({\n        dom: {\n          tag: 'div',\n          classes: [\n            'tox-dialog',\n            'tox-dialog-inline'\n          ],\n          attributes: (_a = { role: 'dialog' }, _a['aria-labelledby'] = dialogLabelId, _a['aria-describedby'] = '' + dialogContentId, _a)\n        },\n        eventOrder: (_b = {}, _b[receive()] = [\n          Reflecting.name(),\n          Receiving.name()\n        ], _b[execute()] = ['execute-on-form'], _b[attachedToDom()] = [\n          'reflecting',\n          'execute-on-form'\n        ], _b),\n        behaviours: derive$1([\n          Keying.config({\n            mode: 'cyclic',\n            onEscape: function (c) {\n              emit(c, formCloseEvent);\n              return Option.some(true);\n            },\n            useTabstopAt: function (elem) {\n              return !NavigableObject.isPseudoStop(elem) && (name(elem) !== 'button' || get$2(elem, 'disabled') !== 'disabled');\n            }\n          }),\n          Reflecting.config({\n            channel: dialogChannel,\n            updateState: updateState,\n            initialData: dialogInit\n          }),\n          Focusing.config({}),\n          config('execute-on-form', dialogEvents.concat([runOnSource(focusin(), function (comp, se) {\n              Keying.focusIn(comp);\n            })])),\n          RepresentingConfigs.memory({})\n        ]),\n        components: [\n          memHeader.asSpec(),\n          memBody.asSpec(),\n          memFooter.asSpec()\n        ]\n      });\n      var instanceApi = getDialogApi({\n        getRoot: function () {\n          return dialog;\n        },\n        getFooter: function () {\n          return memFooter.get(dialog);\n        },\n        getBody: function () {\n          return memBody.get(dialog);\n        },\n        getFormWrapper: function () {\n          var body = memBody.get(dialog);\n          return Composing.getCurrent(body).getOr(body);\n        }\n      }, extra.redial, objOfCells);\n      return {\n        dialog: dialog,\n        instanceApi: instanceApi\n      };\n    };\n\n    var isTouch$5 = global$6.deviceType.isTouch();\n    var hiddenHeader = {\n      dom: {\n        tag: 'div',\n        styles: { display: 'none' },\n        classes: ['tox-dialog__header']\n      }\n    };\n    var defaultHeader = {\n      dom: {\n        tag: 'div',\n        classes: ['tox-dialog__header']\n      }\n    };\n    var pClose = function (onClose, providersBackstage) {\n      return ModalDialog.parts().close(Button.sketch({\n        dom: {\n          tag: 'button',\n          classes: [\n            'tox-button',\n            'tox-button--icon',\n            'tox-button--naked'\n          ],\n          attributes: {\n            'type': 'button',\n            'aria-label': providersBackstage.translate('Close')\n          }\n        },\n        action: onClose,\n        buttonBehaviours: derive$1([Tabstopping.config({})])\n      }));\n    };\n    var pUntitled = function () {\n      return ModalDialog.parts().title({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__title'],\n          innerHtml: '',\n          styles: { display: 'none' }\n        }\n      });\n    };\n    var pBodyMessage = function (message, providersBackstage) {\n      return ModalDialog.parts().body({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__body']\n        },\n        components: [{\n            dom: {\n              tag: 'div',\n              classes: ['tox-dialog__body-content']\n            },\n            components: [{ dom: fromHtml$2('<p>' + providersBackstage.translate(message) + '</p>') }]\n          }]\n      });\n    };\n    var pFooter = function (buttons) {\n      return ModalDialog.parts().footer({\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog__footer']\n        },\n        components: buttons\n      });\n    };\n    var pFooterGroup = function (startButtons, endButtons) {\n      return [\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-start']\n          },\n          components: startButtons\n        }),\n        Container.sketch({\n          dom: {\n            tag: 'div',\n            classes: ['tox-dialog__footer-end']\n          },\n          components: endButtons\n        })\n      ];\n    };\n    var renderDialog$1 = function (spec) {\n      return ModalDialog.sketch({\n        lazySink: spec.lazySink,\n        onEscape: function () {\n          spec.onCancel();\n          return Option.some(true);\n        },\n        dom: {\n          tag: 'div',\n          classes: ['tox-dialog'].concat(spec.extraClasses)\n        },\n        components: [\n          deepMerge(spec.headerOverride.getOr(defaultHeader), {\n            components: [\n              spec.partSpecs.title,\n              spec.partSpecs.close\n            ]\n          }),\n          spec.partSpecs.body,\n          spec.partSpecs.footer\n        ],\n        parts: {\n          blocker: {\n            dom: fromHtml$2('<div class=\"tox-dialog-wrap\"></div>'),\n            components: [{\n                dom: {\n                  tag: 'div',\n                  classes: isTouch$5 ? [\n                    'tox-dialog-wrap__backdrop',\n                    'tox-dialog-wrap__backdrop--opaque'\n                  ] : ['tox-dialog-wrap__backdrop']\n                }\n              }]\n          }\n        },\n        modalBehaviours: derive$1([config('basic-dialog-events', [\n            run(formCancelEvent, function (comp, se) {\n              spec.onCancel();\n            }),\n            run(formSubmitEvent, function (comp, se) {\n              spec.onSubmit();\n            })\n          ])])\n      });\n    };\n\n    var setup$c = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function () {\n          ModalDialog.hide(alertDialog);\n          callback();\n        };\n        var memFooterClose = record(renderFooterButton({\n          name: 'close-alert',\n          text: 'OK',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Option.none()\n        }, 'cancel', extras.backstage));\n        var alertDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          headerOverride: Option.some(hiddenHeader),\n          partSpecs: {\n            title: pUntitled(),\n            close: pClose(function () {\n              closeDialog();\n            }, sharedBackstage.providers),\n            body: pBodyMessage(message, sharedBackstage.providers),\n            footer: pFooter(pFooterGroup([], [memFooterClose.asSpec()]))\n          },\n          onCancel: function () {\n            return closeDialog();\n          },\n          onSubmit: noop,\n          extraClasses: ['tox-alert-dialog']\n        }));\n        ModalDialog.show(alertDialog);\n        var footerCloseButton = memFooterClose.get(alertDialog);\n        Focusing.focus(footerCloseButton);\n      };\n      return { open: open };\n    };\n\n    var setup$d = function (extras) {\n      var sharedBackstage = extras.backstage.shared;\n      var open = function (message, callback) {\n        var closeDialog = function (state) {\n          ModalDialog.hide(confirmDialog);\n          callback(state);\n        };\n        var memFooterYes = record(renderFooterButton({\n          name: 'yes',\n          text: 'Yes',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Option.none()\n        }, 'submit', extras.backstage));\n        var footerNo = renderFooterButton({\n          name: 'no',\n          text: 'No',\n          primary: true,\n          align: 'end',\n          disabled: false,\n          icon: Option.none()\n        }, 'cancel', extras.backstage);\n        var confirmDialog = build$1(renderDialog$1({\n          lazySink: function () {\n            return sharedBackstage.getSink();\n          },\n          headerOverride: Option.some(hiddenHeader),\n          partSpecs: {\n            title: pUntitled(),\n            close: pClose(function () {\n              closeDialog(false);\n            }, sharedBackstage.providers),\n            body: pBodyMessage(message, sharedBackstage.providers),\n            footer: pFooter(pFooterGroup([], [\n              footerNo,\n              memFooterYes.asSpec()\n            ]))\n          },\n          onCancel: function () {\n            return closeDialog(false);\n          },\n          onSubmit: function () {\n            return closeDialog(true);\n          },\n          extraClasses: ['tox-confirm-dialog']\n        }));\n        ModalDialog.show(confirmDialog);\n        var footerYesButton = memFooterYes.get(confirmDialog);\n        Focusing.focus(footerYesButton);\n      };\n      return { open: open };\n    };\n\n    var validateData$1 = function (data, validator) {\n      return getOrDie(asRaw('data', validator, data));\n    };\n    var inlineAdditionalBehaviours = function (editor, isStickyToolbar) {\n      if (isStickyToolbar) {\n        return [];\n      } else {\n        return [Docking.config({\n            contextual: {\n              lazyContext: function () {\n                return Option.some(box(Element.fromDom(editor.getContentAreaContainer())));\n              },\n              fadeInClass: 'tox-dialog-dock-fadein',\n              fadeOutClass: 'tox-dialog-dock-fadeout',\n              transitionClass: 'tox-dialog-dock-transition'\n            },\n            leftAttr: 'data-dock-left',\n            topAttr: 'data-dock-top',\n            positionAttr: 'data-dock-pos',\n            modes: ['top'],\n            lazyViewport: function () {\n              var win$1 = win();\n              var headerEle = descendant$1(Element.fromDom(editor.getContainer()), '.tox-editor-header').getOrDie();\n              var headerBounds = absolute$1(headerEle);\n              var topBounds = Math.max(win$1.y(), headerBounds.bottom());\n              return bounds$1(win$1.x(), topBounds, win$1.width(), win$1.bottom() - topBounds);\n            }\n          })];\n      }\n    };\n    var setup$e = function (extras) {\n      var backstage = extras.backstage;\n      var editor = extras.editor;\n      var isStickyToolbar$1 = isStickyToolbar(editor);\n      var alertDialog = setup$c(extras);\n      var confirmDialog = setup$d(extras);\n      var open = function (config, params, closeWindow) {\n        if (params !== undefined && params.inline === 'toolbar') {\n          return openInlineDialog(config, backstage.shared.anchors.toolbar(), closeWindow, params.ariaAttrs);\n        } else if (params !== undefined && params.inline === 'cursor') {\n          return openInlineDialog(config, backstage.shared.anchors.cursor(), closeWindow, params.ariaAttrs);\n        } else {\n          return openModalDialog(config, closeWindow);\n        }\n      };\n      var openUrl = function (config, closeWindow) {\n        return openModalUrlDialog(config, closeWindow);\n      };\n      var openModalUrlDialog = function (config, closeWindow) {\n        var factory = function (contents) {\n          var dialog = renderUrlDialog(contents, {\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, editor, backstage);\n          ModalDialog.show(dialog.dialog);\n          return dialog.instanceApi;\n        };\n        return DialogManager.openUrl(factory, config);\n      };\n      var openModalDialog = function (config, closeWindow) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = internalInitialData;\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var dialog = renderDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              ModalDialog.hide(dialog.dialog);\n              closeWindow(dialog.instanceApi);\n            }\n          }, backstage);\n          ModalDialog.show(dialog.dialog);\n          dialog.instanceApi.setData(initialData);\n          return dialog.instanceApi;\n        };\n        return DialogManager.open(factory, config);\n      };\n      var openInlineDialog = function (config$1, anchor, closeWindow, ariaAttrs) {\n        var factory = function (contents, internalInitialData, dataValidator) {\n          var initialData = validateData$1(internalInitialData, dataValidator);\n          var inlineDialog = value$3();\n          var dialogInit = {\n            dataValidator: dataValidator,\n            initialData: initialData,\n            internalDialog: contents\n          };\n          var refreshDocking = function () {\n            return inlineDialog.on(function (dialog) {\n              Docking.refresh(dialog);\n            });\n          };\n          var dialogUi = renderInlineDialog(dialogInit, {\n            redial: DialogManager.redial,\n            closeWindow: function () {\n              inlineDialog.on(InlineView.hide);\n              editor.off('ResizeEditor', refreshDocking);\n              inlineDialog.clear();\n              closeWindow(dialogUi.instanceApi);\n            }\n          }, backstage, ariaAttrs);\n          var inlineDialogComp = build$1(InlineView.sketch({\n            lazySink: backstage.shared.getSink,\n            dom: {\n              tag: 'div',\n              classes: []\n            },\n            fireDismissalEventInstead: {},\n            inlineBehaviours: derive$1(__spreadArrays([config('window-manager-inline-events', [run(dismissRequested(), function (comp, se) {\n                  emit(dialogUi.dialog, formCancelEvent);\n                })])], inlineAdditionalBehaviours(editor, isStickyToolbar$1)))\n          }));\n          inlineDialog.set(inlineDialogComp);\n          InlineView.showWithin(inlineDialogComp, anchor, premade$1(dialogUi.dialog), Option.some(body()));\n          if (!isStickyToolbar$1) {\n            Docking.refresh(inlineDialogComp);\n            editor.on('ResizeEditor', refreshDocking);\n          }\n          dialogUi.instanceApi.setData(initialData);\n          Keying.focusIn(dialogUi.dialog);\n          return dialogUi.instanceApi;\n        };\n        return DialogManager.open(factory, config$1);\n      };\n      var confirm = function (message, callback) {\n        confirmDialog.open(message, function (state) {\n          callback(state);\n        });\n      };\n      var alert = function (message, callback) {\n        alertDialog.open(message, function () {\n          callback();\n        });\n      };\n      var close = function (instanceApi) {\n        instanceApi.close();\n      };\n      return {\n        open: open,\n        openUrl: openUrl,\n        alert: alert,\n        close: close,\n        confirm: confirm\n      };\n    };\n    var WindowManager = { setup: setup$e };\n\n    function Theme () {\n      global$1.add('silver', function (editor) {\n        var _a = Render.setup(editor), uiMothership = _a.uiMothership, backstage = _a.backstage, renderUI = _a.renderUI, getUi = _a.getUi;\n        Autocompleter.register(editor, backstage.shared);\n        var windowMgr = WindowManager.setup({\n          editor: editor,\n          backstage: backstage\n        });\n        return {\n          renderUI: renderUI,\n          getWindowManagerImpl: constant(windowMgr),\n          getNotificationManagerImpl: function () {\n            return NotificationManagerImpl(editor, { backstage: backstage }, uiMothership);\n          },\n          ui: getUi()\n        };\n      });\n    }\n\n    Theme();\n\n}(window));\n"]}