{"version":3,"sources":["../../public/1.js"],"names":["window","push","module","exports","__webpack_require__","require","AwesomeQRCode","GIFE","__awesome_qr_base_path","Promise","all","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","gifEncoder","apply","catch","oe","t","n","r","s","o","u","a","i","f","Error","code","l","call","length","ByteStream","data","pos","prototype","readByte","peekByte","readBytes","bytes","Array","peekBytes","readString","len","str","String","fromCharCode","readBitArray","arr","bite","readUnsigned","littleEndian","DataParser","stream","output","parse","schema","parseParts","obj","part","parsePart","name","label","value","requires","loop","items","item","parts","parser","skip","bits","parseBits","bitsToNum","bitArray","reduce","details","out","key","slice","index","Parsers","readArray","size","countFunc","parent","count","GIF","gifSchema","arrayBuffer","byteData","Uint8Array","raw","hasImages","frames","image","decompressFrame","buildPatch","frame","totalPixels","descriptor","width","height","pixels","lzw","minCodeSize","blocks","lct","interlaced","deinterlace","dims","top","left","exists","colorTable","gct","gce","delay","disposalType","extras","disposal","transparentColorGiven","transparentIndex","transparentColorIndex","patch","generatePatch","pixelCount","MAX_STACK_SIZE","nullCode","npix","available","clear","code_mask","code_size","end_of_information","in_code","old_code","datum","data_size","first","bi","pi","dstPixels","prefix","suffix","pixelStack","newPixels","rows","cpRow","toRow","fromRow","fromPixels","splice","concat","offsets","steps","pass","patchData","Uint8ClampedArray","colorIndex","color","decompressFrames","subBlocks","terminator","codes","future","userInput","sort","Math","pow","text","blockSize","application","comment","nextCode","schemaGIF","resolution","lsd","QR8bitByte","mode","QRMode","MODE_8BIT_BYTE","parsedData","byteArray","charCodeAt","unshift","getLength","buffer","write","put","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","addData","newData","isDark","row","col","getModuleCount","make","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","totalDataCount","dataCount","QRUtil","getLengthInBits","makeImpl","getBestMaskPattern","test","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","c","minLostPoint","pattern","lostPoint","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","cs","y","x","dark","beginFill","moveTo","lineTo","endFill","getPatternPosition","j","getBCHTypeNumber","mod","floor","getBCHTypeInfo","inc","bitIndex","byteIndex","mask","getMask","PAD0","PAD1","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","rsPoly","getErrorCorrectPolynomial","rawPoly","QRPolynomial","modPoly","modIndex","get","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","L","M","Q","H","QRMaskPattern","PATTERN000","PATTERN001","PATTERN010","PATTERN011","PATTERN100","PATTERN101","PATTERN110","PATTERN111","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","d","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","type","qrCode","sameCount","darkCount","ratio","abs","glog","LOG_TABLE","EXP_TABLE","num","shift","undefined","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","Drawing","_onMakeImage","_elImage","src","_elCanvas","toDataURL","style","display","_safeSetDataURI","fSuccess","fFail","self","_fFail","_fSuccess","_bSupportDataURI","el","document","createElement","fOnError","fOnSuccess","onabort","onerror","onload","htOption","_bIsPainted","_htOption","_oContext","getContext","alt","_callback","callback","_bindElement","bindElement","draw","oQRCode","_tCanvas","nCount","rawSize","rawMargin","margin","ceil","rawViewportSize","whiteMargin","backgroundDimming","nSize","viewportSize","gifBackground","gifFrames","dotScale","save","translate","_bkgCanvas","_bContext","_maskCanvas","_mContext","gif","autoColor","g","b","colorDark","backgroundImage","avgRGB","getAverageRGB","maskedDots","drawImage","rect","fillStyle","fill","binarize","colorLight","agnPatternCenter","xyOffset","bIsDark","isBlkPosCtr","isBlkPos","bProtected","nLeft","nTop","strokeStyle","lineWidth","_fillRectWithMask","inAgnRange","protectorStyle","fillRect","edgeCenter","agnX","agnY","_drawAlignProtector","_drawAlign","logoImage","logoScale","logoMargin","logoCornerRadius","restore","logoSize","_prepareRoundedCornerClip","clip","getImageData","threshold","parseInt","binarizeThreshold","R","G","B","sum","_greyscale","putImageData","_fCanvas","_fContext","getElementById","nodeName","elStyle","console","error","gifOutput","rawBkg","hRawBkg","patchCanvas","hPatchCanvas","forEach","workers","quality","createImageData","set","stdCanvas","hStdCanvas","addFrame","copy","ref","on","blob","FileReader","target","result","readAsDataURL","render","makeImage","isPainted","clearRect","round","nNumber","_getUTF8Length","sText","replacedText","encodeURI","toString","replace","ctx","w","h","beginPath","arcTo","closePath","_setPixel","imageData","p","canvas","maskSrc","bDark","fill_","context","centerX","centerY","nWidth","nHeight","create","vOption","correctLevel","_oQRCode","_oDrawing","makeCode","_getTypeNumber","nCorrectLevel","nType","nLimit","CorrectLevel","imgEl","defaultRGB","rgb","naturalHeight","offsetHeight","naturalWidth","offsetWidth","factory"],"mappings":"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","file":"1.js","sourcesContent":["(window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || []).push([[1],{\n\n/***/ \"./node_modules/awesomeqr/awesome-qr.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/awesomeqr/awesome-qr.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar require;var require;/**\n *  Awesome-qr.js\n *      https://github.com/SumiMakito/Awesome-qr.js\n *\n *  Copyright © 2017 Makito <master@keep.moe>, https://www.keep.moe/\n *\n *  Licensed under Apache License 2.0 License.\n *  Copyright (c) 2017 Makito, https://www.keep.moe\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\n/**\n * @fileoverview\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @author davidshimjs\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n */\n\nvar AwesomeQRCode;\nvar GIFE;\nvar __awesome_qr_base_path = '.'\nPromise.all(/*! AMD require */[__webpack_require__.e(2), __webpack_require__.e(0)]).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(\"./node_modules/awesomeqr sync recursive ^.*\\\\/gif$\")(__awesome_qr_base_path + \"/gif\")]; (function (gifEncoder) {\n    GIFE = gifEncoder;\n}).apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__);}).catch(__webpack_require__.oe);\n\n// gifuct-js.js\n// https://raw.githubusercontent.com/matt-way/gifuct-js/master/dist/gifuct-js.js\n(function () {\n    (function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;\n                    if (!u && a) return require(o, !0);\n                    if (i) return i(o, !0);\n                    var f = new Error(\"Cannot find module '\" + o + \"'\");\n                    throw f.code = \"MODULE_NOT_FOUND\", f\n                }\n                var l = n[o] = {exports: {}};\n                t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];\n                    return s(n ? n : e)\n                }, l, l.exports, e, t, n, r)\n            }\n            return n[o].exports\n        }\n\n        var i = typeof require == \"function\" && require;\n        for (var o = 0; o < r.length; o++) s(r[o]);\n        return s\n    })({\n        1: [function (require, module, exports) {\n\n            // Stream object for reading off bytes from a byte array\n\n            function ByteStream(data) {\n                this.data = data;\n                this.pos = 0;\n            }\n\n            // read the next byte off the stream\n            ByteStream.prototype.readByte = function () {\n                return this.data[this.pos++];\n            };\n\n            // look at the next byte in the stream without updating the stream position\n            ByteStream.prototype.peekByte = function () {\n                return this.data[this.pos];\n            };\n\n            // read an array of bytes\n            ByteStream.prototype.readBytes = function (n) {\n                var bytes = new Array(n);\n                for (var i = 0; i < n; i++) {\n                    bytes[i] = this.readByte();\n                }\n                return bytes;\n            };\n\n            // peek at an array of bytes without updating the stream position\n            ByteStream.prototype.peekBytes = function (n) {\n                var bytes = new Array(n);\n                for (var i = 0; i < n; i++) {\n                    bytes[i] = this.data[this.pos + i];\n                }\n                return bytes;\n            };\n\n            // read a string from a byte set\n            ByteStream.prototype.readString = function (len) {\n                var str = '';\n                for (var i = 0; i < len; i++) {\n                    str += String.fromCharCode(this.readByte());\n                }\n                return str;\n            };\n\n            // read a single byte and return an array of bit booleans\n            ByteStream.prototype.readBitArray = function () {\n                var arr = [];\n                var bite = this.readByte();\n                for (var i = 7; i >= 0; i--) {\n                    arr.push(!!(bite & (1 << i)));\n                }\n                return arr;\n            };\n\n            // read an unsigned int with endian option\n            ByteStream.prototype.readUnsigned = function (littleEndian) {\n                var a = this.readBytes(2);\n                if (littleEndian) {\n                    return (a[1] << 8) + a[0];\n                } else {\n                    return (a[0] << 8) + a[1];\n                }\n            };\n\n            module.exports = ByteStream;\n        }, {}],\n        2: [function (require, module, exports) {\n\n            // Primary data parsing object used to parse byte arrays\n\n            var ByteStream = require('./bytestream');\n\n            function DataParser(data) {\n                this.stream = new ByteStream(data);\n                // the final parsed object from the data\n                this.output = {};\n            }\n\n            DataParser.prototype.parse = function (schema) {\n                // the top level schema is just the top level parts array\n                this.parseParts(this.output, schema);\n                return this.output;\n            };\n\n            // parse a set of hierarchy parts providing the parent object, and the subschema\n            DataParser.prototype.parseParts = function (obj, schema) {\n                for (var i = 0; i < schema.length; i++) {\n                    var part = schema[i];\n                    this.parsePart(obj, part);\n                }\n            };\n\n            DataParser.prototype.parsePart = function (obj, part) {\n                var name = part.label;\n                var value;\n\n                // make sure the part meets any parse requirements\n                if (part.requires && !part.requires(this.stream, this.output, obj)) {\n                    return;\n                }\n\n                if (part.loop) {\n                    // create a parse loop over the parts\n                    var items = [];\n                    while (part.loop(this.stream)) {\n                        var item = {};\n                        this.parseParts(item, part.parts);\n                        items.push(item);\n                    }\n                    obj[name] = items;\n                } else if (part.parts) {\n                    // process any child parts\n                    value = {};\n                    this.parseParts(value, part.parts);\n                    obj[name] = value;\n                } else if (part.parser) {\n                    // parse the value using a parser\n                    value = part.parser(this.stream, this.output, obj);\n                    if (!part.skip) {\n                        obj[name] = value;\n                    }\n                } else if (part.bits) {\n                    // convert the next byte to a set of bit fields\n                    obj[name] = this.parseBits(part.bits);\n                }\n            };\n\n            // combine bits to calculate value\n            function bitsToNum(bitArray) {\n                return bitArray.reduce(function (s, n) {\n                    return s * 2 + n;\n                }, 0);\n            }\n\n            // parse a byte as a bit set (flags and values)\n            DataParser.prototype.parseBits = function (details) {\n                var out = {};\n                var bits = this.stream.readBitArray();\n                for (var key in details) {\n                    var item = details[key];\n                    if (item.length) {\n                        // convert the bit set to value\n                        out[key] = bitsToNum(bits.slice(item.index, item.index + item.length));\n                    } else {\n                        out[key] = bits[item.index];\n                    }\n                }\n                return out;\n            };\n\n            module.exports = DataParser;\n        }, {\"./bytestream\": 1}],\n        3: [function (require, module, exports) {\n\n            // a set of common parsers used with DataParser\n\n            var Parsers = {\n                // read a byte\n                readByte: function () {\n                    return function (stream) {\n                        return stream.readByte();\n                    };\n                },\n                // read an array of bytes\n                readBytes: function (length) {\n                    return function (stream) {\n                        return stream.readBytes(length);\n                    };\n                },\n                // read a string from bytes\n                readString: function (length) {\n                    return function (stream) {\n                        return stream.readString(length);\n                    };\n                },\n                // read an unsigned int (with endian)\n                readUnsigned: function (littleEndian) {\n                    return function (stream) {\n                        return stream.readUnsigned(littleEndian);\n                    };\n                },\n                // read an array of byte sets\n                readArray: function (size, countFunc) {\n                    return function (stream, obj, parent) {\n                        var count = countFunc(stream, obj, parent);\n                        var arr = new Array(count);\n                        for (var i = 0; i < count; i++) {\n                            arr[i] = stream.readBytes(size);\n                        }\n                        return arr;\n                    };\n                }\n            };\n\n            module.exports = Parsers;\n        }, {}],\n        4: [function (require, module, exports) {\n            // export wrapper for exposing library\n\n            var GIF = window.GIF || {};\n\n            //GIF = require('./gif');\n            GIF = require([__awesome_qr_base_path + '/gif']);\n\n            window.GIF = GIF;\n        }, {[__awesome_qr_base_path + '/gif']: 5}],\n        5: [function (require, module, exports) {\n\n            // object used to represent array buffer data for a gif file\n\n            var DataParser = require('../bower_components/js-binary-schema-parser/src/dataparser');\n            var gifSchema = require('./schema');\n\n            function GIF(arrayBuffer) {\n                // convert to byte array\n                var byteData = new Uint8Array(arrayBuffer);\n                var parser = new DataParser(byteData);\n                // parse the data\n                this.raw = parser.parse(gifSchema);\n\n                // set a flag to make sure the gif contains at least one image\n                this.raw.hasImages = false;\n                for (var f = 0; f < this.raw.frames.length; f++) {\n                    if (this.raw.frames[f].image) {\n                        this.raw.hasImages = true;\n                        break;\n                    }\n                }\n            }\n\n            // process a single gif image frames data, decompressing it using LZW\n            // if buildPatch is true, the returned image will be a clamped 8 bit image patch\n            // for use directly with a canvas.\n            GIF.prototype.decompressFrame = function (index, buildPatch) {\n\n                // make sure a valid frame is requested\n                if (index >= this.raw.frames.length) {\n                    return null;\n                }\n\n                var frame = this.raw.frames[index];\n                if (frame.image) {\n                    // get the number of pixels\n                    var totalPixels = frame.image.descriptor.width * frame.image.descriptor.height;\n\n                    // do lzw decompression\n                    var pixels = lzw(frame.image.data.minCodeSize, frame.image.data.blocks, totalPixels);\n\n                    // deal with interlacing if necessary\n                    if (frame.image.descriptor.lct.interlaced) {\n                        pixels = deinterlace(pixels, frame.image.descriptor.width);\n                    }\n\n                    // setup usable image object\n                    var image = {\n                        pixels: pixels,\n                        dims: {\n                            top: frame.image.descriptor.top,\n                            left: frame.image.descriptor.left,\n                            width: frame.image.descriptor.width,\n                            height: frame.image.descriptor.height\n                        }\n                    };\n\n                    // color table\n                    if (frame.image.descriptor.lct && frame.image.descriptor.lct.exists) {\n                        image.colorTable = frame.image.lct;\n                    } else {\n                        image.colorTable = this.raw.gct;\n                    }\n\n                    // add per frame relevant gce information\n                    if (frame.gce) {\n                        image.delay = (frame.gce.delay || 10) * 10; // convert to ms\n                        image.disposalType = frame.gce.extras.disposal;\n                        // transparency\n                        if (frame.gce.extras.transparentColorGiven) {\n                            image.transparentIndex = frame.gce.transparentColorIndex;\n                        }\n                    }\n\n                    // create canvas usable imagedata if desired\n                    if (buildPatch) {\n                        image.patch = generatePatch(image);\n                    }\n\n                    return image;\n                }\n\n                // frame does not contains image\n                return null;\n\n\n                /**\n                 * javascript port of java LZW decompression\n                 * Original java author url: https://gist.github.com/devunwired/4479231\n                 */\n                function lzw(minCodeSize, data, pixelCount) {\n\n                    var MAX_STACK_SIZE = 4096;\n                    var nullCode = -1;\n\n                    var npix = pixelCount;\n                    var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i,\n                        datum, data_size, first, top, bi, pi;\n\n                    var dstPixels = new Array(pixelCount);\n                    var prefix = new Array(MAX_STACK_SIZE);\n                    var suffix = new Array(MAX_STACK_SIZE);\n                    var pixelStack = new Array(MAX_STACK_SIZE + 1);\n\n                    // Initialize GIF data stream decoder.\n                    data_size = minCodeSize;\n                    clear = 1 << data_size;\n                    end_of_information = clear + 1;\n                    available = clear + 2;\n                    old_code = nullCode;\n                    code_size = data_size + 1;\n                    code_mask = (1 << code_size) - 1;\n                    for (code = 0; code < clear; code++) {\n                        prefix[code] = 0;\n                        suffix[code] = code;\n                    }\n\n                    // Decode GIF pixel stream.\n                    datum = bits = count = first = top = pi = bi = 0;\n                    for (i = 0; i < npix;) {\n                        if (top === 0) {\n                            if (bits < code_size) {\n\n                                // get the next byte\n                                datum += data[bi] << bits;\n\n                                bits += 8;\n                                bi++;\n                                continue;\n                            }\n                            // Get the next code.\n                            code = datum & code_mask;\n                            datum >>= code_size;\n                            bits -= code_size;\n                            // Interpret the code\n                            if ((code > available) || (code == end_of_information)) {\n                                break;\n                            }\n                            if (code == clear) {\n                                // Reset decoder.\n                                code_size = data_size + 1;\n                                code_mask = (1 << code_size) - 1;\n                                available = clear + 2;\n                                old_code = nullCode;\n                                continue;\n                            }\n                            if (old_code == nullCode) {\n                                pixelStack[top++] = suffix[code];\n                                old_code = code;\n                                first = code;\n                                continue;\n                            }\n                            in_code = code;\n                            if (code == available) {\n                                pixelStack[top++] = first;\n                                code = old_code;\n                            }\n                            while (code > clear) {\n                                pixelStack[top++] = suffix[code];\n                                code = prefix[code];\n                            }\n\n                            first = suffix[code] & 0xff;\n                            pixelStack[top++] = first;\n\n                            // add a new string to the table, but only if space is available\n                            // if not, just continue with current table until a clear code is found\n                            // (deferred clear code implementation as per GIF spec)\n                            if (available < MAX_STACK_SIZE) {\n                                prefix[available] = old_code;\n                                suffix[available] = first;\n                                available++;\n                                if (((available & code_mask) === 0) && (available < MAX_STACK_SIZE)) {\n                                    code_size++;\n                                    code_mask += available;\n                                }\n                            }\n                            old_code = in_code;\n                        }\n                        // Pop a pixel off the pixel stack.\n                        top--;\n                        dstPixels[pi++] = pixelStack[top];\n                        i++;\n                    }\n\n                    for (i = pi; i < npix; i++) {\n                        dstPixels[i] = 0; // clear missing pixels\n                    }\n\n                    return dstPixels;\n                }\n\n                // deinterlace function from https://github.com/shachaf/jsgif\n                function deinterlace(pixels, width) {\n\n                    var newPixels = new Array(pixels.length);\n                    var rows = pixels.length / width;\n                    var cpRow = function (toRow, fromRow) {\n                        var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n                        newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n                    };\n\n                    // See appendix E.\n                    var offsets = [0, 4, 2, 1];\n                    var steps = [8, 8, 4, 2];\n\n                    var fromRow = 0;\n                    for (var pass = 0; pass < 4; pass++) {\n                        for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n                            cpRow(toRow, fromRow);\n                            fromRow++;\n                        }\n                    }\n\n                    return newPixels;\n                }\n\n                // create a clamped byte array patch for the frame image to be used directly with a canvas\n                // TODO: could potentially squeeze some performance by doing a direct 32bit write per iteration\n                function generatePatch(image) {\n\n                    var totalPixels = image.pixels.length;\n                    var patchData = new Uint8ClampedArray(totalPixels * 4);\n                    for (var i = 0; i < totalPixels; i++) {\n                        var pos = i * 4;\n                        var colorIndex = image.pixels[i];\n                        var color = image.colorTable[colorIndex];\n                        patchData[pos] = color[0];\n                        patchData[pos + 1] = color[1];\n                        patchData[pos + 2] = color[2];\n                        patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n                    }\n\n                    return patchData;\n                }\n            };\n\n            // returns all frames decompressed\n            GIF.prototype.decompressFrames = function (buildPatch) {\n                var frames = [];\n                for (var i = 0; i < this.raw.frames.length; i++) {\n                    var frame = this.raw.frames[i];\n                    if (frame.image) {\n                        frames.push(this.decompressFrame(i, buildPatch));\n                    }\n                }\n                return frames;\n            };\n\n            module.exports = GIF;\n        }, {\"../bower_components/js-binary-schema-parser/src/dataparser\": 2, \"./schema\": 6}],\n        6: [function (require, module, exports) {\n\n            // Schema for the js file parser to use to parse gif files\n            // For js object convenience (re-use), the schema objects are approximately reverse ordered\n\n            // common parsers available\n            var Parsers = require('../bower_components/js-binary-schema-parser/src/parsers');\n\n            // a set of 0x00 terminated subblocks\n            var subBlocks = {\n                label: 'blocks',\n                parser: function (stream) {\n                    var out = [];\n                    var terminator = 0x00;\n                    for (var size = stream.readByte(); size !== terminator; size = stream.readByte()) {\n                        out = out.concat(stream.readBytes(size));\n                    }\n                    return out;\n                }\n            };\n\n            // global control extension\n            var gce = {\n                label: 'gce',\n                requires: function (stream) {\n                    // just peek at the top two bytes, and if true do this\n                    var codes = stream.peekBytes(2);\n                    return codes[0] === 0x21 && codes[1] === 0xF9;\n                },\n                parts: [\n                    {label: 'codes', parser: Parsers.readBytes(2), skip: true},\n                    {label: 'byteSize', parser: Parsers.readByte()},\n                    {\n                        label: 'extras',\n                        bits: {\n                            future: {index: 0, length: 3},\n                            disposal: {index: 3, length: 3},\n                            userInput: {index: 6},\n                            transparentColorGiven: {index: 7}\n                        }\n                    },\n                    {label: 'delay', parser: Parsers.readUnsigned(true)},\n                    {label: 'transparentColorIndex', parser: Parsers.readByte()},\n                    {label: 'terminator', parser: Parsers.readByte(), skip: true}\n                ]\n            };\n\n            // image pipeline block\n            var image = {\n                label: 'image',\n                requires: function (stream) {\n                    // peek at the next byte\n                    var code = stream.peekByte();\n                    return code === 0x2C;\n                },\n                parts: [\n                    {label: 'code', parser: Parsers.readByte(), skip: true},\n                    {\n                        label: 'descriptor', // image descriptor\n                        parts: [\n                            {label: 'left', parser: Parsers.readUnsigned(true)},\n                            {label: 'top', parser: Parsers.readUnsigned(true)},\n                            {label: 'width', parser: Parsers.readUnsigned(true)},\n                            {label: 'height', parser: Parsers.readUnsigned(true)},\n                            {\n                                label: 'lct',\n                                bits: {\n                                    exists: {index: 0},\n                                    interlaced: {index: 1},\n                                    sort: {index: 2},\n                                    future: {index: 3, length: 2},\n                                    size: {index: 5, length: 3}\n                                }\n                            }\n                        ]\n                    }, {\n                        label: 'lct', // optional local color table\n                        requires: function (stream, obj, parent) {\n                            return parent.descriptor.lct.exists;\n                        },\n                        parser: Parsers.readArray(3, function (stream, obj, parent) {\n                            return Math.pow(2, parent.descriptor.lct.size + 1);\n                        })\n                    }, {\n                        label: 'data', // the image data blocks\n                        parts: [\n                            {label: 'minCodeSize', parser: Parsers.readByte()},\n                            subBlocks\n                        ]\n                    }\n                ]\n            };\n\n            // plain text block\n            var text = {\n                label: 'text',\n                requires: function (stream) {\n                    // just peek at the top two bytes, and if true do this\n                    var codes = stream.peekBytes(2);\n                    return codes[0] === 0x21 && codes[1] === 0x01;\n                },\n                parts: [\n                    {label: 'codes', parser: Parsers.readBytes(2), skip: true},\n                    {label: 'blockSize', parser: Parsers.readByte()},\n                    {\n                        label: 'preData',\n                        parser: function (stream, obj, parent) {\n                            return stream.readBytes(parent.text.blockSize);\n                        }\n                    },\n                    subBlocks\n                ]\n            };\n\n            // application block\n            var application = {\n                label: 'application',\n                requires: function (stream, obj, parent) {\n                    // make sure this frame doesn't already have a gce, text, comment, or image\n                    // as that means this block should be attached to the next frame\n                    //if(parent.gce || parent.text || parent.image || parent.comment){ return false; }\n\n                    // peek at the top two bytes\n                    var codes = stream.peekBytes(2);\n                    return codes[0] === 0x21 && codes[1] === 0xFF;\n                },\n                parts: [\n                    {label: 'codes', parser: Parsers.readBytes(2), skip: true},\n                    {label: 'blockSize', parser: Parsers.readByte()},\n                    {\n                        label: 'id',\n                        parser: function (stream, obj, parent) {\n                            return stream.readString(parent.blockSize);\n                        }\n                    },\n                    subBlocks\n                ]\n            };\n\n            // comment block\n            var comment = {\n                label: 'comment',\n                requires: function (stream, obj, parent) {\n                    // make sure this frame doesn't already have a gce, text, comment, or image\n                    // as that means this block should be attached to the next frame\n                    //if(parent.gce || parent.text || parent.image || parent.comment){ return false; }\n\n                    // peek at the top two bytes\n                    var codes = stream.peekBytes(2);\n                    return codes[0] === 0x21 && codes[1] === 0xFE;\n                },\n                parts: [\n                    {label: 'codes', parser: Parsers.readBytes(2), skip: true},\n                    subBlocks\n                ]\n            };\n\n            // frames of ext and image data\n            var frames = {\n                label: 'frames',\n                parts: [\n                    gce,\n                    application,\n                    comment,\n                    image,\n                    text\n                ],\n                loop: function (stream) {\n                    var nextCode = stream.peekByte();\n                    // rather than check for a terminator, we should check for the existence\n                    // of an ext or image block to avoid infinite loops\n                    //var terminator = 0x3B;\n                    //return nextCode !== terminator;\n                    return nextCode === 0x21 || nextCode === 0x2C;\n                }\n            };\n\n            // main GIF schema\n            var schemaGIF = [{\n                label: 'header', // gif header\n                parts: [\n                    {label: 'signature', parser: Parsers.readString(3)},\n                    {label: 'version', parser: Parsers.readString(3)}\n                ]\n            }, {\n                label: 'lsd', // local screen descriptor\n                parts: [\n                    {label: 'width', parser: Parsers.readUnsigned(true)},\n                    {label: 'height', parser: Parsers.readUnsigned(true)},\n                    {\n                        label: 'gct',\n                        bits: {\n                            exists: {index: 0},\n                            resolution: {index: 1, length: 3},\n                            sort: {index: 4},\n                            size: {index: 5, length: 3}\n                        }\n                    },\n                    {label: 'backgroundColorIndex', parser: Parsers.readByte()},\n                    {label: 'pixelAspectRatio', parser: Parsers.readByte()}\n                ]\n            }, {\n                label: 'gct', // global color table\n                requires: function (stream, obj) {\n                    return obj.lsd.gct.exists;\n                },\n                parser: Parsers.readArray(3, function (stream, obj) {\n                    return Math.pow(2, obj.lsd.gct.size + 1);\n                })\n            },\n                frames // content frames\n            ];\n\n            module.exports = schemaGIF;\n        }, {\"../bower_components/js-binary-schema-parser/src/parsers\": 3}]\n    }, {}, [4])\n})();\n\n// QR CODE CORE LIBRARY DEFINITION\n(function () {\n    // QR CODE CORE LIBRARY DEFINITION START\n    // SHOULD NOT BE MODIFIED\n    //\n    // QRCode for JavaScript\n    //\n    // Copyright (c) 2009 Kazuhiko Arase\n    //\n    // URL: http://www.d-project.com/\n    //\n    // Licensed under the MIT license:\n    //   http://www.opensource.org/licenses/mit-license.php\n    //\n    // The word \"QR Code\" is registered trademark of DENSO WAVE INCORPORATED\n    //   http://www.denso-wave.com/qrcode/faqpatent-e.html\n    //\n\n    function QR8bitByte(data) {\n        this.mode = QRMode.MODE_8BIT_BYTE;\n        this.data = data;\n        this.parsedData = [];\n        for (var i = 0, l = this.data.length; i < l; i++) {\n            var byteArray = [];\n            var code = this.data.charCodeAt(i);\n            if (code > 0x10000) {\n                byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n                byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n                byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[3] = 0x80 | (code & 0x3F)\n            } else if (code > 0x800) {\n                byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n                byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n                byteArray[2] = 0x80 | (code & 0x3F)\n            } else if (code > 0x80) {\n                byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n                byteArray[1] = 0x80 | (code & 0x3F)\n            } else {\n                byteArray[0] = code\n            }\n            this.parsedData.push(byteArray)\n        }\n        this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n        if (this.parsedData.length != this.data.length) {\n            this.parsedData.unshift(191);\n            this.parsedData.unshift(187);\n            this.parsedData.unshift(239)\n        }\n    }\n\n    QR8bitByte.prototype = {\n        getLength: function (buffer) {\n            return this.parsedData.length\n        },\n        write: function (buffer) {\n            for (var i = 0, l = this.parsedData.length; i < l; i++) {\n                buffer.put(this.parsedData[i], 8)\n            }\n        }\n    };\n\n    function QRCodeModel(typeNumber, errorCorrectLevel) {\n        this.typeNumber = typeNumber;\n        this.errorCorrectLevel = errorCorrectLevel;\n        this.modules = null;\n        this.moduleCount = 0;\n        this.dataCache = null;\n        this.dataList = []\n    }\n\n    QRCodeModel.prototype = {\n        addData: function (data) {\n            var newData = new QR8bitByte(data);\n            this.dataList.push(newData);\n            this.dataCache = null\n        },\n        isDark: function (row, col) {\n            if (row < 0 || this.moduleCount <= row || col < 0 || this.moduleCount <= col) {\n                throw new Error(row + \",\" + col)\n            }\n            return this.modules[row][col]\n        },\n        getModuleCount: function () {\n            return this.moduleCount\n        },\n        make: function () {\n            /////////////////////////////////////////////\n            if (this.typeNumber < 1) {\n                var typeNumber = 1;\n                for (typeNumber = 1; typeNumber < 40; typeNumber++) {\n                    var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, this.errorCorrectLevel);\n\n                    var buffer = new QRBitBuffer();\n                    var totalDataCount = 0;\n                    for (var i = 0; i < rsBlocks.length; i++) {\n                        totalDataCount += rsBlocks[i].dataCount;\n                    }\n\n                    for (var i = 0; i < this.dataList.length; i++) {\n                        var data = this.dataList[i];\n                        buffer.put(data.mode, 4);\n                        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n                        data.write(buffer);\n                    }\n                    if (buffer.getLengthInBits() <= totalDataCount * 8)\n                        break;\n                }\n                this.typeNumber = typeNumber;\n            }\n            /////////////////////////////////////////////\n            this.makeImpl(!1, this.getBestMaskPattern())\n        },\n        makeImpl: function (test, maskPattern) {\n            this.moduleCount = this.typeNumber * 4 + 17;\n            this.modules = new Array(this.moduleCount);\n            for (var row = 0; row < this.moduleCount; row++) {\n                this.modules[row] = new Array(this.moduleCount);\n                for (var col = 0; col < this.moduleCount; col++) {\n                    this.modules[row][col] = null\n                }\n            }\n            this.setupPositionProbePattern(0, 0);\n            this.setupPositionProbePattern(this.moduleCount - 7, 0);\n            this.setupPositionProbePattern(0, this.moduleCount - 7);\n            this.setupPositionAdjustPattern();\n            this.setupTimingPattern();\n            this.setupTypeInfo(test, maskPattern);\n            if (this.typeNumber >= 7) {\n                this.setupTypeNumber(test)\n            }\n            if (this.dataCache == null) {\n                this.dataCache = QRCodeModel.createData(this.typeNumber, this.errorCorrectLevel, this.dataList)\n            }\n            this.mapData(this.dataCache, maskPattern)\n        },\n        setupPositionProbePattern: function (row, col) {\n            for (var r = -1; r <= 7; r++) {\n                if (row + r <= -1 || this.moduleCount <= row + r) continue;\n                for (var c = -1; c <= 7; c++) {\n                    if (col + c <= -1 || this.moduleCount <= col + c) continue;\n                    if ((0 <= r && r <= 6 && (c == 0 || c == 6)) || (0 <= c && c <= 6 && (r == 0 || r == 6)) || (2 <= r && r <= 4 && 2 <= c && c <= 4)) {\n                        this.modules[row + r][col + c] = !0\n                    } else {\n                        this.modules[row + r][col + c] = !1\n                    }\n                }\n            }\n        },\n        getBestMaskPattern: function () {\n            var minLostPoint = 0;\n            var pattern = 0;\n            for (var i = 0; i < 8; i++) {\n                this.makeImpl(!0, i);\n                var lostPoint = QRUtil.getLostPoint(this);\n                if (i == 0 || minLostPoint > lostPoint) {\n                    minLostPoint = lostPoint;\n                    pattern = i\n                }\n            }\n            return pattern\n        },\n        createMovieClip: function (target_mc, instance_name, depth) {\n            var qr_mc = target_mc.createEmptyMovieClip(instance_name, depth);\n            var cs = 1;\n            this.make();\n            for (var row = 0; row < this.modules.length; row++) {\n                var y = row * cs;\n                for (var col = 0; col < this.modules[row].length; col++) {\n                    var x = col * cs;\n                    var dark = this.modules[row][col];\n                    if (dark) {\n                        qr_mc.beginFill(0, 100);\n                        qr_mc.moveTo(x, y);\n                        qr_mc.lineTo(x + cs, y);\n                        qr_mc.lineTo(x + cs, y + cs);\n                        qr_mc.lineTo(x, y + cs);\n                        qr_mc.endFill()\n                    }\n                }\n            }\n            return qr_mc\n        },\n        setupTimingPattern: function () {\n            for (var r = 8; r < this.moduleCount - 8; r++) {\n                if (this.modules[r][6] != null) {\n                    continue\n                }\n                this.modules[r][6] = (r % 2 == 0)\n            }\n            for (var c = 8; c < this.moduleCount - 8; c++) {\n                if (this.modules[6][c] != null) {\n                    continue\n                }\n                this.modules[6][c] = (c % 2 == 0)\n            }\n        },\n        setupPositionAdjustPattern: function () {\n            var pos = QRUtil.getPatternPosition(this.typeNumber);\n            for (var i = 0; i < pos.length; i++) {\n                for (var j = 0; j < pos.length; j++) {\n                    var row = pos[i];\n                    var col = pos[j];\n                    if (this.modules[row][col] != null) {\n                        continue\n                    }\n                    for (var r = -2; r <= 2; r++) {\n                        for (var c = -2; c <= 2; c++) {\n                            if (r == -2 || r == 2 || c == -2 || c == 2 || (r == 0 && c == 0)) {\n                                this.modules[row + r][col + c] = !0\n                            } else {\n                                this.modules[row + r][col + c] = !1\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        setupTypeNumber: function (test) {\n            var bits = QRUtil.getBCHTypeNumber(this.typeNumber);\n            for (var i = 0; i < 18; i++) {\n                var mod = (!test && ((bits >> i) & 1) == 1);\n                this.modules[Math.floor(i / 3)][i % 3 + this.moduleCount - 8 - 3] = mod\n            }\n            for (var i = 0; i < 18; i++) {\n                var mod = (!test && ((bits >> i) & 1) == 1);\n                this.modules[i % 3 + this.moduleCount - 8 - 3][Math.floor(i / 3)] = mod\n            }\n        },\n        setupTypeInfo: function (test, maskPattern) {\n            var data = (this.errorCorrectLevel << 3) | maskPattern;\n            var bits = QRUtil.getBCHTypeInfo(data);\n            for (var i = 0; i < 15; i++) {\n                var mod = (!test && ((bits >> i) & 1) == 1);\n                if (i < 6) {\n                    this.modules[i][8] = mod\n                } else if (i < 8) {\n                    this.modules[i + 1][8] = mod\n                } else {\n                    this.modules[this.moduleCount - 15 + i][8] = mod\n                }\n            }\n            for (var i = 0; i < 15; i++) {\n                var mod = (!test && ((bits >> i) & 1) == 1);\n                if (i < 8) {\n                    this.modules[8][this.moduleCount - i - 1] = mod\n                } else if (i < 9) {\n                    this.modules[8][15 - i - 1 + 1] = mod\n                } else {\n                    this.modules[8][15 - i - 1] = mod\n                }\n            }\n            this.modules[this.moduleCount - 8][8] = (!test)\n        },\n        mapData: function (data, maskPattern) {\n            var inc = -1;\n            var row = this.moduleCount - 1;\n            var bitIndex = 7;\n            var byteIndex = 0;\n            for (var col = this.moduleCount - 1; col > 0; col -= 2) {\n                if (col == 6) col--;\n                while (!0) {\n                    for (var c = 0; c < 2; c++) {\n                        if (this.modules[row][col - c] == null) {\n                            var dark = !1;\n                            if (byteIndex < data.length) {\n                                dark = (((data[byteIndex] >>> bitIndex) & 1) == 1)\n                            }\n                            var mask = QRUtil.getMask(maskPattern, row, col - c);\n                            if (mask) {\n                                dark = !dark\n                            }\n                            this.modules[row][col - c] = dark;\n                            bitIndex--;\n                            if (bitIndex == -1) {\n                                byteIndex++;\n                                bitIndex = 7\n                            }\n                        }\n                    }\n                    row += inc;\n                    if (row < 0 || this.moduleCount <= row) {\n                        row -= inc;\n                        inc = -inc;\n                        break\n                    }\n                }\n            }\n        }\n    };\n    QRCodeModel.PAD0 = 0xEC;\n    QRCodeModel.PAD1 = 0x11;\n    QRCodeModel.createData = function (typeNumber, errorCorrectLevel, dataList) {\n        var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectLevel);\n        var buffer = new QRBitBuffer();\n        for (var i = 0; i < dataList.length; i++) {\n            var data = dataList[i];\n            buffer.put(data.mode, 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.mode, typeNumber));\n            data.write(buffer)\n        }\n        var totalDataCount = 0;\n        for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount\n        }\n        if (buffer.getLengthInBits() > totalDataCount * 8) {\n            throw new Error(\"code length overflow. (\" + buffer.getLengthInBits() + \">\" + totalDataCount * 8 + \")\")\n        }\n        if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n            buffer.put(0, 4)\n        }\n        while (buffer.getLengthInBits() % 8 != 0) {\n            buffer.putBit(!1)\n        }\n        while (!0) {\n            if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                break\n            }\n            buffer.put(QRCodeModel.PAD0, 8);\n            if (buffer.getLengthInBits() >= totalDataCount * 8) {\n                break\n            }\n            buffer.put(QRCodeModel.PAD1, 8)\n        }\n        return QRCodeModel.createBytes(buffer, rsBlocks)\n    };\n    QRCodeModel.createBytes = function (buffer, rsBlocks) {\n        var offset = 0;\n        var maxDcCount = 0;\n        var maxEcCount = 0;\n        var dcdata = new Array(rsBlocks.length);\n        var ecdata = new Array(rsBlocks.length);\n        for (var r = 0; r < rsBlocks.length; r++) {\n            var dcCount = rsBlocks[r].dataCount;\n            var ecCount = rsBlocks[r].totalCount - dcCount;\n            maxDcCount = Math.max(maxDcCount, dcCount);\n            maxEcCount = Math.max(maxEcCount, ecCount);\n            dcdata[r] = new Array(dcCount);\n            for (var i = 0; i < dcdata[r].length; i++) {\n                dcdata[r][i] = 0xff & buffer.buffer[i + offset]\n            }\n            offset += dcCount;\n            var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n            var rawPoly = new QRPolynomial(dcdata[r], rsPoly.getLength() - 1);\n            var modPoly = rawPoly.mod(rsPoly);\n            ecdata[r] = new Array(rsPoly.getLength() - 1);\n            for (var i = 0; i < ecdata[r].length; i++) {\n                var modIndex = i + modPoly.getLength() - ecdata[r].length;\n                ecdata[r][i] = (modIndex >= 0) ? modPoly.get(modIndex) : 0\n            }\n        }\n        var totalCodeCount = 0;\n        for (var i = 0; i < rsBlocks.length; i++) {\n            totalCodeCount += rsBlocks[i].totalCount\n        }\n        var data = new Array(totalCodeCount);\n        var index = 0;\n        for (var i = 0; i < maxDcCount; i++) {\n            for (var r = 0; r < rsBlocks.length; r++) {\n                if (i < dcdata[r].length) {\n                    data[index++] = dcdata[r][i]\n                }\n            }\n        }\n        for (var i = 0; i < maxEcCount; i++) {\n            for (var r = 0; r < rsBlocks.length; r++) {\n                if (i < ecdata[r].length) {\n                    data[index++] = ecdata[r][i]\n                }\n            }\n        }\n        return data\n    };\n    var QRMode = {MODE_NUMBER: 1 << 0, MODE_ALPHA_NUM: 1 << 1, MODE_8BIT_BYTE: 1 << 2, MODE_KANJI: 1 << 3};\n    var QRErrorCorrectLevel = {L: 1, M: 0, Q: 3, H: 2};\n    var QRMaskPattern = {\n        PATTERN000: 0,\n        PATTERN001: 1,\n        PATTERN010: 2,\n        PATTERN011: 3,\n        PATTERN100: 4,\n        PATTERN101: 5,\n        PATTERN110: 6,\n        PATTERN111: 7\n    };\n    var QRUtil = {\n        PATTERN_POSITION_TABLE: [\n            [],\n            [6, 18],\n            [6, 22],\n            [6, 26],\n            [6, 30],\n            [6, 34],\n            [6, 22, 38],\n            [6, 24, 42],\n            [6, 26, 46],\n            [6, 28, 50],\n            [6, 30, 54],\n            [6, 32, 58],\n            [6, 34, 62],\n            [6, 26, 46, 66],\n            [6, 26, 48, 70],\n            [6, 26, 50, 74],\n            [6, 30, 54, 78],\n            [6, 30, 56, 82],\n            [6, 30, 58, 86],\n            [6, 34, 62, 90],\n            [6, 28, 50, 72, 94],\n            [6, 26, 50, 74, 98],\n            [6, 30, 54, 78, 102],\n            [6, 28, 54, 80, 106],\n            [6, 32, 58, 84, 110],\n            [6, 30, 58, 86, 114],\n            [6, 34, 62, 90, 118],\n            [6, 26, 50, 74, 98, 122],\n            [6, 30, 54, 78, 102, 126],\n            [6, 26, 52, 78, 104, 130],\n            [6, 30, 56, 82, 108, 134],\n            [6, 34, 60, 86, 112, 138],\n            [6, 30, 58, 86, 114, 142],\n            [6, 34, 62, 90, 118, 146],\n            [6, 30, 54, 78, 102, 126, 150],\n            [6, 24, 50, 76, 102, 128, 154],\n            [6, 28, 54, 80, 106, 132, 158],\n            [6, 32, 58, 84, 110, 136, 162],\n            [6, 26, 54, 82, 110, 138, 166],\n            [6, 30, 58, 86, 114, 142, 170]\n        ],\n        G15: (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0),\n        G18: (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0),\n        G15_MASK: (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1),\n        getBCHTypeInfo: function (data) {\n            var d = data << 10;\n            while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15) >= 0) {\n                d ^= (QRUtil.G15 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G15)))\n            }\n            return ((data << 10) | d) ^ QRUtil.G15_MASK\n        },\n        getBCHTypeNumber: function (data) {\n            var d = data << 12;\n            while (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18) >= 0) {\n                d ^= (QRUtil.G18 << (QRUtil.getBCHDigit(d) - QRUtil.getBCHDigit(QRUtil.G18)))\n            }\n            return (data << 12) | d\n        },\n        getBCHDigit: function (data) {\n            var digit = 0;\n            while (data != 0) {\n                digit++;\n                data >>>= 1\n            }\n            return digit\n        },\n        getPatternPosition: function (typeNumber) {\n            return QRUtil.PATTERN_POSITION_TABLE[typeNumber - 1]\n        },\n        getMask: function (maskPattern, i, j) {\n            switch (maskPattern) {\n                case QRMaskPattern.PATTERN000:\n                    return (i + j) % 2 == 0;\n                case QRMaskPattern.PATTERN001:\n                    return i % 2 == 0;\n                case QRMaskPattern.PATTERN010:\n                    return j % 3 == 0;\n                case QRMaskPattern.PATTERN011:\n                    return (i + j) % 3 == 0;\n                case QRMaskPattern.PATTERN100:\n                    return (Math.floor(i / 2) + Math.floor(j / 3)) % 2 == 0;\n                case QRMaskPattern.PATTERN101:\n                    return (i * j) % 2 + (i * j) % 3 == 0;\n                case QRMaskPattern.PATTERN110:\n                    return ((i * j) % 2 + (i * j) % 3) % 2 == 0;\n                case QRMaskPattern.PATTERN111:\n                    return ((i * j) % 3 + (i + j) % 2) % 2 == 0;\n                default:\n                    throw new Error(\"bad maskPattern:\" + maskPattern)\n            }\n        },\n        getErrorCorrectPolynomial: function (errorCorrectLength) {\n            var a = new QRPolynomial([1], 0);\n            for (var i = 0; i < errorCorrectLength; i++) {\n                a = a.multiply(new QRPolynomial([1, QRMath.gexp(i)], 0))\n            }\n            return a\n        },\n        getLengthInBits: function (mode, type) {\n            if (1 <= type && type < 10) {\n                switch (mode) {\n                    case QRMode.MODE_NUMBER:\n                        return 10;\n                    case QRMode.MODE_ALPHA_NUM:\n                        return 9;\n                    case QRMode.MODE_8BIT_BYTE:\n                        return 8;\n                    case QRMode.MODE_KANJI:\n                        return 8;\n                    default:\n                        throw new Error(\"mode:\" + mode)\n                }\n            } else if (type < 27) {\n                switch (mode) {\n                    case QRMode.MODE_NUMBER:\n                        return 12;\n                    case QRMode.MODE_ALPHA_NUM:\n                        return 11;\n                    case QRMode.MODE_8BIT_BYTE:\n                        return 16;\n                    case QRMode.MODE_KANJI:\n                        return 10;\n                    default:\n                        throw new Error(\"mode:\" + mode)\n                }\n            } else if (type < 41) {\n                switch (mode) {\n                    case QRMode.MODE_NUMBER:\n                        return 14;\n                    case QRMode.MODE_ALPHA_NUM:\n                        return 13;\n                    case QRMode.MODE_8BIT_BYTE:\n                        return 16;\n                    case QRMode.MODE_KANJI:\n                        return 12;\n                    default:\n                        throw new Error(\"mode:\" + mode)\n                }\n            } else {\n                throw new Error(\"type:\" + type)\n            }\n        },\n        getLostPoint: function (qrCode) {\n            var moduleCount = qrCode.getModuleCount();\n            var lostPoint = 0;\n            for (var row = 0; row < moduleCount; row++) {\n                for (var col = 0; col < moduleCount; col++) {\n                    var sameCount = 0;\n                    var dark = qrCode.isDark(row, col);\n                    for (var r = -1; r <= 1; r++) {\n                        if (row + r < 0 || moduleCount <= row + r) {\n                            continue\n                        }\n                        for (var c = -1; c <= 1; c++) {\n                            if (col + c < 0 || moduleCount <= col + c) {\n                                continue\n                            }\n                            if (r == 0 && c == 0) {\n                                continue\n                            }\n                            if (dark == qrCode.isDark(row + r, col + c)) {\n                                sameCount++\n                            }\n                        }\n                    }\n                    if (sameCount > 5) {\n                        lostPoint += (3 + sameCount - 5)\n                    }\n                }\n            }\n            for (var row = 0; row < moduleCount - 1; row++) {\n                for (var col = 0; col < moduleCount - 1; col++) {\n                    var count = 0;\n                    if (qrCode.isDark(row, col)) count++;\n                    if (qrCode.isDark(row + 1, col)) count++;\n                    if (qrCode.isDark(row, col + 1)) count++;\n                    if (qrCode.isDark(row + 1, col + 1)) count++;\n                    if (count == 0 || count == 4) {\n                        lostPoint += 3\n                    }\n                }\n            }\n            for (var row = 0; row < moduleCount; row++) {\n                for (var col = 0; col < moduleCount - 6; col++) {\n                    if (qrCode.isDark(row, col) && !qrCode.isDark(row, col + 1) && qrCode.isDark(row, col + 2) && qrCode.isDark(row, col + 3) && qrCode.isDark(row, col + 4) && !qrCode.isDark(row, col + 5) && qrCode.isDark(row, col + 6)) {\n                        lostPoint += 40\n                    }\n                }\n            }\n            for (var col = 0; col < moduleCount; col++) {\n                for (var row = 0; row < moduleCount - 6; row++) {\n                    if (qrCode.isDark(row, col) && !qrCode.isDark(row + 1, col) && qrCode.isDark(row + 2, col) && qrCode.isDark(row + 3, col) && qrCode.isDark(row + 4, col) && !qrCode.isDark(row + 5, col) && qrCode.isDark(row + 6, col)) {\n                        lostPoint += 40\n                    }\n                }\n            }\n            var darkCount = 0;\n            for (var col = 0; col < moduleCount; col++) {\n                for (var row = 0; row < moduleCount; row++) {\n                    if (qrCode.isDark(row, col)) {\n                        darkCount++\n                    }\n                }\n            }\n            var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n            lostPoint += ratio * 10;\n            return lostPoint\n        }\n    };\n    var QRMath = {\n        glog: function (n) {\n            if (n < 1) {\n                throw new Error(\"glog(\" + n + \")\")\n            }\n            return QRMath.LOG_TABLE[n]\n        },\n        gexp: function (n) {\n            while (n < 0) {\n                n += 255\n            }\n            while (n >= 256) {\n                n -= 255\n            }\n            return QRMath.EXP_TABLE[n]\n        },\n        EXP_TABLE: new Array(256),\n        LOG_TABLE: new Array(256)\n    };\n    for (var i = 0; i < 8; i++) {\n        QRMath.EXP_TABLE[i] = 1 << i\n    }\n    for (var i = 8; i < 256; i++) {\n        QRMath.EXP_TABLE[i] = QRMath.EXP_TABLE[i - 4] ^ QRMath.EXP_TABLE[i - 5] ^ QRMath.EXP_TABLE[i - 6] ^ QRMath.EXP_TABLE[i - 8]\n    }\n    for (var i = 0; i < 255; i++) {\n        QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]] = i\n    }\n\n    function QRPolynomial(num, shift) {\n        if (num.length == undefined) {\n            throw new Error(num.length + \"/\" + shift)\n        }\n        var offset = 0;\n        while (offset < num.length && num[offset] == 0) {\n            offset++\n        }\n        this.num = new Array(num.length - offset + shift);\n        for (var i = 0; i < num.length - offset; i++) {\n            this.num[i] = num[i + offset]\n        }\n    }\n\n    QRPolynomial.prototype = {\n        get: function (index) {\n            return this.num[index]\n        },\n        getLength: function () {\n            return this.num.length\n        },\n        multiply: function (e) {\n            var num = new Array(this.getLength() + e.getLength() - 1);\n            for (var i = 0; i < this.getLength(); i++) {\n                for (var j = 0; j < e.getLength(); j++) {\n                    num[i + j] ^= QRMath.gexp(QRMath.glog(this.get(i)) + QRMath.glog(e.get(j)))\n                }\n            }\n            return new QRPolynomial(num, 0)\n        },\n        mod: function (e) {\n            if (this.getLength() - e.getLength() < 0) {\n                return this\n            }\n            var ratio = QRMath.glog(this.get(0)) - QRMath.glog(e.get(0));\n            var num = new Array(this.getLength());\n            for (var i = 0; i < this.getLength(); i++) {\n                num[i] = this.get(i)\n            }\n            for (var i = 0; i < e.getLength(); i++) {\n                num[i] ^= QRMath.gexp(QRMath.glog(e.get(i)) + ratio)\n            }\n            return new QRPolynomial(num, 0).mod(e)\n        }\n    };\n\n    function QRRSBlock(totalCount, dataCount) {\n        this.totalCount = totalCount;\n        this.dataCount = dataCount\n    }\n\n    QRRSBlock.RS_BLOCK_TABLE = [\n        [1, 26, 19],\n        [1, 26, 16],\n        [1, 26, 13],\n        [1, 26, 9],\n        [1, 44, 34],\n        [1, 44, 28],\n        [1, 44, 22],\n        [1, 44, 16],\n        [1, 70, 55],\n        [1, 70, 44],\n        [2, 35, 17],\n        [2, 35, 13],\n        [1, 100, 80],\n        [2, 50, 32],\n        [2, 50, 24],\n        [4, 25, 9],\n        [1, 134, 108],\n        [2, 67, 43],\n        [2, 33, 15, 2, 34, 16],\n        [2, 33, 11, 2, 34, 12],\n        [2, 86, 68],\n        [4, 43, 27],\n        [4, 43, 19],\n        [4, 43, 15],\n        [2, 98, 78],\n        [4, 49, 31],\n        [2, 32, 14, 4, 33, 15],\n        [4, 39, 13, 1, 40, 14],\n        [2, 121, 97],\n        [2, 60, 38, 2, 61, 39],\n        [4, 40, 18, 2, 41, 19],\n        [4, 40, 14, 2, 41, 15],\n        [2, 146, 116],\n        [3, 58, 36, 2, 59, 37],\n        [4, 36, 16, 4, 37, 17],\n        [4, 36, 12, 4, 37, 13],\n        [2, 86, 68, 2, 87, 69],\n        [4, 69, 43, 1, 70, 44],\n        [6, 43, 19, 2, 44, 20],\n        [6, 43, 15, 2, 44, 16],\n        [4, 101, 81],\n        [1, 80, 50, 4, 81, 51],\n        [4, 50, 22, 4, 51, 23],\n        [3, 36, 12, 8, 37, 13],\n        [2, 116, 92, 2, 117, 93],\n        [6, 58, 36, 2, 59, 37],\n        [4, 46, 20, 6, 47, 21],\n        [7, 42, 14, 4, 43, 15],\n        [4, 133, 107],\n        [8, 59, 37, 1, 60, 38],\n        [8, 44, 20, 4, 45, 21],\n        [12, 33, 11, 4, 34, 12],\n        [3, 145, 115, 1, 146, 116],\n        [4, 64, 40, 5, 65, 41],\n        [11, 36, 16, 5, 37, 17],\n        [11, 36, 12, 5, 37, 13],\n        [5, 109, 87, 1, 110, 88],\n        [5, 65, 41, 5, 66, 42],\n        [5, 54, 24, 7, 55, 25],\n        [11, 36, 12],\n        [5, 122, 98, 1, 123, 99],\n        [7, 73, 45, 3, 74, 46],\n        [15, 43, 19, 2, 44, 20],\n        [3, 45, 15, 13, 46, 16],\n        [1, 135, 107, 5, 136, 108],\n        [10, 74, 46, 1, 75, 47],\n        [1, 50, 22, 15, 51, 23],\n        [2, 42, 14, 17, 43, 15],\n        [5, 150, 120, 1, 151, 121],\n        [9, 69, 43, 4, 70, 44],\n        [17, 50, 22, 1, 51, 23],\n        [2, 42, 14, 19, 43, 15],\n        [3, 141, 113, 4, 142, 114],\n        [3, 70, 44, 11, 71, 45],\n        [17, 47, 21, 4, 48, 22],\n        [9, 39, 13, 16, 40, 14],\n        [3, 135, 107, 5, 136, 108],\n        [3, 67, 41, 13, 68, 42],\n        [15, 54, 24, 5, 55, 25],\n        [15, 43, 15, 10, 44, 16],\n        [4, 144, 116, 4, 145, 117],\n        [17, 68, 42],\n        [17, 50, 22, 6, 51, 23],\n        [19, 46, 16, 6, 47, 17],\n        [2, 139, 111, 7, 140, 112],\n        [17, 74, 46],\n        [7, 54, 24, 16, 55, 25],\n        [34, 37, 13],\n        [4, 151, 121, 5, 152, 122],\n        [4, 75, 47, 14, 76, 48],\n        [11, 54, 24, 14, 55, 25],\n        [16, 45, 15, 14, 46, 16],\n        [6, 147, 117, 4, 148, 118],\n        [6, 73, 45, 14, 74, 46],\n        [11, 54, 24, 16, 55, 25],\n        [30, 46, 16, 2, 47, 17],\n        [8, 132, 106, 4, 133, 107],\n        [8, 75, 47, 13, 76, 48],\n        [7, 54, 24, 22, 55, 25],\n        [22, 45, 15, 13, 46, 16],\n        [10, 142, 114, 2, 143, 115],\n        [19, 74, 46, 4, 75, 47],\n        [28, 50, 22, 6, 51, 23],\n        [33, 46, 16, 4, 47, 17],\n        [8, 152, 122, 4, 153, 123],\n        [22, 73, 45, 3, 74, 46],\n        [8, 53, 23, 26, 54, 24],\n        [12, 45, 15, 28, 46, 16],\n        [3, 147, 117, 10, 148, 118],\n        [3, 73, 45, 23, 74, 46],\n        [4, 54, 24, 31, 55, 25],\n        [11, 45, 15, 31, 46, 16],\n        [7, 146, 116, 7, 147, 117],\n        [21, 73, 45, 7, 74, 46],\n        [1, 53, 23, 37, 54, 24],\n        [19, 45, 15, 26, 46, 16],\n        [5, 145, 115, 10, 146, 116],\n        [19, 75, 47, 10, 76, 48],\n        [15, 54, 24, 25, 55, 25],\n        [23, 45, 15, 25, 46, 16],\n        [13, 145, 115, 3, 146, 116],\n        [2, 74, 46, 29, 75, 47],\n        [42, 54, 24, 1, 55, 25],\n        [23, 45, 15, 28, 46, 16],\n        [17, 145, 115],\n        [10, 74, 46, 23, 75, 47],\n        [10, 54, 24, 35, 55, 25],\n        [19, 45, 15, 35, 46, 16],\n        [17, 145, 115, 1, 146, 116],\n        [14, 74, 46, 21, 75, 47],\n        [29, 54, 24, 19, 55, 25],\n        [11, 45, 15, 46, 46, 16],\n        [13, 145, 115, 6, 146, 116],\n        [14, 74, 46, 23, 75, 47],\n        [44, 54, 24, 7, 55, 25],\n        [59, 46, 16, 1, 47, 17],\n        [12, 151, 121, 7, 152, 122],\n        [12, 75, 47, 26, 76, 48],\n        [39, 54, 24, 14, 55, 25],\n        [22, 45, 15, 41, 46, 16],\n        [6, 151, 121, 14, 152, 122],\n        [6, 75, 47, 34, 76, 48],\n        [46, 54, 24, 10, 55, 25],\n        [2, 45, 15, 64, 46, 16],\n        [17, 152, 122, 4, 153, 123],\n        [29, 74, 46, 14, 75, 47],\n        [49, 54, 24, 10, 55, 25],\n        [24, 45, 15, 46, 46, 16],\n        [4, 152, 122, 18, 153, 123],\n        [13, 74, 46, 32, 75, 47],\n        [48, 54, 24, 14, 55, 25],\n        [42, 45, 15, 32, 46, 16],\n        [20, 147, 117, 4, 148, 118],\n        [40, 75, 47, 7, 76, 48],\n        [43, 54, 24, 22, 55, 25],\n        [10, 45, 15, 67, 46, 16],\n        [19, 148, 118, 6, 149, 119],\n        [18, 75, 47, 31, 76, 48],\n        [34, 54, 24, 34, 55, 25],\n        [20, 45, 15, 61, 46, 16]\n    ];\n    QRRSBlock.getRSBlocks = function (typeNumber, errorCorrectLevel) {\n        var rsBlock = QRRSBlock.getRsBlockTable(typeNumber, errorCorrectLevel);\n        if (rsBlock == undefined) {\n            throw new Error(\"bad rs block @ typeNumber:\" + typeNumber + \"/errorCorrectLevel:\" + errorCorrectLevel)\n        }\n        var length = rsBlock.length / 3;\n        var list = [];\n        for (var i = 0; i < length; i++) {\n            var count = rsBlock[i * 3 + 0];\n            var totalCount = rsBlock[i * 3 + 1];\n            var dataCount = rsBlock[i * 3 + 2];\n            for (var j = 0; j < count; j++) {\n                list.push(new QRRSBlock(totalCount, dataCount))\n            }\n        }\n        return list\n    };\n    QRRSBlock.getRsBlockTable = function (typeNumber, errorCorrectLevel) {\n        switch (errorCorrectLevel) {\n            case QRErrorCorrectLevel.L:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n            case QRErrorCorrectLevel.M:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n            case QRErrorCorrectLevel.Q:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n            case QRErrorCorrectLevel.H:\n                return QRRSBlock.RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n            default:\n                return undefined\n        }\n    };\n\n    function QRBitBuffer() {\n        this.buffer = [];\n        this.length = 0\n    }\n\n    QRBitBuffer.prototype = {\n        get: function (index) {\n            var bufIndex = Math.floor(index / 8);\n            return ((this.buffer[bufIndex] >>> (7 - index % 8)) & 1) == 1\n        },\n        put: function (num, length) {\n            for (var i = 0; i < length; i++) {\n                this.putBit(((num >>> (length - i - 1)) & 1) == 1)\n            }\n        },\n        getLengthInBits: function () {\n            return this.length\n        },\n        putBit: function (bit) {\n            var bufIndex = Math.floor(this.length / 8);\n            if (this.buffer.length <= bufIndex) {\n                this.buffer.push(0)\n            }\n            if (bit) {\n                this.buffer[bufIndex] |= (0x80 >>> (this.length % 8))\n            }\n            this.length++\n        }\n    };\n    var QRCodeLimitLength = [\n        [17, 14, 11, 7],\n        [32, 26, 20, 14],\n        [53, 42, 32, 24],\n        [78, 62, 46, 34],\n        [106, 84, 60, 44],\n        [134, 106, 74, 58],\n        [154, 122, 86, 64],\n        [192, 152, 108, 84],\n        [230, 180, 130, 98],\n        [271, 213, 151, 119],\n        [321, 251, 177, 137],\n        [367, 287, 203, 155],\n        [425, 331, 241, 177],\n        [458, 362, 258, 194],\n        [520, 412, 292, 220],\n        [586, 450, 322, 250],\n        [644, 504, 364, 280],\n        [718, 560, 394, 310],\n        [792, 624, 442, 338],\n        [858, 666, 482, 382],\n        [929, 711, 509, 403],\n        [1003, 779, 565, 439],\n        [1091, 857, 611, 461],\n        [1171, 911, 661, 511],\n        [1273, 997, 715, 535],\n        [1367, 1059, 751, 593],\n        [1465, 1125, 805, 625],\n        [1528, 1190, 868, 658],\n        [1628, 1264, 908, 698],\n        [1732, 1370, 982, 742],\n        [1840, 1452, 1030, 790],\n        [1952, 1538, 1112, 842],\n        [2068, 1628, 1168, 898],\n        [2188, 1722, 1228, 958],\n        [2303, 1809, 1283, 983],\n        [2431, 1911, 1351, 1051],\n        [2563, 1989, 1423, 1093],\n        [2699, 2099, 1499, 1139],\n        [2809, 2213, 1579, 1219],\n        [2953, 2331, 1663, 1273]\n    ]\n\n    // END OF QR CODE CORE LIBRARY DEFINITION\n\n    var Drawing = (function () { // Drawing in Canvas\n        function _onMakeImage() {\n            this._elImage.src = this._elCanvas.toDataURL(\"image/png\");\n            this._elImage.style.display = \"block\";\n            this._elCanvas.style.display = \"none\";\n        }\n\n        function _safeSetDataURI(fSuccess, fFail) {\n            var self = this;\n            self._fFail = fFail;\n            self._fSuccess = fSuccess;\n\n            // Check it just once\n            if (self._bSupportDataURI === null) {\n                var el = document.createElement(\"img\");\n                var fOnError = function () {\n                    self._bSupportDataURI = false;\n\n                    if (self._fFail) {\n                        self._fFail.call(self);\n                    }\n                };\n                var fOnSuccess = function () {\n                    self._bSupportDataURI = true;\n\n                    if (self._fSuccess) {\n                        self._fSuccess.call(self);\n                    }\n                };\n\n                el.onabort = fOnError;\n                el.onerror = fOnError;\n                el.onload = fOnSuccess;\n                el.src = \"data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==\"; // the Image contains 1px data.\n                return;\n            } else if (self._bSupportDataURI === true && self._fSuccess) {\n                self._fSuccess.call(self);\n            } else if (self._bSupportDataURI === false && self._fFail) {\n                self._fFail.call(self);\n            }\n        }\n\n        var Drawing = function (htOption) {\n            this._bIsPainted = false;\n\n            this._htOption = htOption;\n            this._elCanvas = document.createElement(\"canvas\");\n            this._elCanvas.width = htOption.size;\n            this._elCanvas.height = htOption.size;\n            this._oContext = this._elCanvas.getContext(\"2d\");\n            this._bIsPainted = false;\n            this._elImage = document.createElement(\"img\");\n            this._elImage.alt = \"Scan me!\";\n            this._elImage.style.display = \"none\";\n            this._bSupportDataURI = null;\n            this._callback = htOption.callback;\n            this._bindElement = htOption.bindElement;\n        };\n\n        Drawing.prototype.draw = function (oQRCode) {\n            var _elImage = this._elImage;\n            var _tCanvas = document.createElement(\"canvas\");\n            var _oContext = _tCanvas.getContext(\"2d\");\n            // var _oContext = this._oContext;\n            var _htOption = this._htOption;\n\n            var nCount = oQRCode.getModuleCount();\n            var rawSize = _htOption.size;\n            var rawMargin = _htOption.margin;\n\n            if (rawMargin < 0 || rawMargin * 2 >= rawSize) {\n                rawMargin = 0;\n            }\n\n            var margin = Math.ceil(rawMargin);\n\n            var rawViewportSize = rawSize - 2 * rawMargin;\n\n            var whiteMargin = _htOption.whiteMargin;\n            var backgroundDimming = _htOption.backgroundDimming;\n            var nSize = Math.ceil(rawViewportSize / nCount);\n            var viewportSize = nSize * nCount;\n            var size = viewportSize + 2 * margin;\n\n            var gifBackground = undefined;\n            var gifFrames = undefined;\n\n            _tCanvas.width = size;\n            _tCanvas.height = size;\n\n            var dotScale = _htOption.dotScale;\n            _elImage.style.display = \"none\";\n            this.clear();\n\n            if (dotScale <= 0 || dotScale > 1) {\n                throw new Error(\"Scale should be in range (0, 1).\")\n            }\n\n            // Leave room for margin\n            _oContext.save();\n            _oContext.translate(margin, margin);\n\n            var _bkgCanvas = document.createElement(\"canvas\");\n            _bkgCanvas.width = size;\n            _bkgCanvas.height = size;\n            var _bContext = _bkgCanvas.getContext(\"2d\");\n\n            var _maskCanvas = undefined;\n            var _mContext = undefined;\n\n            if (_htOption.gifBackground !== undefined) {\n                var gif = new GIF(_htOption.gifBackground);\n                // console.log(_htOption.gifBackground);\n                // console.log(gif);\n                if (!gif.raw.hasImages) {\n                    throw new Error(\"An invalid gif has been selected as the background.\")\n                }\n                gifBackground = gif;\n                gifFrames = gif.decompressFrames(true);\n                // console.log(gifFrames);\n                if (_htOption.autoColor) {\n                    var r = 0,\n                        g = 0,\n                        b = 0;\n                    var count = 0;\n                    for (var i = 0; i < gifFrames[0].colorTable.length; i++) {\n                        var c = gifFrames[0].colorTable[i];\n                        if (c[0] > 200 || c[1] > 200 || c[2] > 200) continue;\n                        if (c[0] === 0 && c[1] === 0 && c[2] === 0) continue;\n                        count++;\n                        r += c[0];\n                        g += c[1];\n                        b += c[2];\n                    }\n\n                    r = ~~(r / count);\n                    g = ~~(g / count);\n                    b = ~~(b / count);\n                    // console.log(\"rgb(\" + r + \", \" + g + \", \" + b + \")\");\n                    _htOption.colorDark = \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n                }\n            } else if (_htOption.backgroundImage !== undefined) {\n                if (_htOption.autoColor) {\n                    var avgRGB = getAverageRGB(_htOption.backgroundImage);\n                    _htOption.colorDark = \"rgb(\" + avgRGB.r + \", \" + avgRGB.g + \", \" + avgRGB.b + \")\";\n                }\n\n                if (_htOption.maskedDots) {\n                    _maskCanvas = document.createElement(\"canvas\");\n                    _maskCanvas.width = size;\n                    _maskCanvas.height = size;\n                    _mContext = _maskCanvas.getContext(\"2d\");\n                    /*\n                     _mContext.drawImage(_htOption.backgroundImage,\n                     0, 0, _htOption.backgroundImage.width, _htOption.backgroundImage.height,\n                     whiteMargin ? 0 : -margin, whiteMargin ? 0 : -margin, whiteMargin ? viewportSize : size, whiteMargin ? viewportSize : size);\n                     */\n                    _mContext.drawImage(_htOption.backgroundImage,\n                        0, 0, _htOption.backgroundImage.width, _htOption.backgroundImage.height,\n                        0, 0, size, size);\n\n                    _bContext.rect(0, 0, size, size);\n                    _bContext.fillStyle = \"#ffffff\";\n                    _bContext.fill();\n                } else {\n                    /*\n                     _bContext.drawImage(_htOption.backgroundImage,\n                     0, 0, _htOption.backgroundImage.width, _htOption.backgroundImage.height,\n                     whiteMargin ? 0 : -margin, whiteMargin ? 0 : -margin, whiteMargin ? viewportSize : size, whiteMargin ? viewportSize : size);\n                     */\n                    _bContext.drawImage(_htOption.backgroundImage,\n                        0, 0, _htOption.backgroundImage.width, _htOption.backgroundImage.height,\n                        0, 0, size, size);\n                    _bContext.rect(0, 0, size, size);\n                    _bContext.fillStyle = backgroundDimming;\n                    _bContext.fill();\n                }\n            } else {\n                _bContext.rect(0, 0, size, size);\n                _bContext.fillStyle = \"#ffffff\";\n                _bContext.fill();\n            }\n\n            if (_htOption.binarize) {\n                _htOption.colorDark = \"#000000\";\n                _htOption.colorLight = \"#FFFFFF\";\n            }\n\n            var agnPatternCenter = QRUtil.getPatternPosition(oQRCode.typeNumber);\n\n            var xyOffset = (1 - dotScale) * 0.5;\n            for (var row = 0; row < nCount; row++) {\n                for (var col = 0; col < nCount; col++) {\n                    var bIsDark = oQRCode.isDark(row, col);\n\n                    // var isBlkPosCtr = ((col < 8 && (row < 8 || row >= nCount - 8)) || (col >= nCount - 8 && row < 8) || (col < nCount - 4 && col >= nCount - 4 - 5 && row < nCount - 4 && row >= nCount - 4 - 5));\n                    var isBlkPosCtr = ((col < 8 && (row < 8 || row >= nCount - 8)) || (col >= nCount - 8 && row < 8));\n                    var isBlkPos = ((col < 7 && (row < 7 || row >= nCount - 7)) || (col >= nCount - 7 && row < 7));\n                    var bProtected = (row === 6 || col === 6 || isBlkPosCtr);\n\n                    for (var i = 0; i < agnPatternCenter.length - 1; i++) {\n                        bProtected = bProtected || (row >= agnPatternCenter[i] - 2 && row <= agnPatternCenter[i] + 2 && col >= agnPatternCenter[i] - 2 && col <= agnPatternCenter[i] + 2);\n                    }\n\n                    var nLeft = col * nSize + (bProtected ? 0 : (xyOffset * nSize));\n                    var nTop = row * nSize + (bProtected ? 0 : (xyOffset * nSize));\n                    _oContext.strokeStyle = bIsDark ? _htOption.colorDark : _htOption.colorLight;\n                    _oContext.lineWidth = 0.5;\n                    _oContext.fillStyle = bIsDark ? _htOption.colorDark : \"rgba(255, 255, 255, 0.6)\"; //_htOption.colorLight;\n                    if (agnPatternCenter.length === 0) {\n                        // if align pattern list is empty, then it means that we don't need to leave room for the align patterns\n                        if (!bProtected)\n                            _fillRectWithMask(_oContext, nLeft, nTop, (bProtected ? (isBlkPosCtr ? 1 : 1) : dotScale) * nSize, (bProtected ? (isBlkPosCtr ? 1 : 1) : dotScale) * nSize, _maskCanvas, bIsDark);\n                    } else {\n                        var inAgnRange = ((col < nCount - 4 && col >= nCount - 4 - 5 && row < nCount - 4 && row >= nCount - 4 - 5));\n                        if (!bProtected && !inAgnRange)\n                            _fillRectWithMask(_oContext, nLeft, nTop, (bProtected ? (isBlkPosCtr ? 1 : 1) : dotScale) * nSize, (bProtected ? (isBlkPosCtr ? 1 : 1) : dotScale) * nSize, _maskCanvas, bIsDark);\n                    }\n                }\n            }\n\n            // Draw POSITION protectors\n            var protectorStyle = \"rgba(255, 255, 255, 0.6)\";\n            _oContext.fillStyle = protectorStyle;\n            _oContext.fillRect(0, 0, 8 * nSize, 8 * nSize);\n            _oContext.fillRect(0, (nCount - 8) * nSize, 8 * nSize, 8 * nSize);\n            _oContext.fillRect((nCount - 8) * nSize, 0, 8 * nSize, 8 * nSize);\n            _oContext.fillRect(8 * nSize, 6 * nSize, (nCount - 8 - 8) * nSize, nSize);\n            _oContext.fillRect(6 * nSize, 8 * nSize, nSize, (nCount - 8 - 8) * nSize);\n\n            // Draw ALIGN protectors\n            var edgeCenter = agnPatternCenter[agnPatternCenter.length - 1];\n            for (var i = 0; i < agnPatternCenter.length; i++) {\n                for (var j = 0; j < agnPatternCenter.length; j++) {\n                    var agnX = agnPatternCenter[j];\n                    var agnY = agnPatternCenter[i];\n                    if (agnX === 6 && (agnY === 6 || agnY === edgeCenter)) {\n                        continue;\n                    } else if (agnY === 6 && (agnX === 6 || agnX === edgeCenter)) {\n                        continue;\n                    } else if (agnX !== 6 && agnX !== edgeCenter && agnY !== 6 && agnY !== edgeCenter) {\n                        _drawAlignProtector(_oContext, agnX, agnY, nSize, nSize);\n                    } else {\n                        _drawAlignProtector(_oContext, agnX, agnY, nSize, nSize);\n                    }\n                    // console.log(\"agnX=\" + agnX + \", agnY=\" + agnX);\n                }\n            }\n\n            // Draw POSITION patterns\n            _oContext.fillStyle = _htOption.colorDark;\n            _oContext.fillRect(0, 0, 7 * nSize, nSize);\n            _oContext.fillRect((nCount - 7) * nSize, 0, 7 * nSize, nSize);\n            _oContext.fillRect(0, 6 * nSize, 7 * nSize, nSize);\n            _oContext.fillRect((nCount - 7) * nSize, 6 * nSize, 7 * nSize, nSize);\n            _oContext.fillRect(0, (nCount - 7) * nSize, 7 * nSize, nSize);\n            _oContext.fillRect(0, (nCount - 7 + 6) * nSize, 7 * nSize, nSize);\n            _oContext.fillRect(0, 0, nSize, 7 * nSize);\n            _oContext.fillRect(6 * nSize, 0, nSize, 7 * nSize);\n            _oContext.fillRect((nCount - 7) * nSize, 0, nSize, 7 * nSize);\n            _oContext.fillRect((nCount - 7 + 6) * nSize, 0, nSize, 7 * nSize);\n            _oContext.fillRect(0, (nCount - 7) * nSize, nSize, 7 * nSize);\n            _oContext.fillRect(6 * nSize, (nCount - 7) * nSize, nSize, 7 * nSize);\n\n            _oContext.fillRect(2 * nSize, 2 * nSize, 3 * nSize, 3 * nSize);\n            _oContext.fillRect((nCount - 7 + 2) * nSize, 2 * nSize, 3 * nSize, 3 * nSize);\n            _oContext.fillRect(2 * nSize, (nCount - 7 + 2) * nSize, 3 * nSize, 3 * nSize);\n\n            for (var i = 0; i < nCount - 8; i += 2) {\n                _oContext.fillRect((8 + i) * nSize, 6 * nSize, nSize, nSize);\n                _oContext.fillRect(6 * nSize, (8 + i) * nSize, nSize, nSize);\n            }\n            for (var i = 0; i < agnPatternCenter.length; i++) {\n                for (var j = 0; j < agnPatternCenter.length; j++) {\n                    var agnX = agnPatternCenter[j];\n                    var agnY = agnPatternCenter[i];\n                    if (agnX === 6 && (agnY === 6 || agnY === edgeCenter)) {\n                        continue;\n                    } else if (agnY === 6 && (agnX === 6 || agnX === edgeCenter)) {\n                        continue;\n                    } else if (agnX !== 6 && agnX !== edgeCenter && agnY !== 6 && agnY !== edgeCenter) {\n                        _oContext.fillStyle = \"rgba(0, 0, 0, .2)\";\n                        _drawAlign(_oContext, agnX, agnY, nSize, nSize);\n                    } else {\n                        _oContext.fillStyle = _htOption.colorDark;\n                        _drawAlign(_oContext, agnX, agnY, nSize, nSize);\n                    }\n                }\n            }\n\n            // Fill the margin\n            if (whiteMargin) {\n                _oContext.fillStyle = '#FFFFFF';\n                _oContext.fillRect(-margin, -margin, size, margin);\n                _oContext.fillRect(-margin, viewportSize, size, margin);\n                _oContext.fillRect(viewportSize, -margin, margin, size);\n                _oContext.fillRect(-margin, -margin, margin, size);\n            }\n\n            if (_htOption.logoImage !== undefined) {\n                var logoScale = _htOption.logoScale;\n                var logoMargin = _htOption.logoMargin;\n                var logoCornerRadius = _htOption.logoCornerRadius;\n                if (logoScale <= 0 || logoScale >= 1.0) {\n                    logoScale = 0.2;\n                }\n                if (logoMargin < 0) {\n                    logoMargin = 0;\n                }\n                if (logoCornerRadius < 0) {\n                    logoCornerRadius = 0;\n                }\n\n                _oContext.restore();\n\n                var logoSize = viewportSize * logoScale;\n                var x = 0.5 * (size - logoSize);\n                var y = x;\n\n                _oContext.fillStyle = '#FFFFFF';\n                _oContext.save();\n                _prepareRoundedCornerClip(_oContext, x - logoMargin, y - logoMargin, logoSize + 2 * logoMargin, logoSize + 2 * logoMargin, logoCornerRadius);\n                _oContext.clip();\n                _oContext.fill();\n                _oContext.restore();\n\n                _oContext.save();\n                _prepareRoundedCornerClip(_oContext, x, y, logoSize, logoSize, logoCornerRadius);\n                _oContext.clip();\n                _oContext.drawImage(_htOption.logoImage, x, y, logoSize, logoSize);\n                _oContext.restore();\n            }\n\n            if (gifBackground === undefined) {\n                // Swap and merge the foreground and the background\n                _bContext.drawImage(_tCanvas, 0, 0, size, size);\n                _oContext.drawImage(_bkgCanvas, -margin, -margin, size, size);\n\n                // Binarize the final image\n                if (_htOption.binarize) {\n                    var pixels = _oContext.getImageData(0, 0, size, size);\n                    var threshold = 128;\n                    if (parseInt(_htOption.binarizeThreshold) > 0 && parseInt(_htOption.binarizeThreshold) < 255) {\n                        threshold = parseInt(_htOption.binarizeThreshold);\n                    }\n                    for (var i = 0; i < pixels.data.length; i += 4) {\n                        // rgb in [0, 255]\n                        var R = pixels.data[i];\n                        var G = pixels.data[i + 1];\n                        var B = pixels.data[i + 2];\n                        var sum = _greyscale(R, G, B);\n                        if (sum > threshold) {\n                            pixels.data[i] = 255;\n                            pixels.data[i + 1] = 255;\n                            pixels.data[i + 2] = 255;\n                        } else {\n                            pixels.data[i] = 0;\n                            pixels.data[i + 1] = 0;\n                            pixels.data[i + 2] = 0;\n                        }\n                    }\n                    _oContext.putImageData(pixels, 0, 0);\n                }\n\n                // Scale the final image\n                var _fCanvas = document.createElement(\"canvas\");\n                var _fContext = _fCanvas.getContext(\"2d\");\n                _fCanvas.width = rawSize;\n                _fCanvas.height = rawSize;\n                _fContext.drawImage(_tCanvas, 0, 0, rawSize, rawSize);\n                this._elCanvas = _fCanvas;\n\n                // Painting work completed\n                this._bIsPainted = true;\n                if (this._callback !== undefined) {\n                    this._callback(this._elCanvas.toDataURL());\n                }\n                if (this._bindElement !== undefined) {\n                    try {\n                        var el = document.getElementById(this._bindElement);\n                        if (el.nodeName === 'IMG') {\n                            el.src = this._elCanvas.toDataURL();\n                        } else {\n                            var elStyle = el.style;\n                            elStyle[\"background-image\"] = 'url(' + this._elCanvas.toDataURL() + ')';\n                            elStyle[\"background-size\"] = 'contain';\n                            elStyle[\"background-repeat\"] = 'no-repeat';\n                        }\n                    } catch (e) {\n                        console.error(e);\n                    }\n                }\n            } else {\n                var gifOutput;\n\n                // Reuse in order to apply the patch\n                var rawBkg;\n                var hRawBkg;\n\n                var patchCanvas = document.createElement(\"canvas\");\n                var hPatchCanvas = patchCanvas.getContext(\"2d\");\n                var patchData;\n\n                gifFrames.forEach(function (frame) {\n                    // console.log(frame);\n                    if (gifOutput === undefined) {\n                        gifOutput = new GIFE({\n                            workers: 4,\n                            quality: 10,\n                            width: rawSize,\n                            height: rawSize\n                        });\n                    }\n\n                    if (rawBkg === undefined) {\n                        rawBkg = document.createElement(\"canvas\");\n                        hRawBkg = rawBkg.getContext(\"2d\");\n                        rawBkg.width = frame.dims.width;\n                        rawBkg.height = frame.dims.height;\n                        hRawBkg.rect(0, 0, rawBkg.width, rawBkg.height);\n                        hRawBkg.fillStyle = \"#ffffff\";\n                        hRawBkg.fill();\n                        // console.log(rawBkg);\n                    }\n\n                    if (!patchData || frame.dims.width !== patchCanvas.width || frame.dims.height !== patchCanvas.height) {\n                        patchCanvas.width = frame.dims.width;\n                        patchCanvas.height = frame.dims.height;\n                        patchData = hPatchCanvas.createImageData(frame.dims.width, frame.dims.height);\n                    }\n\n                    patchData.data.set(frame.patch);\n                    hPatchCanvas.putImageData(patchData, 0, 0);\n\n                    hRawBkg.drawImage(patchCanvas, frame.dims.left, frame.dims.top);\n\n                    var stdCanvas = document.createElement(\"canvas\");\n                    stdCanvas.width = size;\n                    stdCanvas.height = size;\n                    var hStdCanvas = stdCanvas.getContext(\"2d\");\n\n                    hStdCanvas.drawImage(rawBkg, 0, 0, size, size);\n                    hStdCanvas.drawImage(_tCanvas, 0, 0, size, size);\n\n                    // Scale the final image\n                    var _fCanvas = document.createElement(\"canvas\");\n                    var _fContext = _fCanvas.getContext(\"2d\");\n                    _fCanvas.width = rawSize;\n                    _fCanvas.height = rawSize;\n                    _fContext.drawImage(stdCanvas, 0, 0, rawSize, rawSize);\n                    // console.log(_fContext);\n                    gifOutput.addFrame(_fContext, {copy: true, delay: frame.delay});\n                });\n\n                if (gifOutput === undefined) {\n                    throw new Error(\"No frames.\")\n                }\n                var ref = this;\n                gifOutput.on('finished', function (blob) {\n                    // Painting work completed\n                    var r = new FileReader();\n                    r.onload = function (e) {\n                        var data = e.target.result;\n                        ref._bIsPainted = true;\n                        if (ref._callback !== undefined) {\n                            ref._callback(data);\n                        }\n                        if (ref._bindElement !== undefined) {\n                            try {\n                                var el = document.getElementById(ref._bindElement);\n                                if (el.nodeName === 'IMG') {\n                                    el.src = data;\n                                } else {\n                                    var elStyle = el.style;\n                                    elStyle[\"background-image\"] = 'url(' + data + ')';\n                                    elStyle[\"background-size\"] = 'contain';\n                                    elStyle[\"background-repeat\"] = 'no-repeat';\n                                }\n                            } catch (e) {\n                                console.error(e);\n                            }\n                        }\n                    };\n                    r.readAsDataURL(blob);\n                });\n\n                gifOutput.render();\n            }\n\n\n        };\n\n        Drawing.prototype.makeImage = function () {\n            if (this._bIsPainted) {\n                _safeSetDataURI.call(this, _onMakeImage);\n            }\n        };\n\n        Drawing.prototype.isPainted = function () {\n            return this._bIsPainted;\n        };\n\n        Drawing.prototype.clear = function () {\n            this._oContext.clearRect(0, 0, this._elCanvas.width, this._elCanvas.height);\n            this._bIsPainted = false;\n        };\n\n        Drawing.prototype.round = function (nNumber) {\n            if (!nNumber) {\n                return nNumber;\n            }\n\n            return Math.floor(nNumber * 1000) / 1000;\n        };\n\n        return Drawing;\n    })();\n\n    // Utilities and useful helpers\n\n    function _getUTF8Length(sText) {\n        var replacedText = encodeURI(sText).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n        return replacedText.length + (replacedText.length != sText ? 3 : 0);\n    }\n\n    function _prepareRoundedCornerClip(ctx, x, y, w, h, r) {\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.arcTo(x + w, y, x + w, y + h, r);\n        ctx.arcTo(x + w, y + h, x, y + h, r);\n        ctx.arcTo(x, y + h, x, y, r);\n        ctx.arcTo(x, y, x + w, y, r);\n        ctx.closePath();\n    }\n\n    function _setPixel(imageData, p, r, g, b, a) {\n        index = p * 4;\n        imageData.data[index + 0] = r;\n        imageData.data[index + 1] = g;\n        imageData.data[index + 2] = b;\n        imageData.data[index + 3] = a;\n    }\n\n    function _greyscale(r, g, b) {\n        return 0.30 * r + 0.59 * b + 0.11 * b;\n    }\n\n    function _fillRectWithMask(canvas, x, y, w, h, maskSrc, bDark) {\n        //console.log(\"maskSrc=\" + maskSrc);\n        if (maskSrc === undefined) {\n            canvas.fillRect(x, y, w, h);\n        } else {\n            canvas.drawImage(maskSrc, x, y, w, h, x, y, w, h);\n            var fill_ = canvas.fillStyle;\n            canvas.fillStyle = bDark ? \"rgba(0, 0, 0, .5)\" : \"rgba(255, 255, 255, .7)\";\n            canvas.fillRect(x, y, w, h);\n            canvas.fillStyle = fill_;\n        }\n    }\n\n    function _drawAlignProtector(context, centerX, centerY, nWidth, nHeight) {\n        context.clearRect((centerX - 2) * nWidth, (centerY - 2) * nHeight, 5 * nWidth, 5 * nHeight);\n        context.fillRect((centerX - 2) * nWidth, (centerY - 2) * nHeight, 5 * nWidth, 5 * nHeight);\n    }\n\n    function _drawAlign(context, centerX, centerY, nWidth, nHeight) {\n        context.fillRect((centerX - 2) * nWidth, (centerY - 2) * nHeight, nWidth, 4 * nHeight);\n        context.fillRect((centerX + 2) * nWidth, (centerY - 2 + 1) * nHeight, nWidth, 4 * nHeight);\n        context.fillRect((centerX - 2 + 1) * nWidth, (centerY - 2) * nHeight, 4 * nWidth, nHeight);\n        context.fillRect((centerX - 2) * nWidth, (centerY + 2) * nHeight, 4 * nWidth, nHeight);\n        context.fillRect(centerX * nWidth, centerY * nHeight, nWidth, nHeight);\n    }\n\n    AwesomeQRCode = function () {\n    };\n\n    AwesomeQRCode.prototype.create = function (vOption) {\n        this._htOption = {\n            size: 800,\n            margin: 20,\n            typeNumber: 4,\n            colorDark: \"#000000\",\n            colorLight: \"#ffffff\",\n            correctLevel: QRErrorCorrectLevel.M,\n            backgroundImage: undefined,\n            backgroundDimming: 'rgba(0,0,0,0)',\n            logoImage: undefined,\n            logoScale: 0.2,\n            logoMargin: 6,\n            logoCornerRadius: 8,\n            whiteMargin: true,\n            dotScale: 0.35,\n            maskedDots: false,\n            autoColor: true,\n            binarize: false,\n            binarizeThreshold: 128,\n            gifBackground: undefined,\n            callback: undefined,\n            bindElement: undefined\n        };\n\n        if (typeof vOption === 'string') {\n            vOption = {\n                text: vOption\n            };\n        }\n\n        if (vOption) {\n            for (var i in vOption) {\n                this._htOption[i] = vOption[i];\n            }\n        }\n\n        this._oQRCode = null;\n        this._oDrawing = new Drawing(this._htOption);\n\n        if (this._htOption.text) {\n            this.makeCode(this._htOption.text);\n        }\n    };\n\n    function _getTypeNumber(sText, nCorrectLevel) {\n        var nType = 1;\n        var length = _getUTF8Length(sText);\n\n        for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n            var nLimit = 0;\n\n            switch (nCorrectLevel) {\n                case QRErrorCorrectLevel.L:\n                    nLimit = QRCodeLimitLength[i][0];\n                    break;\n                case QRErrorCorrectLevel.M:\n                    nLimit = QRCodeLimitLength[i][1];\n                    break;\n                case QRErrorCorrectLevel.Q:\n                    nLimit = QRCodeLimitLength[i][2];\n                    break;\n                case QRErrorCorrectLevel.H:\n                    nLimit = QRCodeLimitLength[i][3];\n                    break;\n            }\n\n            if (length <= nLimit) {\n                break;\n            } else {\n                nType++;\n            }\n        }\n\n        if (nType > QRCodeLimitLength.length) {\n            throw new Error(\"Too long data\");\n        }\n\n        return nType;\n    }\n\n    AwesomeQRCode.prototype.makeCode = function (sText) {\n        //this._oQRCode = new QRCodeModel(_getTypeNumber(sText, this._htOption.correctLevel), this._htOption.correctLevel);\n        this._oQRCode = new QRCodeModel(-1, this._htOption.correctLevel);\n        this._oQRCode.addData(sText);\n        this._oQRCode.make();\n        this._oDrawing.draw(this._oQRCode);\n        this.makeImage();\n    };\n\n    AwesomeQRCode.prototype.makeImage = function () {\n        if (typeof this._oDrawing.makeImage == \"function\") {\n            this._oDrawing.makeImage();\n        }\n    };\n\n    AwesomeQRCode.prototype.clear = function () {\n        this._oDrawing.clear();\n    };\n\n    AwesomeQRCode.CorrectLevel = QRErrorCorrectLevel;\n\n    function getAverageRGB(imgEl) {\n\n        var blockSize = 5,\n            defaultRGB = {\n                r: 0,\n                g: 0,\n                b: 0\n            },\n            canvas = document.createElement('canvas'),\n            context = canvas.getContext && canvas.getContext('2d'),\n            data, width, height,\n            i = -4,\n            length,\n            rgb = {\n                r: 0,\n                g: 0,\n                b: 0\n            },\n            count = 0;\n\n        if (!context) {\n            return defaultRGB;\n        }\n\n        height = canvas.height = imgEl.naturalHeight || imgEl.offsetHeight || imgEl.height;\n        width = canvas.width = imgEl.naturalWidth || imgEl.offsetWidth || imgEl.width;\n\n        context.drawImage(imgEl, 0, 0);\n\n        try {\n            data = context.getImageData(0, 0, width, height);\n        } catch (e) {\n            return defaultRGB;\n        }\n\n        length = data.data.length;\n\n        while ((i += blockSize * 4) < length) {\n            if (data.data[i] > 200 || data.data[i + 1] > 200 || data.data[i + 2] > 200) continue;\n            ++count;\n            rgb.r += data.data[i];\n            rgb.g += data.data[i + 1];\n            rgb.b += data.data[i + 2];\n        }\n\n        rgb.r = ~~(rgb.r / count);\n        rgb.g = ~~(rgb.g / count);\n        rgb.b = ~~(rgb.b / count);\n\n        return rgb;\n    }\n})();\n\n(function (window, factory) {\n    if (true) {\n        module.exports = factory;\n    } else {}\n})(this, function () {\n    return new AwesomeQRCode();\n});\n\n\n/***/ })\n\n}]);"]}